"use strict";const V1={ComponentBuilder:"ComponentBuilder",SavingService:"SavingService",TagsService:"TagsService",InputCreator:"InputCreator",FileService:"FileService",InputCollector:"InputCollector",ValueExtractor:"ValueExtractor"},Bt={reset:"\x1B[0m",bold:"\x1B[1m",gray:"\x1B[90m",purple:"\x1B[35m"},Q1={dev:"\x1B[44m\x1B[37m",info:"\x1B[42m\x1B[30m",warn:"\x1B[43m\x1B[30m",error:"\x1B[41m\x1B[37m"},X1={dev:"🛠",info:"ℹ️",warn:"⚠️",error:"❌"},Uu={},js=["\x1B[36m","\x1B[33m","\x1B[32m","\x1B[34m","\x1B[31m","\x1B[95m","\x1B[96m","\x1B[92m","\x1B[93m"];let nl=0;function K1(e){return Uu[e]||(Uu[e]=js[nl%js.length],nl++),Uu[e]}class go{constructor(i,r){this.logs=[],this.serviceConfig={},this.getConfig=i,this.prefix=r??"global"}setServiceConfig(i){this.serviceConfig=i}addLog(i,r,o){const a={timestamp:new Date,level:i,service:this.prefix,message:r,meta:o};this.logs.push(a);const l=this.getConfig?.()??{};if(!((this.serviceConfig[this.prefix]??{})[i]??(i!=="dev"||l?.devLogging)))return;const p=a.timestamp.toISOString().split("T")[1].split(".")[0],d=`${Bt.gray}${p}${Bt.reset}`,x=`${Bt.purple}[PJ]${Bt.reset}`,w=`${K1(this.prefix)}${Bt.bold}[${this.prefix}]${Bt.reset}`,S=`${Q1[i]}[${X1[i]} ${i.toUpperCase().padEnd(5)}]${Bt.reset}`,y=`${d} ${x}${w}${S} ${r}`;try{i==="warn"?console.warn(y,o??""):i==="error"?console.error(y,o??""):console.log(y,o??"")}catch{console.log(`${d} ${x}[${this.prefix}][${i.toUpperCase()}] ${r}`,o??"")}}dev(i,r){this.addLog("dev",i,r)}info(i,r){this.addLog("info",i,r)}warn(i,r){this.addLog("warn",i,r)}error(i,r){this.addLog("error",i,r)}getAllLogs(){return this.logs}withPrefix(i){return new go(this.getConfig,i)}}let rt;function J1(e,i){rt=i}const Z1=new go(()=>rt);function vt(e){return Z1.withPrefix(e)}const bt=V1,Hn=app;var _i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var nx=kr.exports,el;function ex(){return el||(el=1,(function(e,i){(function(){var r,o="4.17.21",a=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",h="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",d=500,x="__lodash_placeholder__",w=1,S=2,y=4,z=1,N=2,J=1,M=2,ln=4,W=8,pn=16,sn=32,O=64,tn=128,_n=256,cn=512,wn=30,U="...",q=800,vn=16,En=1,on=2,Dn=3,Sn=1/0,Mn=9007199254740991,Ie=17976931348623157e292,v=NaN,Tn=4294967295,Ee=Tn-1,k=Tn>>>1,ie=[["ary",tn],["bind",J],["bindKey",M],["curry",W],["curryRight",pn],["flip",cn],["partial",sn],["partialRight",O],["rearg",_n]],Xn="[object Arguments]",Pn="[object Array]",St="[object AsyncFunction]",Kn="[object Boolean]",ge="[object Date]",it="[object DOMException]",Ye="[object Error]",Wt="[object Function]",Ar="[object GeneratorFunction]",ue="[object Map]",ut="[object Number]",Tr="[object Null]",me="[object Object]",Pr="[object Promise]",Fr="[object Proxy]",ot="[object RegExp]",oe="[object Set]",Ct="[object String]",$t="[object Symbol]",Pi="[object Undefined]",It="[object WeakMap]",T="[object WeakSet]",R="[object ArrayBuffer]",Y="[object DataView]",nn="[object Float32Array]",fn="[object Float64Array]",Yn="[object Int8Array]",Ae="[object Int16Array]",ae="[object Int32Array]",Ge="[object Uint8Array]",Ve="[object Uint8ClampedArray]",Nn="[object Uint16Array]",Be="[object Uint32Array]",Te=/\b__p \+= '';/g,pc=/\b(__p \+=) '' \+/g,gc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,So=/&(?:amp|lt|gt|quot|#39);/g,Co=/[&<>"']/g,mc=RegExp(So.source),xc=RegExp(Co.source),wc=/<%-([\s\S]+?)%>/g,yc=/<%([\s\S]+?)%>/g,Io=/<%=([\s\S]+?)%>/g,_c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vc=/^\w*$/,bc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fi=/[\\^$.*+?()[\]{}|]/g,kc=RegExp(Fi.source),Li=/^\s+/,Sc=/\s/,Cc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ic=/\{\n\/\* \[wrapped with (.+)\] \*/,Ec=/,? & /,Ac=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tc=/[()=,{}\[\]\/\s]/,Pc=/\\(\\)?/g,Fc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Eo=/\w*$/,Lc=/^[-+]0x[0-9a-f]+$/i,Oc=/^0b[01]+$/i,Mc=/^\[object .+?Constructor\]$/,Rc=/^0o[0-7]+$/i,Bc=/^(?:0|[1-9]\d*)$/,Dc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lr=/($^)/,zc=/['\n\r\u2028\u2029\\]/g,Or="\\ud800-\\udfff",Nc="\\u0300-\\u036f",Wc="\\ufe20-\\ufe2f",$c="\\u20d0-\\u20ff",Ao=Nc+Wc+$c,To="\\u2700-\\u27bf",Po="a-z\\xdf-\\xf6\\xf8-\\xff",qc="\\xac\\xb1\\xd7\\xf7",Uc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Hc="\\u2000-\\u206f",Yc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fo="A-Z\\xc0-\\xd6\\xd8-\\xde",Lo="\\ufe0e\\ufe0f",Oo=qc+Uc+Hc+Yc,Oi="['’]",Gc="["+Or+"]",Mo="["+Oo+"]",Mr="["+Ao+"]",Ro="\\d+",Vc="["+To+"]",Bo="["+Po+"]",Do="[^"+Or+Oo+Ro+To+Po+Fo+"]",Mi="\\ud83c[\\udffb-\\udfff]",Qc="(?:"+Mr+"|"+Mi+")",zo="[^"+Or+"]",Ri="(?:\\ud83c[\\udde6-\\uddff]){2}",Bi="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+Fo+"]",No="\\u200d",Wo="(?:"+Bo+"|"+Do+")",Xc="(?:"+qt+"|"+Do+")",$o="(?:"+Oi+"(?:d|ll|m|re|s|t|ve))?",qo="(?:"+Oi+"(?:D|LL|M|RE|S|T|VE))?",Uo=Qc+"?",Ho="["+Lo+"]?",Kc="(?:"+No+"(?:"+[zo,Ri,Bi].join("|")+")"+Ho+Uo+")*",Jc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yo=Ho+Uo+Kc,jc="(?:"+[Vc,Ri,Bi].join("|")+")"+Yo,nf="(?:"+[zo+Mr+"?",Mr,Ri,Bi,Gc].join("|")+")",ef=RegExp(Oi,"g"),tf=RegExp(Mr,"g"),Di=RegExp(Mi+"(?="+Mi+")|"+nf+Yo,"g"),rf=RegExp([qt+"?"+Bo+"+"+$o+"(?="+[Mo,qt,"$"].join("|")+")",Xc+"+"+qo+"(?="+[Mo,qt+Wo,"$"].join("|")+")",qt+"?"+Wo+"+"+$o,qt+"+"+qo,Zc,Jc,Ro,jc].join("|"),"g"),uf=RegExp("["+No+Or+Ao+Lo+"]"),of=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,af=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],sf=-1,Cn={};Cn[nn]=Cn[fn]=Cn[Yn]=Cn[Ae]=Cn[ae]=Cn[Ge]=Cn[Ve]=Cn[Nn]=Cn[Be]=!0,Cn[Xn]=Cn[Pn]=Cn[R]=Cn[Kn]=Cn[Y]=Cn[ge]=Cn[Ye]=Cn[Wt]=Cn[ue]=Cn[ut]=Cn[me]=Cn[ot]=Cn[oe]=Cn[Ct]=Cn[It]=!1;var bn={};bn[Xn]=bn[Pn]=bn[R]=bn[Y]=bn[Kn]=bn[ge]=bn[nn]=bn[fn]=bn[Yn]=bn[Ae]=bn[ae]=bn[ue]=bn[ut]=bn[me]=bn[ot]=bn[oe]=bn[Ct]=bn[$t]=bn[Ge]=bn[Ve]=bn[Nn]=bn[Be]=!0,bn[Ye]=bn[Wt]=bn[It]=!1;var lf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},cf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ff={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},hf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},df=parseFloat,pf=parseInt,Go=typeof _i=="object"&&_i&&_i.Object===Object&&_i,gf=typeof self=="object"&&self&&self.Object===Object&&self,Wn=Go||gf||Function("return this")(),zi=i&&!i.nodeType&&i,Et=zi&&!0&&e&&!e.nodeType&&e,Vo=Et&&Et.exports===zi,Ni=Vo&&Go.process,xe=(function(){try{var C=Et&&Et.require&&Et.require("util").types;return C||Ni&&Ni.binding&&Ni.binding("util")}catch{}})(),Qo=xe&&xe.isArrayBuffer,Xo=xe&&xe.isDate,Ko=xe&&xe.isMap,Jo=xe&&xe.isRegExp,Zo=xe&&xe.isSet,jo=xe&&xe.isTypedArray;function se(C,A,E){switch(E.length){case 0:return C.call(A);case 1:return C.call(A,E[0]);case 2:return C.call(A,E[0],E[1]);case 3:return C.call(A,E[0],E[1],E[2])}return C.apply(A,E)}function mf(C,A,E,D){for(var X=-1,hn=C==null?0:C.length;++X<hn;){var Rn=C[X];A(D,Rn,E(Rn),C)}return D}function we(C,A){for(var E=-1,D=C==null?0:C.length;++E<D&&A(C[E],E,C)!==!1;);return C}function xf(C,A){for(var E=C==null?0:C.length;E--&&A(C[E],E,C)!==!1;);return C}function na(C,A){for(var E=-1,D=C==null?0:C.length;++E<D;)if(!A(C[E],E,C))return!1;return!0}function at(C,A){for(var E=-1,D=C==null?0:C.length,X=0,hn=[];++E<D;){var Rn=C[E];A(Rn,E,C)&&(hn[X++]=Rn)}return hn}function Rr(C,A){var E=C==null?0:C.length;return!!E&&Ut(C,A,0)>-1}function Wi(C,A,E){for(var D=-1,X=C==null?0:C.length;++D<X;)if(E(A,C[D]))return!0;return!1}function In(C,A){for(var E=-1,D=C==null?0:C.length,X=Array(D);++E<D;)X[E]=A(C[E],E,C);return X}function st(C,A){for(var E=-1,D=A.length,X=C.length;++E<D;)C[X+E]=A[E];return C}function $i(C,A,E,D){var X=-1,hn=C==null?0:C.length;for(D&&hn&&(E=C[++X]);++X<hn;)E=A(E,C[X],X,C);return E}function wf(C,A,E,D){var X=C==null?0:C.length;for(D&&X&&(E=C[--X]);X--;)E=A(E,C[X],X,C);return E}function qi(C,A){for(var E=-1,D=C==null?0:C.length;++E<D;)if(A(C[E],E,C))return!0;return!1}var yf=Ui("length");function _f(C){return C.split("")}function vf(C){return C.match(Ac)||[]}function ea(C,A,E){var D;return E(C,function(X,hn,Rn){if(A(X,hn,Rn))return D=hn,!1}),D}function Br(C,A,E,D){for(var X=C.length,hn=E+(D?1:-1);D?hn--:++hn<X;)if(A(C[hn],hn,C))return hn;return-1}function Ut(C,A,E){return A===A?Of(C,A,E):Br(C,ta,E)}function bf(C,A,E,D){for(var X=E-1,hn=C.length;++X<hn;)if(D(C[X],A))return X;return-1}function ta(C){return C!==C}function ra(C,A){var E=C==null?0:C.length;return E?Yi(C,A)/E:v}function Ui(C){return function(A){return A==null?r:A[C]}}function Hi(C){return function(A){return C==null?r:C[A]}}function ia(C,A,E,D,X){return X(C,function(hn,Rn,yn){E=D?(D=!1,hn):A(E,hn,Rn,yn)}),E}function kf(C,A){var E=C.length;for(C.sort(A);E--;)C[E]=C[E].value;return C}function Yi(C,A){for(var E,D=-1,X=C.length;++D<X;){var hn=A(C[D]);hn!==r&&(E=E===r?hn:E+hn)}return E}function Gi(C,A){for(var E=-1,D=Array(C);++E<C;)D[E]=A(E);return D}function Sf(C,A){return In(A,function(E){return[E,C[E]]})}function ua(C){return C&&C.slice(0,la(C)+1).replace(Li,"")}function le(C){return function(A){return C(A)}}function Vi(C,A){return In(A,function(E){return C[E]})}function ur(C,A){return C.has(A)}function oa(C,A){for(var E=-1,D=C.length;++E<D&&Ut(A,C[E],0)>-1;);return E}function aa(C,A){for(var E=C.length;E--&&Ut(A,C[E],0)>-1;);return E}function Cf(C,A){for(var E=C.length,D=0;E--;)C[E]===A&&++D;return D}var If=Hi(lf),Ef=Hi(cf);function Af(C){return"\\"+hf[C]}function Tf(C,A){return C==null?r:C[A]}function Ht(C){return uf.test(C)}function Pf(C){return of.test(C)}function Ff(C){for(var A,E=[];!(A=C.next()).done;)E.push(A.value);return E}function Qi(C){var A=-1,E=Array(C.size);return C.forEach(function(D,X){E[++A]=[X,D]}),E}function sa(C,A){return function(E){return C(A(E))}}function lt(C,A){for(var E=-1,D=C.length,X=0,hn=[];++E<D;){var Rn=C[E];(Rn===A||Rn===x)&&(C[E]=x,hn[X++]=E)}return hn}function Dr(C){var A=-1,E=Array(C.size);return C.forEach(function(D){E[++A]=D}),E}function Lf(C){var A=-1,E=Array(C.size);return C.forEach(function(D){E[++A]=[D,D]}),E}function Of(C,A,E){for(var D=E-1,X=C.length;++D<X;)if(C[D]===A)return D;return-1}function Mf(C,A,E){for(var D=E+1;D--;)if(C[D]===A)return D;return D}function Yt(C){return Ht(C)?Bf(C):yf(C)}function Pe(C){return Ht(C)?Df(C):_f(C)}function la(C){for(var A=C.length;A--&&Sc.test(C.charAt(A)););return A}var Rf=Hi(ff);function Bf(C){for(var A=Di.lastIndex=0;Di.test(C);)++A;return A}function Df(C){return C.match(Di)||[]}function zf(C){return C.match(rf)||[]}var Nf=(function C(A){A=A==null?Wn:Gt.defaults(Wn.Object(),A,Gt.pick(Wn,af));var E=A.Array,D=A.Date,X=A.Error,hn=A.Function,Rn=A.Math,yn=A.Object,Xi=A.RegExp,Wf=A.String,ye=A.TypeError,zr=E.prototype,$f=hn.prototype,Vt=yn.prototype,Nr=A["__core-js_shared__"],Wr=$f.toString,mn=Vt.hasOwnProperty,qf=0,ca=(function(){var n=/[^.]+$/.exec(Nr&&Nr.keys&&Nr.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})(),$r=Vt.toString,Uf=Wr.call(yn),Hf=Wn._,Yf=Xi("^"+Wr.call(mn).replace(Fi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qr=Vo?A.Buffer:r,ct=A.Symbol,Ur=A.Uint8Array,fa=qr?qr.allocUnsafe:r,Hr=sa(yn.getPrototypeOf,yn),ha=yn.create,da=Vt.propertyIsEnumerable,Yr=zr.splice,pa=ct?ct.isConcatSpreadable:r,or=ct?ct.iterator:r,At=ct?ct.toStringTag:r,Gr=(function(){try{var n=Ot(yn,"defineProperty");return n({},"",{}),n}catch{}})(),Gf=A.clearTimeout!==Wn.clearTimeout&&A.clearTimeout,Vf=D&&D.now!==Wn.Date.now&&D.now,Qf=A.setTimeout!==Wn.setTimeout&&A.setTimeout,Vr=Rn.ceil,Qr=Rn.floor,Ki=yn.getOwnPropertySymbols,Xf=qr?qr.isBuffer:r,ga=A.isFinite,Kf=zr.join,Jf=sa(yn.keys,yn),Bn=Rn.max,qn=Rn.min,Zf=D.now,jf=A.parseInt,ma=Rn.random,nh=zr.reverse,Ji=Ot(A,"DataView"),ar=Ot(A,"Map"),Zi=Ot(A,"Promise"),Qt=Ot(A,"Set"),sr=Ot(A,"WeakMap"),lr=Ot(yn,"create"),Xr=sr&&new sr,Xt={},eh=Mt(Ji),th=Mt(ar),rh=Mt(Zi),ih=Mt(Qt),uh=Mt(sr),Kr=ct?ct.prototype:r,cr=Kr?Kr.valueOf:r,xa=Kr?Kr.toString:r;function g(n){if(Fn(n)&&!K(n)&&!(n instanceof un)){if(n instanceof _e)return n;if(mn.call(n,"__wrapped__"))return ws(n)}return new _e(n)}var Kt=(function(){function n(){}return function(t){if(!An(t))return{};if(ha)return ha(t);n.prototype=t;var u=new n;return n.prototype=r,u}})();function Jr(){}function _e(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}g.templateSettings={escape:wc,evaluate:yc,interpolate:Io,variable:"",imports:{_:g}},g.prototype=Jr.prototype,g.prototype.constructor=g,_e.prototype=Kt(Jr.prototype),_e.prototype.constructor=_e;function un(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tn,this.__views__=[]}function oh(){var n=new un(this.__wrapped__);return n.__actions__=Jn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Jn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Jn(this.__views__),n}function ah(){if(this.__filtered__){var n=new un(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function sh(){var n=this.__wrapped__.value(),t=this.__dir__,u=K(n),s=t<0,f=u?n.length:0,m=_d(0,f,this.__views__),_=m.start,b=m.end,I=b-_,P=s?b:_-1,F=this.__iteratees__,L=F.length,B=0,$=qn(I,this.__takeCount__);if(!u||!s&&f==I&&$==I)return $a(n,this.__actions__);var G=[];n:for(;I--&&B<$;){P+=t;for(var j=-1,V=n[P];++j<L;){var rn=F[j],an=rn.iteratee,he=rn.type,Qn=an(V);if(he==on)V=Qn;else if(!Qn){if(he==En)continue n;break n}}G[B++]=V}return G}un.prototype=Kt(Jr.prototype),un.prototype.constructor=un;function Tt(n){var t=-1,u=n==null?0:n.length;for(this.clear();++t<u;){var s=n[t];this.set(s[0],s[1])}}function lh(){this.__data__=lr?lr(null):{},this.size=0}function ch(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function fh(n){var t=this.__data__;if(lr){var u=t[n];return u===p?r:u}return mn.call(t,n)?t[n]:r}function hh(n){var t=this.__data__;return lr?t[n]!==r:mn.call(t,n)}function dh(n,t){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=lr&&t===r?p:t,this}Tt.prototype.clear=lh,Tt.prototype.delete=ch,Tt.prototype.get=fh,Tt.prototype.has=hh,Tt.prototype.set=dh;function Qe(n){var t=-1,u=n==null?0:n.length;for(this.clear();++t<u;){var s=n[t];this.set(s[0],s[1])}}function ph(){this.__data__=[],this.size=0}function gh(n){var t=this.__data__,u=Zr(t,n);if(u<0)return!1;var s=t.length-1;return u==s?t.pop():Yr.call(t,u,1),--this.size,!0}function mh(n){var t=this.__data__,u=Zr(t,n);return u<0?r:t[u][1]}function xh(n){return Zr(this.__data__,n)>-1}function wh(n,t){var u=this.__data__,s=Zr(u,n);return s<0?(++this.size,u.push([n,t])):u[s][1]=t,this}Qe.prototype.clear=ph,Qe.prototype.delete=gh,Qe.prototype.get=mh,Qe.prototype.has=xh,Qe.prototype.set=wh;function Xe(n){var t=-1,u=n==null?0:n.length;for(this.clear();++t<u;){var s=n[t];this.set(s[0],s[1])}}function yh(){this.size=0,this.__data__={hash:new Tt,map:new(ar||Qe),string:new Tt}}function _h(n){var t=ci(this,n).delete(n);return this.size-=t?1:0,t}function vh(n){return ci(this,n).get(n)}function bh(n){return ci(this,n).has(n)}function kh(n,t){var u=ci(this,n),s=u.size;return u.set(n,t),this.size+=u.size==s?0:1,this}Xe.prototype.clear=yh,Xe.prototype.delete=_h,Xe.prototype.get=vh,Xe.prototype.has=bh,Xe.prototype.set=kh;function Pt(n){var t=-1,u=n==null?0:n.length;for(this.__data__=new Xe;++t<u;)this.add(n[t])}function Sh(n){return this.__data__.set(n,p),this}function Ch(n){return this.__data__.has(n)}Pt.prototype.add=Pt.prototype.push=Sh,Pt.prototype.has=Ch;function Fe(n){var t=this.__data__=new Qe(n);this.size=t.size}function Ih(){this.__data__=new Qe,this.size=0}function Eh(n){var t=this.__data__,u=t.delete(n);return this.size=t.size,u}function Ah(n){return this.__data__.get(n)}function Th(n){return this.__data__.has(n)}function Ph(n,t){var u=this.__data__;if(u instanceof Qe){var s=u.__data__;if(!ar||s.length<a-1)return s.push([n,t]),this.size=++u.size,this;u=this.__data__=new Xe(s)}return u.set(n,t),this.size=u.size,this}Fe.prototype.clear=Ih,Fe.prototype.delete=Eh,Fe.prototype.get=Ah,Fe.prototype.has=Th,Fe.prototype.set=Ph;function wa(n,t){var u=K(n),s=!u&&Rt(n),f=!u&&!s&&gt(n),m=!u&&!s&&!f&&nr(n),_=u||s||f||m,b=_?Gi(n.length,Wf):[],I=b.length;for(var P in n)(t||mn.call(n,P))&&!(_&&(P=="length"||f&&(P=="offset"||P=="parent")||m&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||je(P,I)))&&b.push(P);return b}function ya(n){var t=n.length;return t?n[lu(0,t-1)]:r}function Fh(n,t){return fi(Jn(n),Ft(t,0,n.length))}function Lh(n){return fi(Jn(n))}function ji(n,t,u){(u!==r&&!Le(n[t],u)||u===r&&!(t in n))&&Ke(n,t,u)}function fr(n,t,u){var s=n[t];(!(mn.call(n,t)&&Le(s,u))||u===r&&!(t in n))&&Ke(n,t,u)}function Zr(n,t){for(var u=n.length;u--;)if(Le(n[u][0],t))return u;return-1}function Oh(n,t,u,s){return ft(n,function(f,m,_){t(s,f,u(f),_)}),s}function _a(n,t){return n&&ze(t,zn(t),n)}function Mh(n,t){return n&&ze(t,jn(t),n)}function Ke(n,t,u){t=="__proto__"&&Gr?Gr(n,t,{configurable:!0,enumerable:!0,value:u,writable:!0}):n[t]=u}function nu(n,t){for(var u=-1,s=t.length,f=E(s),m=n==null;++u<s;)f[u]=m?r:Mu(n,t[u]);return f}function Ft(n,t,u){return n===n&&(u!==r&&(n=n<=u?n:u),t!==r&&(n=n>=t?n:t)),n}function ve(n,t,u,s,f,m){var _,b=t&w,I=t&S,P=t&y;if(u&&(_=f?u(n,s,f,m):u(n)),_!==r)return _;if(!An(n))return n;var F=K(n);if(F){if(_=bd(n),!b)return Jn(n,_)}else{var L=Un(n),B=L==Wt||L==Ar;if(gt(n))return Ha(n,b);if(L==me||L==Xn||B&&!f){if(_=I||B?{}:ls(n),!b)return I?fd(n,Mh(_,n)):cd(n,_a(_,n))}else{if(!bn[L])return f?n:{};_=kd(n,L,b)}}m||(m=new Fe);var $=m.get(n);if($)return $;m.set(n,_),zs(n)?n.forEach(function(V){_.add(ve(V,t,u,V,n,m))}):Bs(n)&&n.forEach(function(V,rn){_.set(rn,ve(V,t,u,rn,n,m))});var G=P?I?_u:yu:I?jn:zn,j=F?r:G(n);return we(j||n,function(V,rn){j&&(rn=V,V=n[rn]),fr(_,rn,ve(V,t,u,rn,n,m))}),_}function Rh(n){var t=zn(n);return function(u){return va(u,n,t)}}function va(n,t,u){var s=u.length;if(n==null)return!s;for(n=yn(n);s--;){var f=u[s],m=t[f],_=n[f];if(_===r&&!(f in n)||!m(_))return!1}return!0}function ba(n,t,u){if(typeof n!="function")throw new ye(c);return wr(function(){n.apply(r,u)},t)}function hr(n,t,u,s){var f=-1,m=Rr,_=!0,b=n.length,I=[],P=t.length;if(!b)return I;u&&(t=In(t,le(u))),s?(m=Wi,_=!1):t.length>=a&&(m=ur,_=!1,t=new Pt(t));n:for(;++f<b;){var F=n[f],L=u==null?F:u(F);if(F=s||F!==0?F:0,_&&L===L){for(var B=P;B--;)if(t[B]===L)continue n;I.push(F)}else m(t,L,s)||I.push(F)}return I}var ft=Xa(De),ka=Xa(tu,!0);function Bh(n,t){var u=!0;return ft(n,function(s,f,m){return u=!!t(s,f,m),u}),u}function jr(n,t,u){for(var s=-1,f=n.length;++s<f;){var m=n[s],_=t(m);if(_!=null&&(b===r?_===_&&!fe(_):u(_,b)))var b=_,I=m}return I}function Dh(n,t,u,s){var f=n.length;for(u=Z(u),u<0&&(u=-u>f?0:f+u),s=s===r||s>f?f:Z(s),s<0&&(s+=f),s=u>s?0:Ws(s);u<s;)n[u++]=t;return n}function Sa(n,t){var u=[];return ft(n,function(s,f,m){t(s,f,m)&&u.push(s)}),u}function $n(n,t,u,s,f){var m=-1,_=n.length;for(u||(u=Cd),f||(f=[]);++m<_;){var b=n[m];t>0&&u(b)?t>1?$n(b,t-1,u,s,f):st(f,b):s||(f[f.length]=b)}return f}var eu=Ka(),Ca=Ka(!0);function De(n,t){return n&&eu(n,t,zn)}function tu(n,t){return n&&Ca(n,t,zn)}function ni(n,t){return at(t,function(u){return nt(n[u])})}function Lt(n,t){t=dt(t,n);for(var u=0,s=t.length;n!=null&&u<s;)n=n[Ne(t[u++])];return u&&u==s?n:r}function Ia(n,t,u){var s=t(n);return K(n)?s:st(s,u(n))}function Gn(n){return n==null?n===r?Pi:Tr:At&&At in yn(n)?yd(n):Ld(n)}function ru(n,t){return n>t}function zh(n,t){return n!=null&&mn.call(n,t)}function Nh(n,t){return n!=null&&t in yn(n)}function Wh(n,t,u){return n>=qn(t,u)&&n<Bn(t,u)}function iu(n,t,u){for(var s=u?Wi:Rr,f=n[0].length,m=n.length,_=m,b=E(m),I=1/0,P=[];_--;){var F=n[_];_&&t&&(F=In(F,le(t))),I=qn(F.length,I),b[_]=!u&&(t||f>=120&&F.length>=120)?new Pt(_&&F):r}F=n[0];var L=-1,B=b[0];n:for(;++L<f&&P.length<I;){var $=F[L],G=t?t($):$;if($=u||$!==0?$:0,!(B?ur(B,G):s(P,G,u))){for(_=m;--_;){var j=b[_];if(!(j?ur(j,G):s(n[_],G,u)))continue n}B&&B.push(G),P.push($)}}return P}function $h(n,t,u,s){return De(n,function(f,m,_){t(s,u(f),m,_)}),s}function dr(n,t,u){t=dt(t,n),n=ds(n,t);var s=n==null?n:n[Ne(ke(t))];return s==null?r:se(s,n,u)}function Ea(n){return Fn(n)&&Gn(n)==Xn}function qh(n){return Fn(n)&&Gn(n)==R}function Uh(n){return Fn(n)&&Gn(n)==ge}function pr(n,t,u,s,f){return n===t?!0:n==null||t==null||!Fn(n)&&!Fn(t)?n!==n&&t!==t:Hh(n,t,u,s,pr,f)}function Hh(n,t,u,s,f,m){var _=K(n),b=K(t),I=_?Pn:Un(n),P=b?Pn:Un(t);I=I==Xn?me:I,P=P==Xn?me:P;var F=I==me,L=P==me,B=I==P;if(B&&gt(n)){if(!gt(t))return!1;_=!0,F=!1}if(B&&!F)return m||(m=new Fe),_||nr(n)?os(n,t,u,s,f,m):xd(n,t,I,u,s,f,m);if(!(u&z)){var $=F&&mn.call(n,"__wrapped__"),G=L&&mn.call(t,"__wrapped__");if($||G){var j=$?n.value():n,V=G?t.value():t;return m||(m=new Fe),f(j,V,u,s,m)}}return B?(m||(m=new Fe),wd(n,t,u,s,f,m)):!1}function Yh(n){return Fn(n)&&Un(n)==ue}function uu(n,t,u,s){var f=u.length,m=f,_=!s;if(n==null)return!m;for(n=yn(n);f--;){var b=u[f];if(_&&b[2]?b[1]!==n[b[0]]:!(b[0]in n))return!1}for(;++f<m;){b=u[f];var I=b[0],P=n[I],F=b[1];if(_&&b[2]){if(P===r&&!(I in n))return!1}else{var L=new Fe;if(s)var B=s(P,F,I,n,t,L);if(!(B===r?pr(F,P,z|N,s,L):B))return!1}}return!0}function Aa(n){if(!An(n)||Ed(n))return!1;var t=nt(n)?Yf:Mc;return t.test(Mt(n))}function Gh(n){return Fn(n)&&Gn(n)==ot}function Vh(n){return Fn(n)&&Un(n)==oe}function Qh(n){return Fn(n)&&xi(n.length)&&!!Cn[Gn(n)]}function Ta(n){return typeof n=="function"?n:n==null?ne:typeof n=="object"?K(n)?La(n[0],n[1]):Fa(n):Js(n)}function ou(n){if(!xr(n))return Jf(n);var t=[];for(var u in yn(n))mn.call(n,u)&&u!="constructor"&&t.push(u);return t}function Xh(n){if(!An(n))return Fd(n);var t=xr(n),u=[];for(var s in n)s=="constructor"&&(t||!mn.call(n,s))||u.push(s);return u}function au(n,t){return n<t}function Pa(n,t){var u=-1,s=Zn(n)?E(n.length):[];return ft(n,function(f,m,_){s[++u]=t(f,m,_)}),s}function Fa(n){var t=bu(n);return t.length==1&&t[0][2]?fs(t[0][0],t[0][1]):function(u){return u===n||uu(u,n,t)}}function La(n,t){return Su(n)&&cs(t)?fs(Ne(n),t):function(u){var s=Mu(u,n);return s===r&&s===t?Ru(u,n):pr(t,s,z|N)}}function ei(n,t,u,s,f){n!==t&&eu(t,function(m,_){if(f||(f=new Fe),An(m))Kh(n,t,_,u,ei,s,f);else{var b=s?s(Iu(n,_),m,_+"",n,t,f):r;b===r&&(b=m),ji(n,_,b)}},jn)}function Kh(n,t,u,s,f,m,_){var b=Iu(n,u),I=Iu(t,u),P=_.get(I);if(P){ji(n,u,P);return}var F=m?m(b,I,u+"",n,t,_):r,L=F===r;if(L){var B=K(I),$=!B&&gt(I),G=!B&&!$&&nr(I);F=I,B||$||G?K(b)?F=b:Ln(b)?F=Jn(b):$?(L=!1,F=Ha(I,!0)):G?(L=!1,F=Ya(I,!0)):F=[]:yr(I)||Rt(I)?(F=b,Rt(b)?F=$s(b):(!An(b)||nt(b))&&(F=ls(I))):L=!1}L&&(_.set(I,F),f(F,I,s,m,_),_.delete(I)),ji(n,u,F)}function Oa(n,t){var u=n.length;if(u)return t+=t<0?u:0,je(t,u)?n[t]:r}function Ma(n,t,u){t.length?t=In(t,function(m){return K(m)?function(_){return Lt(_,m.length===1?m[0]:m)}:m}):t=[ne];var s=-1;t=In(t,le(H()));var f=Pa(n,function(m,_,b){var I=In(t,function(P){return P(m)});return{criteria:I,index:++s,value:m}});return kf(f,function(m,_){return ld(m,_,u)})}function Jh(n,t){return Ra(n,t,function(u,s){return Ru(n,s)})}function Ra(n,t,u){for(var s=-1,f=t.length,m={};++s<f;){var _=t[s],b=Lt(n,_);u(b,_)&&gr(m,dt(_,n),b)}return m}function Zh(n){return function(t){return Lt(t,n)}}function su(n,t,u,s){var f=s?bf:Ut,m=-1,_=t.length,b=n;for(n===t&&(t=Jn(t)),u&&(b=In(n,le(u)));++m<_;)for(var I=0,P=t[m],F=u?u(P):P;(I=f(b,F,I,s))>-1;)b!==n&&Yr.call(b,I,1),Yr.call(n,I,1);return n}function Ba(n,t){for(var u=n?t.length:0,s=u-1;u--;){var f=t[u];if(u==s||f!==m){var m=f;je(f)?Yr.call(n,f,1):hu(n,f)}}return n}function lu(n,t){return n+Qr(ma()*(t-n+1))}function jh(n,t,u,s){for(var f=-1,m=Bn(Vr((t-n)/(u||1)),0),_=E(m);m--;)_[s?m:++f]=n,n+=u;return _}function cu(n,t){var u="";if(!n||t<1||t>Mn)return u;do t%2&&(u+=n),t=Qr(t/2),t&&(n+=n);while(t);return u}function en(n,t){return Eu(hs(n,t,ne),n+"")}function nd(n){return ya(er(n))}function ed(n,t){var u=er(n);return fi(u,Ft(t,0,u.length))}function gr(n,t,u,s){if(!An(n))return n;t=dt(t,n);for(var f=-1,m=t.length,_=m-1,b=n;b!=null&&++f<m;){var I=Ne(t[f]),P=u;if(I==="__proto__"||I==="constructor"||I==="prototype")return n;if(f!=_){var F=b[I];P=s?s(F,I,b):r,P===r&&(P=An(F)?F:je(t[f+1])?[]:{})}fr(b,I,P),b=b[I]}return n}var Da=Xr?function(n,t){return Xr.set(n,t),n}:ne,td=Gr?function(n,t){return Gr(n,"toString",{configurable:!0,enumerable:!1,value:Du(t),writable:!0})}:ne;function rd(n){return fi(er(n))}function be(n,t,u){var s=-1,f=n.length;t<0&&(t=-t>f?0:f+t),u=u>f?f:u,u<0&&(u+=f),f=t>u?0:u-t>>>0,t>>>=0;for(var m=E(f);++s<f;)m[s]=n[s+t];return m}function id(n,t){var u;return ft(n,function(s,f,m){return u=t(s,f,m),!u}),!!u}function ti(n,t,u){var s=0,f=n==null?s:n.length;if(typeof t=="number"&&t===t&&f<=k){for(;s<f;){var m=s+f>>>1,_=n[m];_!==null&&!fe(_)&&(u?_<=t:_<t)?s=m+1:f=m}return f}return fu(n,t,ne,u)}function fu(n,t,u,s){var f=0,m=n==null?0:n.length;if(m===0)return 0;t=u(t);for(var _=t!==t,b=t===null,I=fe(t),P=t===r;f<m;){var F=Qr((f+m)/2),L=u(n[F]),B=L!==r,$=L===null,G=L===L,j=fe(L);if(_)var V=s||G;else P?V=G&&(s||B):b?V=G&&B&&(s||!$):I?V=G&&B&&!$&&(s||!j):$||j?V=!1:V=s?L<=t:L<t;V?f=F+1:m=F}return qn(m,Ee)}function za(n,t){for(var u=-1,s=n.length,f=0,m=[];++u<s;){var _=n[u],b=t?t(_):_;if(!u||!Le(b,I)){var I=b;m[f++]=_===0?0:_}}return m}function Na(n){return typeof n=="number"?n:fe(n)?v:+n}function ce(n){if(typeof n=="string")return n;if(K(n))return In(n,ce)+"";if(fe(n))return xa?xa.call(n):"";var t=n+"";return t=="0"&&1/n==-Sn?"-0":t}function ht(n,t,u){var s=-1,f=Rr,m=n.length,_=!0,b=[],I=b;if(u)_=!1,f=Wi;else if(m>=a){var P=t?null:gd(n);if(P)return Dr(P);_=!1,f=ur,I=new Pt}else I=t?[]:b;n:for(;++s<m;){var F=n[s],L=t?t(F):F;if(F=u||F!==0?F:0,_&&L===L){for(var B=I.length;B--;)if(I[B]===L)continue n;t&&I.push(L),b.push(F)}else f(I,L,u)||(I!==b&&I.push(L),b.push(F))}return b}function hu(n,t){return t=dt(t,n),n=ds(n,t),n==null||delete n[Ne(ke(t))]}function Wa(n,t,u,s){return gr(n,t,u(Lt(n,t)),s)}function ri(n,t,u,s){for(var f=n.length,m=s?f:-1;(s?m--:++m<f)&&t(n[m],m,n););return u?be(n,s?0:m,s?m+1:f):be(n,s?m+1:0,s?f:m)}function $a(n,t){var u=n;return u instanceof un&&(u=u.value()),$i(t,function(s,f){return f.func.apply(f.thisArg,st([s],f.args))},u)}function du(n,t,u){var s=n.length;if(s<2)return s?ht(n[0]):[];for(var f=-1,m=E(s);++f<s;)for(var _=n[f],b=-1;++b<s;)b!=f&&(m[f]=hr(m[f]||_,n[b],t,u));return ht($n(m,1),t,u)}function qa(n,t,u){for(var s=-1,f=n.length,m=t.length,_={};++s<f;){var b=s<m?t[s]:r;u(_,n[s],b)}return _}function pu(n){return Ln(n)?n:[]}function gu(n){return typeof n=="function"?n:ne}function dt(n,t){return K(n)?n:Su(n,t)?[n]:xs(gn(n))}var ud=en;function pt(n,t,u){var s=n.length;return u=u===r?s:u,!t&&u>=s?n:be(n,t,u)}var Ua=Gf||function(n){return Wn.clearTimeout(n)};function Ha(n,t){if(t)return n.slice();var u=n.length,s=fa?fa(u):new n.constructor(u);return n.copy(s),s}function mu(n){var t=new n.constructor(n.byteLength);return new Ur(t).set(new Ur(n)),t}function od(n,t){var u=t?mu(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.byteLength)}function ad(n){var t=new n.constructor(n.source,Eo.exec(n));return t.lastIndex=n.lastIndex,t}function sd(n){return cr?yn(cr.call(n)):{}}function Ya(n,t){var u=t?mu(n.buffer):n.buffer;return new n.constructor(u,n.byteOffset,n.length)}function Ga(n,t){if(n!==t){var u=n!==r,s=n===null,f=n===n,m=fe(n),_=t!==r,b=t===null,I=t===t,P=fe(t);if(!b&&!P&&!m&&n>t||m&&_&&I&&!b&&!P||s&&_&&I||!u&&I||!f)return 1;if(!s&&!m&&!P&&n<t||P&&u&&f&&!s&&!m||b&&u&&f||!_&&f||!I)return-1}return 0}function ld(n,t,u){for(var s=-1,f=n.criteria,m=t.criteria,_=f.length,b=u.length;++s<_;){var I=Ga(f[s],m[s]);if(I){if(s>=b)return I;var P=u[s];return I*(P=="desc"?-1:1)}}return n.index-t.index}function Va(n,t,u,s){for(var f=-1,m=n.length,_=u.length,b=-1,I=t.length,P=Bn(m-_,0),F=E(I+P),L=!s;++b<I;)F[b]=t[b];for(;++f<_;)(L||f<m)&&(F[u[f]]=n[f]);for(;P--;)F[b++]=n[f++];return F}function Qa(n,t,u,s){for(var f=-1,m=n.length,_=-1,b=u.length,I=-1,P=t.length,F=Bn(m-b,0),L=E(F+P),B=!s;++f<F;)L[f]=n[f];for(var $=f;++I<P;)L[$+I]=t[I];for(;++_<b;)(B||f<m)&&(L[$+u[_]]=n[f++]);return L}function Jn(n,t){var u=-1,s=n.length;for(t||(t=E(s));++u<s;)t[u]=n[u];return t}function ze(n,t,u,s){var f=!u;u||(u={});for(var m=-1,_=t.length;++m<_;){var b=t[m],I=s?s(u[b],n[b],b,u,n):r;I===r&&(I=n[b]),f?Ke(u,b,I):fr(u,b,I)}return u}function cd(n,t){return ze(n,ku(n),t)}function fd(n,t){return ze(n,as(n),t)}function ii(n,t){return function(u,s){var f=K(u)?mf:Oh,m=t?t():{};return f(u,n,H(s,2),m)}}function Jt(n){return en(function(t,u){var s=-1,f=u.length,m=f>1?u[f-1]:r,_=f>2?u[2]:r;for(m=n.length>3&&typeof m=="function"?(f--,m):r,_&&Vn(u[0],u[1],_)&&(m=f<3?r:m,f=1),t=yn(t);++s<f;){var b=u[s];b&&n(t,b,s,m)}return t})}function Xa(n,t){return function(u,s){if(u==null)return u;if(!Zn(u))return n(u,s);for(var f=u.length,m=t?f:-1,_=yn(u);(t?m--:++m<f)&&s(_[m],m,_)!==!1;);return u}}function Ka(n){return function(t,u,s){for(var f=-1,m=yn(t),_=s(t),b=_.length;b--;){var I=_[n?b:++f];if(u(m[I],I,m)===!1)break}return t}}function hd(n,t,u){var s=t&J,f=mr(n);function m(){var _=this&&this!==Wn&&this instanceof m?f:n;return _.apply(s?u:this,arguments)}return m}function Ja(n){return function(t){t=gn(t);var u=Ht(t)?Pe(t):r,s=u?u[0]:t.charAt(0),f=u?pt(u,1).join(""):t.slice(1);return s[n]()+f}}function Zt(n){return function(t){return $i(Xs(Qs(t).replace(ef,"")),n,"")}}function mr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var u=Kt(n.prototype),s=n.apply(u,t);return An(s)?s:u}}function dd(n,t,u){var s=mr(n);function f(){for(var m=arguments.length,_=E(m),b=m,I=jt(f);b--;)_[b]=arguments[b];var P=m<3&&_[0]!==I&&_[m-1]!==I?[]:lt(_,I);if(m-=P.length,m<u)return ts(n,t,ui,f.placeholder,r,_,P,r,r,u-m);var F=this&&this!==Wn&&this instanceof f?s:n;return se(F,this,_)}return f}function Za(n){return function(t,u,s){var f=yn(t);if(!Zn(t)){var m=H(u,3);t=zn(t),u=function(b){return m(f[b],b,f)}}var _=n(t,u,s);return _>-1?f[m?t[_]:_]:r}}function ja(n){return Ze(function(t){var u=t.length,s=u,f=_e.prototype.thru;for(n&&t.reverse();s--;){var m=t[s];if(typeof m!="function")throw new ye(c);if(f&&!_&&li(m)=="wrapper")var _=new _e([],!0)}for(s=_?s:u;++s<u;){m=t[s];var b=li(m),I=b=="wrapper"?vu(m):r;I&&Cu(I[0])&&I[1]==(tn|W|sn|_n)&&!I[4].length&&I[9]==1?_=_[li(I[0])].apply(_,I[3]):_=m.length==1&&Cu(m)?_[b]():_.thru(m)}return function(){var P=arguments,F=P[0];if(_&&P.length==1&&K(F))return _.plant(F).value();for(var L=0,B=u?t[L].apply(this,P):F;++L<u;)B=t[L].call(this,B);return B}})}function ui(n,t,u,s,f,m,_,b,I,P){var F=t&tn,L=t&J,B=t&M,$=t&(W|pn),G=t&cn,j=B?r:mr(n);function V(){for(var rn=arguments.length,an=E(rn),he=rn;he--;)an[he]=arguments[he];if($)var Qn=jt(V),de=Cf(an,Qn);if(s&&(an=Va(an,s,f,$)),m&&(an=Qa(an,m,_,$)),rn-=de,$&&rn<P){var On=lt(an,Qn);return ts(n,t,ui,V.placeholder,u,an,On,b,I,P-rn)}var Oe=L?u:this,tt=B?Oe[n]:n;return rn=an.length,b?an=Od(an,b):G&&rn>1&&an.reverse(),F&&I<rn&&(an.length=I),this&&this!==Wn&&this instanceof V&&(tt=j||mr(tt)),tt.apply(Oe,an)}return V}function ns(n,t){return function(u,s){return $h(u,n,t(s),{})}}function oi(n,t){return function(u,s){var f;if(u===r&&s===r)return t;if(u!==r&&(f=u),s!==r){if(f===r)return s;typeof u=="string"||typeof s=="string"?(u=ce(u),s=ce(s)):(u=Na(u),s=Na(s)),f=n(u,s)}return f}}function xu(n){return Ze(function(t){return t=In(t,le(H())),en(function(u){var s=this;return n(t,function(f){return se(f,s,u)})})})}function ai(n,t){t=t===r?" ":ce(t);var u=t.length;if(u<2)return u?cu(t,n):t;var s=cu(t,Vr(n/Yt(t)));return Ht(t)?pt(Pe(s),0,n).join(""):s.slice(0,n)}function pd(n,t,u,s){var f=t&J,m=mr(n);function _(){for(var b=-1,I=arguments.length,P=-1,F=s.length,L=E(F+I),B=this&&this!==Wn&&this instanceof _?m:n;++P<F;)L[P]=s[P];for(;I--;)L[P++]=arguments[++b];return se(B,f?u:this,L)}return _}function es(n){return function(t,u,s){return s&&typeof s!="number"&&Vn(t,u,s)&&(u=s=r),t=et(t),u===r?(u=t,t=0):u=et(u),s=s===r?t<u?1:-1:et(s),jh(t,u,s,n)}}function si(n){return function(t,u){return typeof t=="string"&&typeof u=="string"||(t=Se(t),u=Se(u)),n(t,u)}}function ts(n,t,u,s,f,m,_,b,I,P){var F=t&W,L=F?_:r,B=F?r:_,$=F?m:r,G=F?r:m;t|=F?sn:O,t&=~(F?O:sn),t&ln||(t&=-4);var j=[n,t,f,$,L,G,B,b,I,P],V=u.apply(r,j);return Cu(n)&&ps(V,j),V.placeholder=s,gs(V,n,t)}function wu(n){var t=Rn[n];return function(u,s){if(u=Se(u),s=s==null?0:qn(Z(s),292),s&&ga(u)){var f=(gn(u)+"e").split("e"),m=t(f[0]+"e"+(+f[1]+s));return f=(gn(m)+"e").split("e"),+(f[0]+"e"+(+f[1]-s))}return t(u)}}var gd=Qt&&1/Dr(new Qt([,-0]))[1]==Sn?function(n){return new Qt(n)}:Wu;function rs(n){return function(t){var u=Un(t);return u==ue?Qi(t):u==oe?Lf(t):Sf(t,n(t))}}function Je(n,t,u,s,f,m,_,b){var I=t&M;if(!I&&typeof n!="function")throw new ye(c);var P=s?s.length:0;if(P||(t&=-97,s=f=r),_=_===r?_:Bn(Z(_),0),b=b===r?b:Z(b),P-=f?f.length:0,t&O){var F=s,L=f;s=f=r}var B=I?r:vu(n),$=[n,t,u,s,f,F,L,m,_,b];if(B&&Pd($,B),n=$[0],t=$[1],u=$[2],s=$[3],f=$[4],b=$[9]=$[9]===r?I?0:n.length:Bn($[9]-P,0),!b&&t&(W|pn)&&(t&=-25),!t||t==J)var G=hd(n,t,u);else t==W||t==pn?G=dd(n,t,b):(t==sn||t==(J|sn))&&!f.length?G=pd(n,t,u,s):G=ui.apply(r,$);var j=B?Da:ps;return gs(j(G,$),n,t)}function is(n,t,u,s){return n===r||Le(n,Vt[u])&&!mn.call(s,u)?t:n}function us(n,t,u,s,f,m){return An(n)&&An(t)&&(m.set(t,n),ei(n,t,r,us,m),m.delete(t)),n}function md(n){return yr(n)?r:n}function os(n,t,u,s,f,m){var _=u&z,b=n.length,I=t.length;if(b!=I&&!(_&&I>b))return!1;var P=m.get(n),F=m.get(t);if(P&&F)return P==t&&F==n;var L=-1,B=!0,$=u&N?new Pt:r;for(m.set(n,t),m.set(t,n);++L<b;){var G=n[L],j=t[L];if(s)var V=_?s(j,G,L,t,n,m):s(G,j,L,n,t,m);if(V!==r){if(V)continue;B=!1;break}if($){if(!qi(t,function(rn,an){if(!ur($,an)&&(G===rn||f(G,rn,u,s,m)))return $.push(an)})){B=!1;break}}else if(!(G===j||f(G,j,u,s,m))){B=!1;break}}return m.delete(n),m.delete(t),B}function xd(n,t,u,s,f,m,_){switch(u){case Y:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case R:return!(n.byteLength!=t.byteLength||!m(new Ur(n),new Ur(t)));case Kn:case ge:case ut:return Le(+n,+t);case Ye:return n.name==t.name&&n.message==t.message;case ot:case Ct:return n==t+"";case ue:var b=Qi;case oe:var I=s&z;if(b||(b=Dr),n.size!=t.size&&!I)return!1;var P=_.get(n);if(P)return P==t;s|=N,_.set(n,t);var F=os(b(n),b(t),s,f,m,_);return _.delete(n),F;case $t:if(cr)return cr.call(n)==cr.call(t)}return!1}function wd(n,t,u,s,f,m){var _=u&z,b=yu(n),I=b.length,P=yu(t),F=P.length;if(I!=F&&!_)return!1;for(var L=I;L--;){var B=b[L];if(!(_?B in t:mn.call(t,B)))return!1}var $=m.get(n),G=m.get(t);if($&&G)return $==t&&G==n;var j=!0;m.set(n,t),m.set(t,n);for(var V=_;++L<I;){B=b[L];var rn=n[B],an=t[B];if(s)var he=_?s(an,rn,B,t,n,m):s(rn,an,B,n,t,m);if(!(he===r?rn===an||f(rn,an,u,s,m):he)){j=!1;break}V||(V=B=="constructor")}if(j&&!V){var Qn=n.constructor,de=t.constructor;Qn!=de&&"constructor"in n&&"constructor"in t&&!(typeof Qn=="function"&&Qn instanceof Qn&&typeof de=="function"&&de instanceof de)&&(j=!1)}return m.delete(n),m.delete(t),j}function Ze(n){return Eu(hs(n,r,vs),n+"")}function yu(n){return Ia(n,zn,ku)}function _u(n){return Ia(n,jn,as)}var vu=Xr?function(n){return Xr.get(n)}:Wu;function li(n){for(var t=n.name+"",u=Xt[t],s=mn.call(Xt,t)?u.length:0;s--;){var f=u[s],m=f.func;if(m==null||m==n)return f.name}return t}function jt(n){var t=mn.call(g,"placeholder")?g:n;return t.placeholder}function H(){var n=g.iteratee||zu;return n=n===zu?Ta:n,arguments.length?n(arguments[0],arguments[1]):n}function ci(n,t){var u=n.__data__;return Id(t)?u[typeof t=="string"?"string":"hash"]:u.map}function bu(n){for(var t=zn(n),u=t.length;u--;){var s=t[u],f=n[s];t[u]=[s,f,cs(f)]}return t}function Ot(n,t){var u=Tf(n,t);return Aa(u)?u:r}function yd(n){var t=mn.call(n,At),u=n[At];try{n[At]=r;var s=!0}catch{}var f=$r.call(n);return s&&(t?n[At]=u:delete n[At]),f}var ku=Ki?function(n){return n==null?[]:(n=yn(n),at(Ki(n),function(t){return da.call(n,t)}))}:$u,as=Ki?function(n){for(var t=[];n;)st(t,ku(n)),n=Hr(n);return t}:$u,Un=Gn;(Ji&&Un(new Ji(new ArrayBuffer(1)))!=Y||ar&&Un(new ar)!=ue||Zi&&Un(Zi.resolve())!=Pr||Qt&&Un(new Qt)!=oe||sr&&Un(new sr)!=It)&&(Un=function(n){var t=Gn(n),u=t==me?n.constructor:r,s=u?Mt(u):"";if(s)switch(s){case eh:return Y;case th:return ue;case rh:return Pr;case ih:return oe;case uh:return It}return t});function _d(n,t,u){for(var s=-1,f=u.length;++s<f;){var m=u[s],_=m.size;switch(m.type){case"drop":n+=_;break;case"dropRight":t-=_;break;case"take":t=qn(t,n+_);break;case"takeRight":n=Bn(n,t-_);break}}return{start:n,end:t}}function vd(n){var t=n.match(Ic);return t?t[1].split(Ec):[]}function ss(n,t,u){t=dt(t,n);for(var s=-1,f=t.length,m=!1;++s<f;){var _=Ne(t[s]);if(!(m=n!=null&&u(n,_)))break;n=n[_]}return m||++s!=f?m:(f=n==null?0:n.length,!!f&&xi(f)&&je(_,f)&&(K(n)||Rt(n)))}function bd(n){var t=n.length,u=new n.constructor(t);return t&&typeof n[0]=="string"&&mn.call(n,"index")&&(u.index=n.index,u.input=n.input),u}function ls(n){return typeof n.constructor=="function"&&!xr(n)?Kt(Hr(n)):{}}function kd(n,t,u){var s=n.constructor;switch(t){case R:return mu(n);case Kn:case ge:return new s(+n);case Y:return od(n,u);case nn:case fn:case Yn:case Ae:case ae:case Ge:case Ve:case Nn:case Be:return Ya(n,u);case ue:return new s;case ut:case Ct:return new s(n);case ot:return ad(n);case oe:return new s;case $t:return sd(n)}}function Sd(n,t){var u=t.length;if(!u)return n;var s=u-1;return t[s]=(u>1?"& ":"")+t[s],t=t.join(u>2?", ":" "),n.replace(Cc,`{
/* [wrapped with `+t+`] */
`)}function Cd(n){return K(n)||Rt(n)||!!(pa&&n&&n[pa])}function je(n,t){var u=typeof n;return t=t??Mn,!!t&&(u=="number"||u!="symbol"&&Bc.test(n))&&n>-1&&n%1==0&&n<t}function Vn(n,t,u){if(!An(u))return!1;var s=typeof t;return(s=="number"?Zn(u)&&je(t,u.length):s=="string"&&t in u)?Le(u[t],n):!1}function Su(n,t){if(K(n))return!1;var u=typeof n;return u=="number"||u=="symbol"||u=="boolean"||n==null||fe(n)?!0:vc.test(n)||!_c.test(n)||t!=null&&n in yn(t)}function Id(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function Cu(n){var t=li(n),u=g[t];if(typeof u!="function"||!(t in un.prototype))return!1;if(n===u)return!0;var s=vu(u);return!!s&&n===s[0]}function Ed(n){return!!ca&&ca in n}var Ad=Nr?nt:qu;function xr(n){var t=n&&n.constructor,u=typeof t=="function"&&t.prototype||Vt;return n===u}function cs(n){return n===n&&!An(n)}function fs(n,t){return function(u){return u==null?!1:u[n]===t&&(t!==r||n in yn(u))}}function Td(n){var t=gi(n,function(s){return u.size===d&&u.clear(),s}),u=t.cache;return t}function Pd(n,t){var u=n[1],s=t[1],f=u|s,m=f<(J|M|tn),_=s==tn&&u==W||s==tn&&u==_n&&n[7].length<=t[8]||s==(tn|_n)&&t[7].length<=t[8]&&u==W;if(!(m||_))return n;s&J&&(n[2]=t[2],f|=u&J?0:ln);var b=t[3];if(b){var I=n[3];n[3]=I?Va(I,b,t[4]):b,n[4]=I?lt(n[3],x):t[4]}return b=t[5],b&&(I=n[5],n[5]=I?Qa(I,b,t[6]):b,n[6]=I?lt(n[5],x):t[6]),b=t[7],b&&(n[7]=b),s&tn&&(n[8]=n[8]==null?t[8]:qn(n[8],t[8])),n[9]==null&&(n[9]=t[9]),n[0]=t[0],n[1]=f,n}function Fd(n){var t=[];if(n!=null)for(var u in yn(n))t.push(u);return t}function Ld(n){return $r.call(n)}function hs(n,t,u){return t=Bn(t===r?n.length-1:t,0),function(){for(var s=arguments,f=-1,m=Bn(s.length-t,0),_=E(m);++f<m;)_[f]=s[t+f];f=-1;for(var b=E(t+1);++f<t;)b[f]=s[f];return b[t]=u(_),se(n,this,b)}}function ds(n,t){return t.length<2?n:Lt(n,be(t,0,-1))}function Od(n,t){for(var u=n.length,s=qn(t.length,u),f=Jn(n);s--;){var m=t[s];n[s]=je(m,u)?f[m]:r}return n}function Iu(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}var ps=ms(Da),wr=Qf||function(n,t){return Wn.setTimeout(n,t)},Eu=ms(td);function gs(n,t,u){var s=t+"";return Eu(n,Sd(s,Md(vd(s),u)))}function ms(n){var t=0,u=0;return function(){var s=Zf(),f=vn-(s-u);if(u=s,f>0){if(++t>=q)return arguments[0]}else t=0;return n.apply(r,arguments)}}function fi(n,t){var u=-1,s=n.length,f=s-1;for(t=t===r?s:t;++u<t;){var m=lu(u,f),_=n[m];n[m]=n[u],n[u]=_}return n.length=t,n}var xs=Td(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(bc,function(u,s,f,m){t.push(f?m.replace(Pc,"$1"):s||u)}),t});function Ne(n){if(typeof n=="string"||fe(n))return n;var t=n+"";return t=="0"&&1/n==-Sn?"-0":t}function Mt(n){if(n!=null){try{return Wr.call(n)}catch{}try{return n+""}catch{}}return""}function Md(n,t){return we(ie,function(u){var s="_."+u[0];t&u[1]&&!Rr(n,s)&&n.push(s)}),n.sort()}function ws(n){if(n instanceof un)return n.clone();var t=new _e(n.__wrapped__,n.__chain__);return t.__actions__=Jn(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Rd(n,t,u){(u?Vn(n,t,u):t===r)?t=1:t=Bn(Z(t),0);var s=n==null?0:n.length;if(!s||t<1)return[];for(var f=0,m=0,_=E(Vr(s/t));f<s;)_[m++]=be(n,f,f+=t);return _}function Bd(n){for(var t=-1,u=n==null?0:n.length,s=0,f=[];++t<u;){var m=n[t];m&&(f[s++]=m)}return f}function Dd(){var n=arguments.length;if(!n)return[];for(var t=E(n-1),u=arguments[0],s=n;s--;)t[s-1]=arguments[s];return st(K(u)?Jn(u):[u],$n(t,1))}var zd=en(function(n,t){return Ln(n)?hr(n,$n(t,1,Ln,!0)):[]}),Nd=en(function(n,t){var u=ke(t);return Ln(u)&&(u=r),Ln(n)?hr(n,$n(t,1,Ln,!0),H(u,2)):[]}),Wd=en(function(n,t){var u=ke(t);return Ln(u)&&(u=r),Ln(n)?hr(n,$n(t,1,Ln,!0),r,u):[]});function $d(n,t,u){var s=n==null?0:n.length;return s?(t=u||t===r?1:Z(t),be(n,t<0?0:t,s)):[]}function qd(n,t,u){var s=n==null?0:n.length;return s?(t=u||t===r?1:Z(t),t=s-t,be(n,0,t<0?0:t)):[]}function Ud(n,t){return n&&n.length?ri(n,H(t,3),!0,!0):[]}function Hd(n,t){return n&&n.length?ri(n,H(t,3),!0):[]}function Yd(n,t,u,s){var f=n==null?0:n.length;return f?(u&&typeof u!="number"&&Vn(n,t,u)&&(u=0,s=f),Dh(n,t,u,s)):[]}function ys(n,t,u){var s=n==null?0:n.length;if(!s)return-1;var f=u==null?0:Z(u);return f<0&&(f=Bn(s+f,0)),Br(n,H(t,3),f)}function _s(n,t,u){var s=n==null?0:n.length;if(!s)return-1;var f=s-1;return u!==r&&(f=Z(u),f=u<0?Bn(s+f,0):qn(f,s-1)),Br(n,H(t,3),f,!0)}function vs(n){var t=n==null?0:n.length;return t?$n(n,1):[]}function Gd(n){var t=n==null?0:n.length;return t?$n(n,Sn):[]}function Vd(n,t){var u=n==null?0:n.length;return u?(t=t===r?1:Z(t),$n(n,t)):[]}function Qd(n){for(var t=-1,u=n==null?0:n.length,s={};++t<u;){var f=n[t];s[f[0]]=f[1]}return s}function bs(n){return n&&n.length?n[0]:r}function Xd(n,t,u){var s=n==null?0:n.length;if(!s)return-1;var f=u==null?0:Z(u);return f<0&&(f=Bn(s+f,0)),Ut(n,t,f)}function Kd(n){var t=n==null?0:n.length;return t?be(n,0,-1):[]}var Jd=en(function(n){var t=In(n,pu);return t.length&&t[0]===n[0]?iu(t):[]}),Zd=en(function(n){var t=ke(n),u=In(n,pu);return t===ke(u)?t=r:u.pop(),u.length&&u[0]===n[0]?iu(u,H(t,2)):[]}),jd=en(function(n){var t=ke(n),u=In(n,pu);return t=typeof t=="function"?t:r,t&&u.pop(),u.length&&u[0]===n[0]?iu(u,r,t):[]});function np(n,t){return n==null?"":Kf.call(n,t)}function ke(n){var t=n==null?0:n.length;return t?n[t-1]:r}function ep(n,t,u){var s=n==null?0:n.length;if(!s)return-1;var f=s;return u!==r&&(f=Z(u),f=f<0?Bn(s+f,0):qn(f,s-1)),t===t?Mf(n,t,f):Br(n,ta,f,!0)}function tp(n,t){return n&&n.length?Oa(n,Z(t)):r}var rp=en(ks);function ks(n,t){return n&&n.length&&t&&t.length?su(n,t):n}function ip(n,t,u){return n&&n.length&&t&&t.length?su(n,t,H(u,2)):n}function up(n,t,u){return n&&n.length&&t&&t.length?su(n,t,r,u):n}var op=Ze(function(n,t){var u=n==null?0:n.length,s=nu(n,t);return Ba(n,In(t,function(f){return je(f,u)?+f:f}).sort(Ga)),s});function ap(n,t){var u=[];if(!(n&&n.length))return u;var s=-1,f=[],m=n.length;for(t=H(t,3);++s<m;){var _=n[s];t(_,s,n)&&(u.push(_),f.push(s))}return Ba(n,f),u}function Au(n){return n==null?n:nh.call(n)}function sp(n,t,u){var s=n==null?0:n.length;return s?(u&&typeof u!="number"&&Vn(n,t,u)?(t=0,u=s):(t=t==null?0:Z(t),u=u===r?s:Z(u)),be(n,t,u)):[]}function lp(n,t){return ti(n,t)}function cp(n,t,u){return fu(n,t,H(u,2))}function fp(n,t){var u=n==null?0:n.length;if(u){var s=ti(n,t);if(s<u&&Le(n[s],t))return s}return-1}function hp(n,t){return ti(n,t,!0)}function dp(n,t,u){return fu(n,t,H(u,2),!0)}function pp(n,t){var u=n==null?0:n.length;if(u){var s=ti(n,t,!0)-1;if(Le(n[s],t))return s}return-1}function gp(n){return n&&n.length?za(n):[]}function mp(n,t){return n&&n.length?za(n,H(t,2)):[]}function xp(n){var t=n==null?0:n.length;return t?be(n,1,t):[]}function wp(n,t,u){return n&&n.length?(t=u||t===r?1:Z(t),be(n,0,t<0?0:t)):[]}function yp(n,t,u){var s=n==null?0:n.length;return s?(t=u||t===r?1:Z(t),t=s-t,be(n,t<0?0:t,s)):[]}function _p(n,t){return n&&n.length?ri(n,H(t,3),!1,!0):[]}function vp(n,t){return n&&n.length?ri(n,H(t,3)):[]}var bp=en(function(n){return ht($n(n,1,Ln,!0))}),kp=en(function(n){var t=ke(n);return Ln(t)&&(t=r),ht($n(n,1,Ln,!0),H(t,2))}),Sp=en(function(n){var t=ke(n);return t=typeof t=="function"?t:r,ht($n(n,1,Ln,!0),r,t)});function Cp(n){return n&&n.length?ht(n):[]}function Ip(n,t){return n&&n.length?ht(n,H(t,2)):[]}function Ep(n,t){return t=typeof t=="function"?t:r,n&&n.length?ht(n,r,t):[]}function Tu(n){if(!(n&&n.length))return[];var t=0;return n=at(n,function(u){if(Ln(u))return t=Bn(u.length,t),!0}),Gi(t,function(u){return In(n,Ui(u))})}function Ss(n,t){if(!(n&&n.length))return[];var u=Tu(n);return t==null?u:In(u,function(s){return se(t,r,s)})}var Ap=en(function(n,t){return Ln(n)?hr(n,t):[]}),Tp=en(function(n){return du(at(n,Ln))}),Pp=en(function(n){var t=ke(n);return Ln(t)&&(t=r),du(at(n,Ln),H(t,2))}),Fp=en(function(n){var t=ke(n);return t=typeof t=="function"?t:r,du(at(n,Ln),r,t)}),Lp=en(Tu);function Op(n,t){return qa(n||[],t||[],fr)}function Mp(n,t){return qa(n||[],t||[],gr)}var Rp=en(function(n){var t=n.length,u=t>1?n[t-1]:r;return u=typeof u=="function"?(n.pop(),u):r,Ss(n,u)});function Cs(n){var t=g(n);return t.__chain__=!0,t}function Bp(n,t){return t(n),n}function hi(n,t){return t(n)}var Dp=Ze(function(n){var t=n.length,u=t?n[0]:0,s=this.__wrapped__,f=function(m){return nu(m,n)};return t>1||this.__actions__.length||!(s instanceof un)||!je(u)?this.thru(f):(s=s.slice(u,+u+(t?1:0)),s.__actions__.push({func:hi,args:[f],thisArg:r}),new _e(s,this.__chain__).thru(function(m){return t&&!m.length&&m.push(r),m}))});function zp(){return Cs(this)}function Np(){return new _e(this.value(),this.__chain__)}function Wp(){this.__values__===r&&(this.__values__=Ns(this.value()));var n=this.__index__>=this.__values__.length,t=n?r:this.__values__[this.__index__++];return{done:n,value:t}}function $p(){return this}function qp(n){for(var t,u=this;u instanceof Jr;){var s=ws(u);s.__index__=0,s.__values__=r,t?f.__wrapped__=s:t=s;var f=s;u=u.__wrapped__}return f.__wrapped__=n,t}function Up(){var n=this.__wrapped__;if(n instanceof un){var t=n;return this.__actions__.length&&(t=new un(this)),t=t.reverse(),t.__actions__.push({func:hi,args:[Au],thisArg:r}),new _e(t,this.__chain__)}return this.thru(Au)}function Hp(){return $a(this.__wrapped__,this.__actions__)}var Yp=ii(function(n,t,u){mn.call(n,u)?++n[u]:Ke(n,u,1)});function Gp(n,t,u){var s=K(n)?na:Bh;return u&&Vn(n,t,u)&&(t=r),s(n,H(t,3))}function Vp(n,t){var u=K(n)?at:Sa;return u(n,H(t,3))}var Qp=Za(ys),Xp=Za(_s);function Kp(n,t){return $n(di(n,t),1)}function Jp(n,t){return $n(di(n,t),Sn)}function Zp(n,t,u){return u=u===r?1:Z(u),$n(di(n,t),u)}function Is(n,t){var u=K(n)?we:ft;return u(n,H(t,3))}function Es(n,t){var u=K(n)?xf:ka;return u(n,H(t,3))}var jp=ii(function(n,t,u){mn.call(n,u)?n[u].push(t):Ke(n,u,[t])});function ng(n,t,u,s){n=Zn(n)?n:er(n),u=u&&!s?Z(u):0;var f=n.length;return u<0&&(u=Bn(f+u,0)),wi(n)?u<=f&&n.indexOf(t,u)>-1:!!f&&Ut(n,t,u)>-1}var eg=en(function(n,t,u){var s=-1,f=typeof t=="function",m=Zn(n)?E(n.length):[];return ft(n,function(_){m[++s]=f?se(t,_,u):dr(_,t,u)}),m}),tg=ii(function(n,t,u){Ke(n,u,t)});function di(n,t){var u=K(n)?In:Pa;return u(n,H(t,3))}function rg(n,t,u,s){return n==null?[]:(K(t)||(t=t==null?[]:[t]),u=s?r:u,K(u)||(u=u==null?[]:[u]),Ma(n,t,u))}var ig=ii(function(n,t,u){n[u?0:1].push(t)},function(){return[[],[]]});function ug(n,t,u){var s=K(n)?$i:ia,f=arguments.length<3;return s(n,H(t,4),u,f,ft)}function og(n,t,u){var s=K(n)?wf:ia,f=arguments.length<3;return s(n,H(t,4),u,f,ka)}function ag(n,t){var u=K(n)?at:Sa;return u(n,mi(H(t,3)))}function sg(n){var t=K(n)?ya:nd;return t(n)}function lg(n,t,u){(u?Vn(n,t,u):t===r)?t=1:t=Z(t);var s=K(n)?Fh:ed;return s(n,t)}function cg(n){var t=K(n)?Lh:rd;return t(n)}function fg(n){if(n==null)return 0;if(Zn(n))return wi(n)?Yt(n):n.length;var t=Un(n);return t==ue||t==oe?n.size:ou(n).length}function hg(n,t,u){var s=K(n)?qi:id;return u&&Vn(n,t,u)&&(t=r),s(n,H(t,3))}var dg=en(function(n,t){if(n==null)return[];var u=t.length;return u>1&&Vn(n,t[0],t[1])?t=[]:u>2&&Vn(t[0],t[1],t[2])&&(t=[t[0]]),Ma(n,$n(t,1),[])}),pi=Vf||function(){return Wn.Date.now()};function pg(n,t){if(typeof t!="function")throw new ye(c);return n=Z(n),function(){if(--n<1)return t.apply(this,arguments)}}function As(n,t,u){return t=u?r:t,t=n&&t==null?n.length:t,Je(n,tn,r,r,r,r,t)}function Ts(n,t){var u;if(typeof t!="function")throw new ye(c);return n=Z(n),function(){return--n>0&&(u=t.apply(this,arguments)),n<=1&&(t=r),u}}var Pu=en(function(n,t,u){var s=J;if(u.length){var f=lt(u,jt(Pu));s|=sn}return Je(n,s,t,u,f)}),Ps=en(function(n,t,u){var s=J|M;if(u.length){var f=lt(u,jt(Ps));s|=sn}return Je(t,s,n,u,f)});function Fs(n,t,u){t=u?r:t;var s=Je(n,W,r,r,r,r,r,t);return s.placeholder=Fs.placeholder,s}function Ls(n,t,u){t=u?r:t;var s=Je(n,pn,r,r,r,r,r,t);return s.placeholder=Ls.placeholder,s}function Os(n,t,u){var s,f,m,_,b,I,P=0,F=!1,L=!1,B=!0;if(typeof n!="function")throw new ye(c);t=Se(t)||0,An(u)&&(F=!!u.leading,L="maxWait"in u,m=L?Bn(Se(u.maxWait)||0,t):m,B="trailing"in u?!!u.trailing:B);function $(On){var Oe=s,tt=f;return s=f=r,P=On,_=n.apply(tt,Oe),_}function G(On){return P=On,b=wr(rn,t),F?$(On):_}function j(On){var Oe=On-I,tt=On-P,Zs=t-Oe;return L?qn(Zs,m-tt):Zs}function V(On){var Oe=On-I,tt=On-P;return I===r||Oe>=t||Oe<0||L&&tt>=m}function rn(){var On=pi();if(V(On))return an(On);b=wr(rn,j(On))}function an(On){return b=r,B&&s?$(On):(s=f=r,_)}function he(){b!==r&&Ua(b),P=0,s=I=f=b=r}function Qn(){return b===r?_:an(pi())}function de(){var On=pi(),Oe=V(On);if(s=arguments,f=this,I=On,Oe){if(b===r)return G(I);if(L)return Ua(b),b=wr(rn,t),$(I)}return b===r&&(b=wr(rn,t)),_}return de.cancel=he,de.flush=Qn,de}var gg=en(function(n,t){return ba(n,1,t)}),mg=en(function(n,t,u){return ba(n,Se(t)||0,u)});function xg(n){return Je(n,cn)}function gi(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new ye(c);var u=function(){var s=arguments,f=t?t.apply(this,s):s[0],m=u.cache;if(m.has(f))return m.get(f);var _=n.apply(this,s);return u.cache=m.set(f,_)||m,_};return u.cache=new(gi.Cache||Xe),u}gi.Cache=Xe;function mi(n){if(typeof n!="function")throw new ye(c);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function wg(n){return Ts(2,n)}var yg=ud(function(n,t){t=t.length==1&&K(t[0])?In(t[0],le(H())):In($n(t,1),le(H()));var u=t.length;return en(function(s){for(var f=-1,m=qn(s.length,u);++f<m;)s[f]=t[f].call(this,s[f]);return se(n,this,s)})}),Fu=en(function(n,t){var u=lt(t,jt(Fu));return Je(n,sn,r,t,u)}),Ms=en(function(n,t){var u=lt(t,jt(Ms));return Je(n,O,r,t,u)}),_g=Ze(function(n,t){return Je(n,_n,r,r,r,t)});function vg(n,t){if(typeof n!="function")throw new ye(c);return t=t===r?t:Z(t),en(n,t)}function bg(n,t){if(typeof n!="function")throw new ye(c);return t=t==null?0:Bn(Z(t),0),en(function(u){var s=u[t],f=pt(u,0,t);return s&&st(f,s),se(n,this,f)})}function kg(n,t,u){var s=!0,f=!0;if(typeof n!="function")throw new ye(c);return An(u)&&(s="leading"in u?!!u.leading:s,f="trailing"in u?!!u.trailing:f),Os(n,t,{leading:s,maxWait:t,trailing:f})}function Sg(n){return As(n,1)}function Cg(n,t){return Fu(gu(t),n)}function Ig(){if(!arguments.length)return[];var n=arguments[0];return K(n)?n:[n]}function Eg(n){return ve(n,y)}function Ag(n,t){return t=typeof t=="function"?t:r,ve(n,y,t)}function Tg(n){return ve(n,w|y)}function Pg(n,t){return t=typeof t=="function"?t:r,ve(n,w|y,t)}function Fg(n,t){return t==null||va(n,t,zn(t))}function Le(n,t){return n===t||n!==n&&t!==t}var Lg=si(ru),Og=si(function(n,t){return n>=t}),Rt=Ea((function(){return arguments})())?Ea:function(n){return Fn(n)&&mn.call(n,"callee")&&!da.call(n,"callee")},K=E.isArray,Mg=Qo?le(Qo):qh;function Zn(n){return n!=null&&xi(n.length)&&!nt(n)}function Ln(n){return Fn(n)&&Zn(n)}function Rg(n){return n===!0||n===!1||Fn(n)&&Gn(n)==Kn}var gt=Xf||qu,Bg=Xo?le(Xo):Uh;function Dg(n){return Fn(n)&&n.nodeType===1&&!yr(n)}function zg(n){if(n==null)return!0;if(Zn(n)&&(K(n)||typeof n=="string"||typeof n.splice=="function"||gt(n)||nr(n)||Rt(n)))return!n.length;var t=Un(n);if(t==ue||t==oe)return!n.size;if(xr(n))return!ou(n).length;for(var u in n)if(mn.call(n,u))return!1;return!0}function Ng(n,t){return pr(n,t)}function Wg(n,t,u){u=typeof u=="function"?u:r;var s=u?u(n,t):r;return s===r?pr(n,t,r,u):!!s}function Lu(n){if(!Fn(n))return!1;var t=Gn(n);return t==Ye||t==it||typeof n.message=="string"&&typeof n.name=="string"&&!yr(n)}function $g(n){return typeof n=="number"&&ga(n)}function nt(n){if(!An(n))return!1;var t=Gn(n);return t==Wt||t==Ar||t==St||t==Fr}function Rs(n){return typeof n=="number"&&n==Z(n)}function xi(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Mn}function An(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function Fn(n){return n!=null&&typeof n=="object"}var Bs=Ko?le(Ko):Yh;function qg(n,t){return n===t||uu(n,t,bu(t))}function Ug(n,t,u){return u=typeof u=="function"?u:r,uu(n,t,bu(t),u)}function Hg(n){return Ds(n)&&n!=+n}function Yg(n){if(Ad(n))throw new X(l);return Aa(n)}function Gg(n){return n===null}function Vg(n){return n==null}function Ds(n){return typeof n=="number"||Fn(n)&&Gn(n)==ut}function yr(n){if(!Fn(n)||Gn(n)!=me)return!1;var t=Hr(n);if(t===null)return!0;var u=mn.call(t,"constructor")&&t.constructor;return typeof u=="function"&&u instanceof u&&Wr.call(u)==Uf}var Ou=Jo?le(Jo):Gh;function Qg(n){return Rs(n)&&n>=-Mn&&n<=Mn}var zs=Zo?le(Zo):Vh;function wi(n){return typeof n=="string"||!K(n)&&Fn(n)&&Gn(n)==Ct}function fe(n){return typeof n=="symbol"||Fn(n)&&Gn(n)==$t}var nr=jo?le(jo):Qh;function Xg(n){return n===r}function Kg(n){return Fn(n)&&Un(n)==It}function Jg(n){return Fn(n)&&Gn(n)==T}var Zg=si(au),jg=si(function(n,t){return n<=t});function Ns(n){if(!n)return[];if(Zn(n))return wi(n)?Pe(n):Jn(n);if(or&&n[or])return Ff(n[or]());var t=Un(n),u=t==ue?Qi:t==oe?Dr:er;return u(n)}function et(n){if(!n)return n===0?n:0;if(n=Se(n),n===Sn||n===-Sn){var t=n<0?-1:1;return t*Ie}return n===n?n:0}function Z(n){var t=et(n),u=t%1;return t===t?u?t-u:t:0}function Ws(n){return n?Ft(Z(n),0,Tn):0}function Se(n){if(typeof n=="number")return n;if(fe(n))return v;if(An(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=An(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=ua(n);var u=Oc.test(n);return u||Rc.test(n)?pf(n.slice(2),u?2:8):Lc.test(n)?v:+n}function $s(n){return ze(n,jn(n))}function nm(n){return n?Ft(Z(n),-Mn,Mn):n===0?n:0}function gn(n){return n==null?"":ce(n)}var em=Jt(function(n,t){if(xr(t)||Zn(t)){ze(t,zn(t),n);return}for(var u in t)mn.call(t,u)&&fr(n,u,t[u])}),qs=Jt(function(n,t){ze(t,jn(t),n)}),yi=Jt(function(n,t,u,s){ze(t,jn(t),n,s)}),tm=Jt(function(n,t,u,s){ze(t,zn(t),n,s)}),rm=Ze(nu);function im(n,t){var u=Kt(n);return t==null?u:_a(u,t)}var um=en(function(n,t){n=yn(n);var u=-1,s=t.length,f=s>2?t[2]:r;for(f&&Vn(t[0],t[1],f)&&(s=1);++u<s;)for(var m=t[u],_=jn(m),b=-1,I=_.length;++b<I;){var P=_[b],F=n[P];(F===r||Le(F,Vt[P])&&!mn.call(n,P))&&(n[P]=m[P])}return n}),om=en(function(n){return n.push(r,us),se(Us,r,n)});function am(n,t){return ea(n,H(t,3),De)}function sm(n,t){return ea(n,H(t,3),tu)}function lm(n,t){return n==null?n:eu(n,H(t,3),jn)}function cm(n,t){return n==null?n:Ca(n,H(t,3),jn)}function fm(n,t){return n&&De(n,H(t,3))}function hm(n,t){return n&&tu(n,H(t,3))}function dm(n){return n==null?[]:ni(n,zn(n))}function pm(n){return n==null?[]:ni(n,jn(n))}function Mu(n,t,u){var s=n==null?r:Lt(n,t);return s===r?u:s}function gm(n,t){return n!=null&&ss(n,t,zh)}function Ru(n,t){return n!=null&&ss(n,t,Nh)}var mm=ns(function(n,t,u){t!=null&&typeof t.toString!="function"&&(t=$r.call(t)),n[t]=u},Du(ne)),xm=ns(function(n,t,u){t!=null&&typeof t.toString!="function"&&(t=$r.call(t)),mn.call(n,t)?n[t].push(u):n[t]=[u]},H),wm=en(dr);function zn(n){return Zn(n)?wa(n):ou(n)}function jn(n){return Zn(n)?wa(n,!0):Xh(n)}function ym(n,t){var u={};return t=H(t,3),De(n,function(s,f,m){Ke(u,t(s,f,m),s)}),u}function _m(n,t){var u={};return t=H(t,3),De(n,function(s,f,m){Ke(u,f,t(s,f,m))}),u}var vm=Jt(function(n,t,u){ei(n,t,u)}),Us=Jt(function(n,t,u,s){ei(n,t,u,s)}),bm=Ze(function(n,t){var u={};if(n==null)return u;var s=!1;t=In(t,function(m){return m=dt(m,n),s||(s=m.length>1),m}),ze(n,_u(n),u),s&&(u=ve(u,w|S|y,md));for(var f=t.length;f--;)hu(u,t[f]);return u});function km(n,t){return Hs(n,mi(H(t)))}var Sm=Ze(function(n,t){return n==null?{}:Jh(n,t)});function Hs(n,t){if(n==null)return{};var u=In(_u(n),function(s){return[s]});return t=H(t),Ra(n,u,function(s,f){return t(s,f[0])})}function Cm(n,t,u){t=dt(t,n);var s=-1,f=t.length;for(f||(f=1,n=r);++s<f;){var m=n==null?r:n[Ne(t[s])];m===r&&(s=f,m=u),n=nt(m)?m.call(n):m}return n}function Im(n,t,u){return n==null?n:gr(n,t,u)}function Em(n,t,u,s){return s=typeof s=="function"?s:r,n==null?n:gr(n,t,u,s)}var Ys=rs(zn),Gs=rs(jn);function Am(n,t,u){var s=K(n),f=s||gt(n)||nr(n);if(t=H(t,4),u==null){var m=n&&n.constructor;f?u=s?new m:[]:An(n)?u=nt(m)?Kt(Hr(n)):{}:u={}}return(f?we:De)(n,function(_,b,I){return t(u,_,b,I)}),u}function Tm(n,t){return n==null?!0:hu(n,t)}function Pm(n,t,u){return n==null?n:Wa(n,t,gu(u))}function Fm(n,t,u,s){return s=typeof s=="function"?s:r,n==null?n:Wa(n,t,gu(u),s)}function er(n){return n==null?[]:Vi(n,zn(n))}function Lm(n){return n==null?[]:Vi(n,jn(n))}function Om(n,t,u){return u===r&&(u=t,t=r),u!==r&&(u=Se(u),u=u===u?u:0),t!==r&&(t=Se(t),t=t===t?t:0),Ft(Se(n),t,u)}function Mm(n,t,u){return t=et(t),u===r?(u=t,t=0):u=et(u),n=Se(n),Wh(n,t,u)}function Rm(n,t,u){if(u&&typeof u!="boolean"&&Vn(n,t,u)&&(t=u=r),u===r&&(typeof t=="boolean"?(u=t,t=r):typeof n=="boolean"&&(u=n,n=r)),n===r&&t===r?(n=0,t=1):(n=et(n),t===r?(t=n,n=0):t=et(t)),n>t){var s=n;n=t,t=s}if(u||n%1||t%1){var f=ma();return qn(n+f*(t-n+df("1e-"+((f+"").length-1))),t)}return lu(n,t)}var Bm=Zt(function(n,t,u){return t=t.toLowerCase(),n+(u?Vs(t):t)});function Vs(n){return Bu(gn(n).toLowerCase())}function Qs(n){return n=gn(n),n&&n.replace(Dc,If).replace(tf,"")}function Dm(n,t,u){n=gn(n),t=ce(t);var s=n.length;u=u===r?s:Ft(Z(u),0,s);var f=u;return u-=t.length,u>=0&&n.slice(u,f)==t}function zm(n){return n=gn(n),n&&xc.test(n)?n.replace(Co,Ef):n}function Nm(n){return n=gn(n),n&&kc.test(n)?n.replace(Fi,"\\$&"):n}var Wm=Zt(function(n,t,u){return n+(u?"-":"")+t.toLowerCase()}),$m=Zt(function(n,t,u){return n+(u?" ":"")+t.toLowerCase()}),qm=Ja("toLowerCase");function Um(n,t,u){n=gn(n),t=Z(t);var s=t?Yt(n):0;if(!t||s>=t)return n;var f=(t-s)/2;return ai(Qr(f),u)+n+ai(Vr(f),u)}function Hm(n,t,u){n=gn(n),t=Z(t);var s=t?Yt(n):0;return t&&s<t?n+ai(t-s,u):n}function Ym(n,t,u){n=gn(n),t=Z(t);var s=t?Yt(n):0;return t&&s<t?ai(t-s,u)+n:n}function Gm(n,t,u){return u||t==null?t=0:t&&(t=+t),jf(gn(n).replace(Li,""),t||0)}function Vm(n,t,u){return(u?Vn(n,t,u):t===r)?t=1:t=Z(t),cu(gn(n),t)}function Qm(){var n=arguments,t=gn(n[0]);return n.length<3?t:t.replace(n[1],n[2])}var Xm=Zt(function(n,t,u){return n+(u?"_":"")+t.toLowerCase()});function Km(n,t,u){return u&&typeof u!="number"&&Vn(n,t,u)&&(t=u=r),u=u===r?Tn:u>>>0,u?(n=gn(n),n&&(typeof t=="string"||t!=null&&!Ou(t))&&(t=ce(t),!t&&Ht(n))?pt(Pe(n),0,u):n.split(t,u)):[]}var Jm=Zt(function(n,t,u){return n+(u?" ":"")+Bu(t)});function Zm(n,t,u){return n=gn(n),u=u==null?0:Ft(Z(u),0,n.length),t=ce(t),n.slice(u,u+t.length)==t}function jm(n,t,u){var s=g.templateSettings;u&&Vn(n,t,u)&&(t=r),n=gn(n),t=yi({},t,s,is);var f=yi({},t.imports,s.imports,is),m=zn(f),_=Vi(f,m),b,I,P=0,F=t.interpolate||Lr,L="__p += '",B=Xi((t.escape||Lr).source+"|"+F.source+"|"+(F===Io?Fc:Lr).source+"|"+(t.evaluate||Lr).source+"|$","g"),$="//# sourceURL="+(mn.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++sf+"]")+`
`;n.replace(B,function(V,rn,an,he,Qn,de){return an||(an=he),L+=n.slice(P,de).replace(zc,Af),rn&&(b=!0,L+=`' +
__e(`+rn+`) +
'`),Qn&&(I=!0,L+=`';
`+Qn+`;
__p += '`),an&&(L+=`' +
((__t = (`+an+`)) == null ? '' : __t) +
'`),P=de+V.length,V}),L+=`';
`;var G=mn.call(t,"variable")&&t.variable;if(!G)L=`with (obj) {
`+L+`
}
`;else if(Tc.test(G))throw new X(h);L=(I?L.replace(Te,""):L).replace(pc,"$1").replace(gc,"$1;"),L="function("+(G||"obj")+`) {
`+(G?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(I?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+L+`return __p
}`;var j=Ks(function(){return hn(m,$+"return "+L).apply(r,_)});if(j.source=L,Lu(j))throw j;return j}function n1(n){return gn(n).toLowerCase()}function e1(n){return gn(n).toUpperCase()}function t1(n,t,u){if(n=gn(n),n&&(u||t===r))return ua(n);if(!n||!(t=ce(t)))return n;var s=Pe(n),f=Pe(t),m=oa(s,f),_=aa(s,f)+1;return pt(s,m,_).join("")}function r1(n,t,u){if(n=gn(n),n&&(u||t===r))return n.slice(0,la(n)+1);if(!n||!(t=ce(t)))return n;var s=Pe(n),f=aa(s,Pe(t))+1;return pt(s,0,f).join("")}function i1(n,t,u){if(n=gn(n),n&&(u||t===r))return n.replace(Li,"");if(!n||!(t=ce(t)))return n;var s=Pe(n),f=oa(s,Pe(t));return pt(s,f).join("")}function u1(n,t){var u=wn,s=U;if(An(t)){var f="separator"in t?t.separator:f;u="length"in t?Z(t.length):u,s="omission"in t?ce(t.omission):s}n=gn(n);var m=n.length;if(Ht(n)){var _=Pe(n);m=_.length}if(u>=m)return n;var b=u-Yt(s);if(b<1)return s;var I=_?pt(_,0,b).join(""):n.slice(0,b);if(f===r)return I+s;if(_&&(b+=I.length-b),Ou(f)){if(n.slice(b).search(f)){var P,F=I;for(f.global||(f=Xi(f.source,gn(Eo.exec(f))+"g")),f.lastIndex=0;P=f.exec(F);)var L=P.index;I=I.slice(0,L===r?b:L)}}else if(n.indexOf(ce(f),b)!=b){var B=I.lastIndexOf(f);B>-1&&(I=I.slice(0,B))}return I+s}function o1(n){return n=gn(n),n&&mc.test(n)?n.replace(So,Rf):n}var a1=Zt(function(n,t,u){return n+(u?" ":"")+t.toUpperCase()}),Bu=Ja("toUpperCase");function Xs(n,t,u){return n=gn(n),t=u?r:t,t===r?Pf(n)?zf(n):vf(n):n.match(t)||[]}var Ks=en(function(n,t){try{return se(n,r,t)}catch(u){return Lu(u)?u:new X(u)}}),s1=Ze(function(n,t){return we(t,function(u){u=Ne(u),Ke(n,u,Pu(n[u],n))}),n});function l1(n){var t=n==null?0:n.length,u=H();return n=t?In(n,function(s){if(typeof s[1]!="function")throw new ye(c);return[u(s[0]),s[1]]}):[],en(function(s){for(var f=-1;++f<t;){var m=n[f];if(se(m[0],this,s))return se(m[1],this,s)}})}function c1(n){return Rh(ve(n,w))}function Du(n){return function(){return n}}function f1(n,t){return n==null||n!==n?t:n}var h1=ja(),d1=ja(!0);function ne(n){return n}function zu(n){return Ta(typeof n=="function"?n:ve(n,w))}function p1(n){return Fa(ve(n,w))}function g1(n,t){return La(n,ve(t,w))}var m1=en(function(n,t){return function(u){return dr(u,n,t)}}),x1=en(function(n,t){return function(u){return dr(n,u,t)}});function Nu(n,t,u){var s=zn(t),f=ni(t,s);u==null&&!(An(t)&&(f.length||!s.length))&&(u=t,t=n,n=this,f=ni(t,zn(t)));var m=!(An(u)&&"chain"in u)||!!u.chain,_=nt(n);return we(f,function(b){var I=t[b];n[b]=I,_&&(n.prototype[b]=function(){var P=this.__chain__;if(m||P){var F=n(this.__wrapped__),L=F.__actions__=Jn(this.__actions__);return L.push({func:I,args:arguments,thisArg:n}),F.__chain__=P,F}return I.apply(n,st([this.value()],arguments))})}),n}function w1(){return Wn._===this&&(Wn._=Hf),this}function Wu(){}function y1(n){return n=Z(n),en(function(t){return Oa(t,n)})}var _1=xu(In),v1=xu(na),b1=xu(qi);function Js(n){return Su(n)?Ui(Ne(n)):Zh(n)}function k1(n){return function(t){return n==null?r:Lt(n,t)}}var S1=es(),C1=es(!0);function $u(){return[]}function qu(){return!1}function I1(){return{}}function E1(){return""}function A1(){return!0}function T1(n,t){if(n=Z(n),n<1||n>Mn)return[];var u=Tn,s=qn(n,Tn);t=H(t),n-=Tn;for(var f=Gi(s,t);++u<n;)t(u);return f}function P1(n){return K(n)?In(n,Ne):fe(n)?[n]:Jn(xs(gn(n)))}function F1(n){var t=++qf;return gn(n)+t}var L1=oi(function(n,t){return n+t},0),O1=wu("ceil"),M1=oi(function(n,t){return n/t},1),R1=wu("floor");function B1(n){return n&&n.length?jr(n,ne,ru):r}function D1(n,t){return n&&n.length?jr(n,H(t,2),ru):r}function z1(n){return ra(n,ne)}function N1(n,t){return ra(n,H(t,2))}function W1(n){return n&&n.length?jr(n,ne,au):r}function $1(n,t){return n&&n.length?jr(n,H(t,2),au):r}var q1=oi(function(n,t){return n*t},1),U1=wu("round"),H1=oi(function(n,t){return n-t},0);function Y1(n){return n&&n.length?Yi(n,ne):0}function G1(n,t){return n&&n.length?Yi(n,H(t,2)):0}return g.after=pg,g.ary=As,g.assign=em,g.assignIn=qs,g.assignInWith=yi,g.assignWith=tm,g.at=rm,g.before=Ts,g.bind=Pu,g.bindAll=s1,g.bindKey=Ps,g.castArray=Ig,g.chain=Cs,g.chunk=Rd,g.compact=Bd,g.concat=Dd,g.cond=l1,g.conforms=c1,g.constant=Du,g.countBy=Yp,g.create=im,g.curry=Fs,g.curryRight=Ls,g.debounce=Os,g.defaults=um,g.defaultsDeep=om,g.defer=gg,g.delay=mg,g.difference=zd,g.differenceBy=Nd,g.differenceWith=Wd,g.drop=$d,g.dropRight=qd,g.dropRightWhile=Ud,g.dropWhile=Hd,g.fill=Yd,g.filter=Vp,g.flatMap=Kp,g.flatMapDeep=Jp,g.flatMapDepth=Zp,g.flatten=vs,g.flattenDeep=Gd,g.flattenDepth=Vd,g.flip=xg,g.flow=h1,g.flowRight=d1,g.fromPairs=Qd,g.functions=dm,g.functionsIn=pm,g.groupBy=jp,g.initial=Kd,g.intersection=Jd,g.intersectionBy=Zd,g.intersectionWith=jd,g.invert=mm,g.invertBy=xm,g.invokeMap=eg,g.iteratee=zu,g.keyBy=tg,g.keys=zn,g.keysIn=jn,g.map=di,g.mapKeys=ym,g.mapValues=_m,g.matches=p1,g.matchesProperty=g1,g.memoize=gi,g.merge=vm,g.mergeWith=Us,g.method=m1,g.methodOf=x1,g.mixin=Nu,g.negate=mi,g.nthArg=y1,g.omit=bm,g.omitBy=km,g.once=wg,g.orderBy=rg,g.over=_1,g.overArgs=yg,g.overEvery=v1,g.overSome=b1,g.partial=Fu,g.partialRight=Ms,g.partition=ig,g.pick=Sm,g.pickBy=Hs,g.property=Js,g.propertyOf=k1,g.pull=rp,g.pullAll=ks,g.pullAllBy=ip,g.pullAllWith=up,g.pullAt=op,g.range=S1,g.rangeRight=C1,g.rearg=_g,g.reject=ag,g.remove=ap,g.rest=vg,g.reverse=Au,g.sampleSize=lg,g.set=Im,g.setWith=Em,g.shuffle=cg,g.slice=sp,g.sortBy=dg,g.sortedUniq=gp,g.sortedUniqBy=mp,g.split=Km,g.spread=bg,g.tail=xp,g.take=wp,g.takeRight=yp,g.takeRightWhile=_p,g.takeWhile=vp,g.tap=Bp,g.throttle=kg,g.thru=hi,g.toArray=Ns,g.toPairs=Ys,g.toPairsIn=Gs,g.toPath=P1,g.toPlainObject=$s,g.transform=Am,g.unary=Sg,g.union=bp,g.unionBy=kp,g.unionWith=Sp,g.uniq=Cp,g.uniqBy=Ip,g.uniqWith=Ep,g.unset=Tm,g.unzip=Tu,g.unzipWith=Ss,g.update=Pm,g.updateWith=Fm,g.values=er,g.valuesIn=Lm,g.without=Ap,g.words=Xs,g.wrap=Cg,g.xor=Tp,g.xorBy=Pp,g.xorWith=Fp,g.zip=Lp,g.zipObject=Op,g.zipObjectDeep=Mp,g.zipWith=Rp,g.entries=Ys,g.entriesIn=Gs,g.extend=qs,g.extendWith=yi,Nu(g,g),g.add=L1,g.attempt=Ks,g.camelCase=Bm,g.capitalize=Vs,g.ceil=O1,g.clamp=Om,g.clone=Eg,g.cloneDeep=Tg,g.cloneDeepWith=Pg,g.cloneWith=Ag,g.conformsTo=Fg,g.deburr=Qs,g.defaultTo=f1,g.divide=M1,g.endsWith=Dm,g.eq=Le,g.escape=zm,g.escapeRegExp=Nm,g.every=Gp,g.find=Qp,g.findIndex=ys,g.findKey=am,g.findLast=Xp,g.findLastIndex=_s,g.findLastKey=sm,g.floor=R1,g.forEach=Is,g.forEachRight=Es,g.forIn=lm,g.forInRight=cm,g.forOwn=fm,g.forOwnRight=hm,g.get=Mu,g.gt=Lg,g.gte=Og,g.has=gm,g.hasIn=Ru,g.head=bs,g.identity=ne,g.includes=ng,g.indexOf=Xd,g.inRange=Mm,g.invoke=wm,g.isArguments=Rt,g.isArray=K,g.isArrayBuffer=Mg,g.isArrayLike=Zn,g.isArrayLikeObject=Ln,g.isBoolean=Rg,g.isBuffer=gt,g.isDate=Bg,g.isElement=Dg,g.isEmpty=zg,g.isEqual=Ng,g.isEqualWith=Wg,g.isError=Lu,g.isFinite=$g,g.isFunction=nt,g.isInteger=Rs,g.isLength=xi,g.isMap=Bs,g.isMatch=qg,g.isMatchWith=Ug,g.isNaN=Hg,g.isNative=Yg,g.isNil=Vg,g.isNull=Gg,g.isNumber=Ds,g.isObject=An,g.isObjectLike=Fn,g.isPlainObject=yr,g.isRegExp=Ou,g.isSafeInteger=Qg,g.isSet=zs,g.isString=wi,g.isSymbol=fe,g.isTypedArray=nr,g.isUndefined=Xg,g.isWeakMap=Kg,g.isWeakSet=Jg,g.join=np,g.kebabCase=Wm,g.last=ke,g.lastIndexOf=ep,g.lowerCase=$m,g.lowerFirst=qm,g.lt=Zg,g.lte=jg,g.max=B1,g.maxBy=D1,g.mean=z1,g.meanBy=N1,g.min=W1,g.minBy=$1,g.stubArray=$u,g.stubFalse=qu,g.stubObject=I1,g.stubString=E1,g.stubTrue=A1,g.multiply=q1,g.nth=tp,g.noConflict=w1,g.noop=Wu,g.now=pi,g.pad=Um,g.padEnd=Hm,g.padStart=Ym,g.parseInt=Gm,g.random=Rm,g.reduce=ug,g.reduceRight=og,g.repeat=Vm,g.replace=Qm,g.result=Cm,g.round=U1,g.runInContext=C,g.sample=sg,g.size=fg,g.snakeCase=Xm,g.some=hg,g.sortedIndex=lp,g.sortedIndexBy=cp,g.sortedIndexOf=fp,g.sortedLastIndex=hp,g.sortedLastIndexBy=dp,g.sortedLastIndexOf=pp,g.startCase=Jm,g.startsWith=Zm,g.subtract=H1,g.sum=Y1,g.sumBy=G1,g.template=jm,g.times=T1,g.toFinite=et,g.toInteger=Z,g.toLength=Ws,g.toLower=n1,g.toNumber=Se,g.toSafeInteger=nm,g.toString=gn,g.toUpper=e1,g.trim=t1,g.trimEnd=r1,g.trimStart=i1,g.truncate=u1,g.unescape=o1,g.uniqueId=F1,g.upperCase=a1,g.upperFirst=Bu,g.each=Is,g.eachRight=Es,g.first=bs,Nu(g,(function(){var n={};return De(g,function(t,u){mn.call(g.prototype,u)||(n[u]=t)}),n})(),{chain:!1}),g.VERSION=o,we(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){g[n].placeholder=g}),we(["drop","take"],function(n,t){un.prototype[n]=function(u){u=u===r?1:Bn(Z(u),0);var s=this.__filtered__&&!t?new un(this):this.clone();return s.__filtered__?s.__takeCount__=qn(u,s.__takeCount__):s.__views__.push({size:qn(u,Tn),type:n+(s.__dir__<0?"Right":"")}),s},un.prototype[n+"Right"]=function(u){return this.reverse()[n](u).reverse()}}),we(["filter","map","takeWhile"],function(n,t){var u=t+1,s=u==En||u==Dn;un.prototype[n]=function(f){var m=this.clone();return m.__iteratees__.push({iteratee:H(f,3),type:u}),m.__filtered__=m.__filtered__||s,m}}),we(["head","last"],function(n,t){var u="take"+(t?"Right":"");un.prototype[n]=function(){return this[u](1).value()[0]}}),we(["initial","tail"],function(n,t){var u="drop"+(t?"":"Right");un.prototype[n]=function(){return this.__filtered__?new un(this):this[u](1)}}),un.prototype.compact=function(){return this.filter(ne)},un.prototype.find=function(n){return this.filter(n).head()},un.prototype.findLast=function(n){return this.reverse().find(n)},un.prototype.invokeMap=en(function(n,t){return typeof n=="function"?new un(this):this.map(function(u){return dr(u,n,t)})}),un.prototype.reject=function(n){return this.filter(mi(H(n)))},un.prototype.slice=function(n,t){n=Z(n);var u=this;return u.__filtered__&&(n>0||t<0)?new un(u):(n<0?u=u.takeRight(-n):n&&(u=u.drop(n)),t!==r&&(t=Z(t),u=t<0?u.dropRight(-t):u.take(t-n)),u)},un.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},un.prototype.toArray=function(){return this.take(Tn)},De(un.prototype,function(n,t){var u=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),f=g[s?"take"+(t=="last"?"Right":""):t],m=s||/^find/.test(t);f&&(g.prototype[t]=function(){var _=this.__wrapped__,b=s?[1]:arguments,I=_ instanceof un,P=b[0],F=I||K(_),L=function(rn){var an=f.apply(g,st([rn],b));return s&&B?an[0]:an};F&&u&&typeof P=="function"&&P.length!=1&&(I=F=!1);var B=this.__chain__,$=!!this.__actions__.length,G=m&&!B,j=I&&!$;if(!m&&F){_=j?_:new un(this);var V=n.apply(_,b);return V.__actions__.push({func:hi,args:[L],thisArg:r}),new _e(V,B)}return G&&j?n.apply(this,b):(V=this.thru(L),G?s?V.value()[0]:V.value():V)})}),we(["pop","push","shift","sort","splice","unshift"],function(n){var t=zr[n],u=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",s=/^(?:pop|shift)$/.test(n);g.prototype[n]=function(){var f=arguments;if(s&&!this.__chain__){var m=this.value();return t.apply(K(m)?m:[],f)}return this[u](function(_){return t.apply(K(_)?_:[],f)})}}),De(un.prototype,function(n,t){var u=g[t];if(u){var s=u.name+"";mn.call(Xt,s)||(Xt[s]=[]),Xt[s].push({name:t,func:u})}}),Xt[ui(r,M).name]=[{name:"wrapper",func:r}],un.prototype.clone=oh,un.prototype.reverse=ah,un.prototype.value=sh,g.prototype.at=Dp,g.prototype.chain=zp,g.prototype.commit=Np,g.prototype.next=Wp,g.prototype.plant=qp,g.prototype.reverse=Up,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Hp,g.prototype.first=g.prototype.head,or&&(g.prototype[or]=$p),g}),Gt=Nf();Et?((Et.exports=Gt)._=Gt,zi._=Gt):Wn._=Gt}).call(nx)})(kr,kr.exports)),kr.exports}var tx=ex();const rx=[{id:"dayPlanning",label:"Planning my day",cue:"After breakfast",reward:"More productive and organized day",targetCount:1,periodicityMultiplier:1,periodicityUnit:"day",active:!0},{id:"exercise",label:"Exercise",cue:"After work or in the morning",reward:"Better health, more energy, and improved mood",targetCount:1,periodicityMultiplier:1,periodicityUnit:"day",active:!0},{id:"havingFun",label:"Having fun",cue:"In the evening or during free time",reward:"Relaxation, joy, and stress relief",targetCount:1,periodicityMultiplier:1,periodicityUnit:"day",active:!0},{id:"fpf",label:"FPF",cue:"At a consistent scheduled time",reward:"Sense of progress and satisfaction",targetCount:1,periodicityMultiplier:1,periodicityUnit:"day",active:!0}],ix=[{id:"positiveEmotions",label:"Positive Emotions",info:"Feelings of joy, gratitude, contentment, hope, and pleasure. Includes savoring the moment, reflecting on past positives, and hopeful anticipation of the future.",active:!0},{id:"engagement",label:"Engagement",info:"Deep involvement in activities; being absorbed, losing sense of time (‘flow’). Doing work or hobbies that challenge your skills just enough that you’re fully present.",active:!0},{id:"relationships",label:"Relationships",info:"Supportive, meaningful social connections. Feeling loved, valued, belonging; giving and receiving support. Close friendships, family bonds, community ties.",active:!0},{id:"meaning",label:"Meaning",info:"Having a sense of purpose, belonging to something bigger than yourself. Knowing what matters in your life and using your strengths in service of values, causes or goals.",active:!0},{id:"accomplishment",label:"Accomplishment",info:"Mastery, achievement, working toward goals. Sense of progress, competence, whether or not it brings immediate joy—achieving things that matter to you.",active:!0},{id:"physicalCondition",label:"Physical Condition",info:"Your bodily health: exercise, sleep quality, nutrition; energy levels and how physically capable you feel.",active:!0},{id:"mindset",label:"Mindset",info:"Cultivating optimism, resilience, self-efficacy, and a growth mindset. A positive mindset shapes how you interpret setbacks, sustain motivation, and approach challenges.",active:!0},{id:"environment",label:"Environment",info:"Living and working in spaces that feel safe, comfortable, and supportive of wellbeing. Includes access to nature, orderliness, and resources that help you thrive.",active:!0},{id:"economicSecurity",label:"Economic Security",info:"Having financial stability, freedom from chronic money stress, and satisfaction with work. Economic security supports autonomy and reduces background stress that erodes wellbeing.",active:!0}],Hu={projectDir:"powerJournal",componentsPath:"components",outputDir:"reports",scriptsDir:"scripts",databaseDir:"database",reportFolderPairs:[{folder:"l1almostDailyReport",report:"almostDailyReport"},{folder:"l2tenL1ReportsReview",report:"10daysReport"},{folder:"l3ThreeL2Review",report:"30daysReport"},{folder:"l4FiveL3Review",report:"150daysReport"}],componentVariables:{},devLogging:!0,habits:rx,wellbeingParameters:ix,devMode:!0,reportFileExtension:".pjf.md"};async function ux(e){if(!e)return Hu;try{return tx.merge({},Hu,e)}catch(i){return console.warn("[PowerJournal] Failed to merge user config, using defaults.",i),Hu}}const Ol=6048e5,ox=864e5,tl=Symbol.for("constructDateFrom");function yt(e,i){return typeof e=="function"?e(i):e&&typeof e=="object"&&tl in e?e[tl](i):e instanceof Date?new e.constructor(i):new Date(i)}function Re(e,i){return yt(i||e,e)}let ax={};function Ei(){return ax}function Ir(e,i){const r=Ei(),o=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Re(e,i?.in),l=a.getDay(),c=(l<o?7:0)+l-o;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function ki(e,i){return Ir(e,{...i,weekStartsOn:1})}function Ml(e,i){const r=Re(e,i?.in),o=r.getFullYear(),a=yt(r,0);a.setFullYear(o+1,0,4),a.setHours(0,0,0,0);const l=ki(a),c=yt(r,0);c.setFullYear(o,0,4),c.setHours(0,0,0,0);const h=ki(c);return r.getTime()>=l.getTime()?o+1:r.getTime()>=h.getTime()?o:o-1}function rl(e){const i=Re(e),r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),+e-+r}function sx(e,...i){const r=yt.bind(null,i.find(o=>typeof o=="object"));return i.map(r)}function il(e,i){const r=Re(e,i?.in);return r.setHours(0,0,0,0),r}function lx(e,i,r){const[o,a]=sx(r?.in,e,i),l=il(o),c=il(a),h=+l-rl(l),p=+c-rl(c);return Math.round((h-p)/ox)}function cx(e,i){const r=Ml(e,i),o=yt(e,0);return o.setFullYear(r,0,4),o.setHours(0,0,0,0),ki(o)}function fx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hx(e){return!(!fx(e)&&typeof e!="number"||isNaN(+Re(e)))}function dx(e,i){const r=Re(e,i?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const px={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gx=(e,i,r)=>{let o;const a=px[e];return typeof a=="string"?o=a:i===1?o=a.one:o=a.other.replace("{{count}}",i.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function Yu(e){return(i={})=>{const r=i.width?String(i.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const mx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yx={date:Yu({formats:mx,defaultWidth:"full"}),time:Yu({formats:xx,defaultWidth:"full"}),dateTime:Yu({formats:wx,defaultWidth:"full"})},_x={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vx=(e,i,r,o)=>_x[e];function _r(e){return(i,r)=>{const o=r?.context?String(r.context):"standalone";let a;if(o==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,h=r?.width?String(r.width):c;a=e.formattingValues[h]||e.formattingValues[c]}else{const c=e.defaultWidth,h=r?.width?String(r.width):e.defaultWidth;a=e.values[h]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(i):i;return a[l]}}const bx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ix={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ex={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ax=(e,i)=>{const r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Tx={ordinalNumber:Ax,era:_r({values:bx,defaultWidth:"wide"}),quarter:_r({values:kx,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_r({values:Sx,defaultWidth:"wide"}),day:_r({values:Cx,defaultWidth:"wide"}),dayPeriod:_r({values:Ix,defaultWidth:"wide",formattingValues:Ex,defaultFormattingWidth:"wide"})};function vr(e){return(i,r={})=>{const o=r.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],l=i.match(a);if(!l)return null;const c=l[0],h=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(h)?Fx(h,w=>w.test(c)):Px(h,w=>w.test(c));let d;d=e.valueCallback?e.valueCallback(p):p,d=r.valueCallback?r.valueCallback(d):d;const x=i.slice(c.length);return{value:d,rest:x}}}function Px(e,i){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&i(e[r]))return r}function Fx(e,i){for(let r=0;r<e.length;r++)if(i(e[r]))return r}function Lx(e){return(i,r={})=>{const o=i.match(e.matchPattern);if(!o)return null;const a=o[0],l=i.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const h=i.slice(a.length);return{value:c,rest:h}}}const Ox=/^(\d+)(th|st|nd|rd)?/i,Mx=/\d+/i,Rx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bx={any:[/^b/i,/^(a|c)/i]},Dx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zx={any:[/1/i,/2/i,/3/i,/4/i]},Nx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$x={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ux={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yx={ordinalNumber:Lx({matchPattern:Ox,parsePattern:Mx,valueCallback:e=>parseInt(e,10)}),era:vr({matchPatterns:Rx,defaultMatchWidth:"wide",parsePatterns:Bx,defaultParseWidth:"any"}),quarter:vr({matchPatterns:Dx,defaultMatchWidth:"wide",parsePatterns:zx,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vr({matchPatterns:Nx,defaultMatchWidth:"wide",parsePatterns:Wx,defaultParseWidth:"any"}),day:vr({matchPatterns:$x,defaultMatchWidth:"wide",parsePatterns:qx,defaultParseWidth:"any"}),dayPeriod:vr({matchPatterns:Ux,defaultMatchWidth:"any",parsePatterns:Hx,defaultParseWidth:"any"})},Gx={code:"en-US",formatDistance:gx,formatLong:yx,formatRelative:vx,localize:Tx,match:Yx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vx(e,i){const r=Re(e,i?.in);return lx(r,dx(r))+1}function Qx(e,i){const r=Re(e,i?.in),o=+ki(r)-+cx(r);return Math.round(o/Ol)+1}function Rl(e,i){const r=Re(e,i?.in),o=r.getFullYear(),a=Ei(),l=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=yt(i?.in||e,0);c.setFullYear(o+1,0,l),c.setHours(0,0,0,0);const h=Ir(c,i),p=yt(i?.in||e,0);p.setFullYear(o,0,l),p.setHours(0,0,0,0);const d=Ir(p,i);return+r>=+h?o+1:+r>=+d?o:o-1}function Xx(e,i){const r=Ei(),o=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Rl(e,i),l=yt(i?.in||e,0);return l.setFullYear(a,0,o),l.setHours(0,0,0,0),Ir(l,i)}function Kx(e,i){const r=Re(e,i?.in),o=+Ir(r,i)-+Xx(r,i);return Math.round(o/Ol)+1}function xn(e,i){const r=e<0?"-":"",o=Math.abs(e).toString().padStart(i,"0");return r+o}const mt={y(e,i){const r=e.getFullYear(),o=r>0?r:1-r;return xn(i==="yy"?o%100:o,i.length)},M(e,i){const r=e.getMonth();return i==="M"?String(r+1):xn(r+1,2)},d(e,i){return xn(e.getDate(),i.length)},a(e,i){const r=e.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,i){return xn(e.getHours()%12||12,i.length)},H(e,i){return xn(e.getHours(),i.length)},m(e,i){return xn(e.getMinutes(),i.length)},s(e,i){return xn(e.getSeconds(),i.length)},S(e,i){const r=i.length,o=e.getMilliseconds(),a=Math.trunc(o*Math.pow(10,r-3));return xn(a,i.length)}},tr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ul={G:function(e,i,r){const o=e.getFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(e,i,r){if(i==="yo"){const o=e.getFullYear(),a=o>0?o:1-o;return r.ordinalNumber(a,{unit:"year"})}return mt.y(e,i)},Y:function(e,i,r,o){const a=Rl(e,o),l=a>0?a:1-a;if(i==="YY"){const c=l%100;return xn(c,2)}return i==="Yo"?r.ordinalNumber(l,{unit:"year"}):xn(l,i.length)},R:function(e,i){const r=Ml(e);return xn(r,i.length)},u:function(e,i){const r=e.getFullYear();return xn(r,i.length)},Q:function(e,i,r){const o=Math.ceil((e.getMonth()+1)/3);switch(i){case"Q":return String(o);case"QQ":return xn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,i,r){const o=Math.ceil((e.getMonth()+1)/3);switch(i){case"q":return String(o);case"qq":return xn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,i,r){const o=e.getMonth();switch(i){case"M":case"MM":return mt.M(e,i);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(e,i,r){const o=e.getMonth();switch(i){case"L":return String(o+1);case"LL":return xn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(e,i,r,o){const a=Kx(e,o);return i==="wo"?r.ordinalNumber(a,{unit:"week"}):xn(a,i.length)},I:function(e,i,r){const o=Qx(e);return i==="Io"?r.ordinalNumber(o,{unit:"week"}):xn(o,i.length)},d:function(e,i,r){return i==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):mt.d(e,i)},D:function(e,i,r){const o=Vx(e);return i==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):xn(o,i.length)},E:function(e,i,r){const o=e.getDay();switch(i){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(e,i,r,o){const a=e.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(i){case"e":return String(l);case"ee":return xn(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,i,r,o){const a=e.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(i){case"c":return String(l);case"cc":return xn(l,i.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,i,r){const o=e.getDay(),a=o===0?7:o;switch(i){case"i":return String(a);case"ii":return xn(a,i.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(e,i,r){const a=e.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,i,r){const o=e.getHours();let a;switch(o===12?a=tr.noon:o===0?a=tr.midnight:a=o/12>=1?"pm":"am",i){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,i,r){const o=e.getHours();let a;switch(o>=17?a=tr.evening:o>=12?a=tr.afternoon:o>=4?a=tr.morning:a=tr.night,i){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,i,r){if(i==="ho"){let o=e.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return mt.h(e,i)},H:function(e,i,r){return i==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):mt.H(e,i)},K:function(e,i,r){const o=e.getHours()%12;return i==="Ko"?r.ordinalNumber(o,{unit:"hour"}):xn(o,i.length)},k:function(e,i,r){let o=e.getHours();return o===0&&(o=24),i==="ko"?r.ordinalNumber(o,{unit:"hour"}):xn(o,i.length)},m:function(e,i,r){return i==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):mt.m(e,i)},s:function(e,i,r){return i==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):mt.s(e,i)},S:function(e,i){return mt.S(e,i)},X:function(e,i,r){const o=e.getTimezoneOffset();if(o===0)return"Z";switch(i){case"X":return al(o);case"XXXX":case"XX":return zt(o);case"XXXXX":case"XXX":default:return zt(o,":")}},x:function(e,i,r){const o=e.getTimezoneOffset();switch(i){case"x":return al(o);case"xxxx":case"xx":return zt(o);case"xxxxx":case"xxx":default:return zt(o,":")}},O:function(e,i,r){const o=e.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+ol(o,":");case"OOOO":default:return"GMT"+zt(o,":")}},z:function(e,i,r){const o=e.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+ol(o,":");case"zzzz":default:return"GMT"+zt(o,":")}},t:function(e,i,r){const o=Math.trunc(+e/1e3);return xn(o,i.length)},T:function(e,i,r){return xn(+e,i.length)}};function ol(e,i=""){const r=e>0?"-":"+",o=Math.abs(e),a=Math.trunc(o/60),l=o%60;return l===0?r+String(a):r+String(a)+i+xn(l,2)}function al(e,i){return e%60===0?(e>0?"-":"+")+xn(Math.abs(e)/60,2):zt(e,i)}function zt(e,i=""){const r=e>0?"-":"+",o=Math.abs(e),a=xn(Math.trunc(o/60),2),l=xn(o%60,2);return r+a+i+l}const sl=(e,i)=>{switch(e){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},Bl=(e,i)=>{switch(e){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},Jx=(e,i)=>{const r=e.match(/(P+)(p+)?/)||[],o=r[1],a=r[2];if(!a)return sl(e,i);let l;switch(o){case"P":l=i.dateTime({width:"short"});break;case"PP":l=i.dateTime({width:"medium"});break;case"PPP":l=i.dateTime({width:"long"});break;case"PPPP":default:l=i.dateTime({width:"full"});break}return l.replace("{{date}}",sl(o,i)).replace("{{time}}",Bl(a,i))},Zx={p:Bl,P:Jx},jx=/^D+$/,n0=/^Y+$/,e0=["D","DD","YY","YYYY"];function t0(e){return jx.test(e)}function r0(e){return n0.test(e)}function i0(e,i,r){const o=u0(e,i,r);if(console.warn(o),e0.includes(e))throw new RangeError(o)}function u0(e,i,r){const o=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${i}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,s0=/^'([^]*?)'?$/,l0=/''/g,c0=/[a-zA-Z]/;function Dl(e,i,r){const o=Ei(),a=o.locale??Gx,l=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=o.weekStartsOn??o.locale?.options?.weekStartsOn??0,h=Re(e,r?.in);if(!hx(h))throw new RangeError("Invalid time value");let p=i.match(a0).map(x=>{const w=x[0];if(w==="p"||w==="P"){const S=Zx[w];return S(x,a.formatLong)}return x}).join("").match(o0).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:f0(x)};if(ul[w])return{isToken:!0,value:x};if(w.match(c0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(p=a.localize.preprocessor(h,p));const d={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return p.map(x=>{if(!x.isToken)return x.value;const w=x.value;(r0(w)||t0(w))&&i0(w,i,String(e));const S=ul[w[0]];return S(h,w,a.localize,d)}).join("")}function f0(e){const i=e.match(s0);return i?i[1].replace(l0,"'"):e}const Gu=vt(bt.FileService);async function h0(){try{const e=`${Dl(new Date,"dd.MM.yyyy")}.md`,i=Hn.workspace.getLeavesOfType("markdown"),r=[];for(const o of i){const l=o.view.file;l&&(r.push(l.path),l.path.endsWith(e)&&(Gu.dev("Closing today's note: "+l.path),await o.detach()))}Gu.dev("Currently open files: "+r.join(", "))}catch(e){Gu.error("Failed to run onStart:",e)}}const Nt={component:"mdc-component",input:"mdc-input",hiddenValue:"mdc-hidden-value"};class d0{constructor(){this.logger=vt(bt.TagsService),this.component={start:i=>{const r={componentName:i};return this.logger.dev("Component start",r),`<span class="${Nt.component} start" data-meta='${JSON.stringify(r)}' style="display:none"></span>`},end:i=>{const r={componentName:i};return this.logger.dev("Component end",r),`<span class="${Nt.component} end" data-meta='${JSON.stringify(r)}' style="display:none"></span>`},wrap:(i,r,o=!0)=>{const a=o?`
${r}
`:r;return this.logger.dev("Component wrap",{componentName:i,content:r}),this.component.start(i)+a+this.component.end(i)}},this.input={start:(i,r,o)=>{const a={componentName:i,inputName:r,inputType:o};return this.logger.dev("Input start",a),`<span class="${Nt.input}" data-meta='${JSON.stringify(a)}' style="display:none"></span>`},end:(i,r,o)=>{const a={componentName:i,inputName:r,inputType:o};return this.logger.dev("Input end",a),`<span class="${Nt.input} end" data-meta='${JSON.stringify(a)}' style="display:none"></span>`},wrap:i=>{const{componentName:r,inputName:o,inputType:a,content:l,withNewLines:c=!0}=i,h=c?`
${l}
`:l;return this.logger.dev("Input wrap",{componentName:r,inputName:o,content:l}),this.input.start(r,o,a)+h+this.input.end(r,o,a)}},this.hiddenValue=(i,r,o)=>{const a={componentName:i,inputName:r,value:o};return this.logger.dev("Hidden value set",a),`<span class="${Nt.hiddenValue}" data-meta='${JSON.stringify(a)}' style="display:none"></span>`}}}const ro=new d0;function ll(e){if(e)throw e}var Vu,cl;function p0(){if(cl)return Vu;cl=1;var e=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):i.call(d)==="[object Array]"},l=function(d){if(!d||i.call(d)!=="[object Object]")return!1;var x=e.call(d,"constructor"),w=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!x&&!w)return!1;var S;for(S in d);return typeof S>"u"||e.call(d,S)},c=function(d,x){r&&x.name==="__proto__"?r(d,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):d[x.name]=x.newValue},h=function(d,x){if(x==="__proto__")if(e.call(d,x)){if(o)return o(d,x).value}else return;return d[x]};return Vu=function p(){var d,x,w,S,y,z,N=arguments[0],J=1,M=arguments.length,ln=!1;for(typeof N=="boolean"&&(ln=N,N=arguments[1]||{},J=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});J<M;++J)if(d=arguments[J],d!=null)for(x in d)w=h(N,x),S=h(d,x),N!==S&&(ln&&S&&(l(S)||(y=a(S)))?(y?(y=!1,z=w&&a(w)?w:[]):z=w&&l(w)?w:{},c(N,{name:x,newValue:p(ln,z,S)})):typeof S<"u"&&c(N,{name:x,newValue:S}));return N},Vu}var g0=p0();const Qu=j1(g0);function io(e){if(typeof e!="object"||e===null)return!1;const i=Object.getPrototypeOf(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function m0(){const e=[],i={run:r,use:o};return i;function r(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...a);function h(p,...d){const x=e[++l];let w=-1;if(p){c(p);return}for(;++w<a.length;)(d[w]===null||d[w]===void 0)&&(d[w]=a[w]);a=d,x?x0(x,h)(...d):c(null,...d)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),i}}function x0(e,i){let r;return o;function o(...c){const h=e.length>c.length;let p;h&&c.push(a);try{p=e.apply(this,c)}catch(d){const x=d;if(h&&r)throw x;return a(x)}h||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(c,...h){r||(r=!0,i(c,...h))}function l(c){a(null,c)}}function Sr(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?fl(e.position):"start"in e||"end"in e?fl(e):"line"in e||"column"in e?uo(e):""}function uo(e){return hl(e&&e.line)+":"+hl(e&&e.column)}function fl(e){return uo(e&&e.start)+"-"+uo(e&&e.end)}function hl(e){return e&&typeof e=="number"?e:1}class re extends Error{constructor(i,r,o){super(),typeof r=="string"&&(o=r,r=void 0);let a="",l={},c=!1;if(r&&("line"in r&&"column"in r?l={place:r}:"start"in r&&"end"in r?l={place:r}:"type"in r?l={ancestors:[r],place:r.position}:l={...r}),typeof i=="string"?a=i:!l.cause&&i&&(c=!0,a=i.message,l.cause=i),!l.ruleId&&!l.source&&typeof o=="string"){const p=o.indexOf(":");p===-1?l.ruleId=o:(l.source=o.slice(0,p),l.ruleId=o.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const h=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=Sr(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}re.prototype.file="";re.prototype.name="";re.prototype.reason="";re.prototype.message="";re.prototype.stack="";re.prototype.column=void 0;re.prototype.line=void 0;re.prototype.ancestors=void 0;re.prototype.cause=void 0;re.prototype.fatal=void 0;re.prototype.place=void 0;re.prototype.ruleId=void 0;re.prototype.source=void 0;const $e={basename:w0,dirname:y0,extname:_0,join:v0,sep:"/"};function w0(e,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');Er(e);let r=0,o=-1,a=e.length,l;if(i===void 0||i.length===0||i.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(l){r=a+1;break}}else o<0&&(l=!0,o=a+1);return o<0?"":e.slice(r,o)}if(i===e)return"";let c=-1,h=i.length-1;for(;a--;)if(e.codePointAt(a)===47){if(l){r=a+1;break}}else c<0&&(l=!0,c=a+1),h>-1&&(e.codePointAt(a)===i.codePointAt(h--)?h<0&&(o=a):(h=-1,o=c));return r===o?o=c:o<0&&(o=e.length),e.slice(r,o)}function y0(e){if(Er(e),e.length===0)return".";let i=-1,r=e.length,o;for(;--r;)if(e.codePointAt(r)===47){if(o){i=r;break}}else o||(o=!0);return i<0?e.codePointAt(0)===47?"/":".":i===1&&e.codePointAt(0)===47?"//":e.slice(0,i)}function _0(e){Er(e);let i=e.length,r=-1,o=0,a=-1,l=0,c;for(;i--;){const h=e.codePointAt(i);if(h===47){if(c){o=i+1;break}continue}r<0&&(c=!0,r=i+1),h===46?a<0?a=i:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||r<0||l===0||l===1&&a===r-1&&a===o+1?"":e.slice(a,r)}function v0(...e){let i=-1,r;for(;++i<e.length;)Er(e[i]),e[i]&&(r=r===void 0?e[i]:r+"/"+e[i]);return r===void 0?".":b0(r)}function b0(e){Er(e);const i=e.codePointAt(0)===47;let r=k0(e,!i);return r.length===0&&!i&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),i?"/"+r:r}function k0(e,i){let r="",o=0,a=-1,l=0,c=-1,h,p;for(;++c<=e.length;){if(c<e.length)h=e.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(r.length<2||o!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(p=r.lastIndexOf("/"),p!==r.length-1){p<0?(r="",o=0):(r=r.slice(0,p),o=r.length-1-r.lastIndexOf("/")),a=c,l=0;continue}}else if(r.length>0){r="",o=0,a=c,l=0;continue}}i&&(r=r.length>0?r+"/..":"..",o=2)}else r.length>0?r+="/"+e.slice(a+1,c):r=e.slice(a+1,c),o=c-a-1;a=c,l=0}else h===46&&l>-1?l++:l=-1}return r}function Er(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const S0={cwd:C0};function C0(){return"/"}function oo(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function I0(e){if(typeof e=="string")e=new URL(e);else if(!oo(e)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(e.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return E0(e)}function E0(e){if(e.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const i=e.pathname;let r=-1;for(;++r<i.length;)if(i.codePointAt(r)===37&&i.codePointAt(r+1)===50){const o=i.codePointAt(r+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(i)}const Xu=["history","path","basename","stem","extname","dirname"];class A0{constructor(i){let r;i?oo(i)?r={path:i}:typeof i=="string"||T0(i)?r={value:i}:r=i:r={},this.cwd="cwd"in r?"":S0.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<Xu.length;){const l=Xu[o];l in r&&r[l]!==void 0&&r[l]!==null&&(this[l]=l==="history"?[...r[l]]:r[l])}let a;for(a in r)Xu.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?$e.basename(this.path):void 0}set basename(i){Ju(i,"basename"),Ku(i,"basename"),this.path=$e.join(this.dirname||"",i)}get dirname(){return typeof this.path=="string"?$e.dirname(this.path):void 0}set dirname(i){dl(this.basename,"dirname"),this.path=$e.join(i||"",this.basename)}get extname(){return typeof this.path=="string"?$e.extname(this.path):void 0}set extname(i){if(Ku(i,"extname"),dl(this.dirname,"extname"),i){if(i.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$e.join(this.dirname,this.stem+(i||""))}get path(){return this.history[this.history.length-1]}set path(i){oo(i)&&(i=I0(i)),Ju(i,"path"),this.path!==i&&this.history.push(i)}get stem(){return typeof this.path=="string"?$e.basename(this.path,this.extname):void 0}set stem(i){Ju(i,"stem"),Ku(i,"stem"),this.path=$e.join(this.dirname||"",i+(this.extname||""))}fail(i,r,o){const a=this.message(i,r,o);throw a.fatal=!0,a}info(i,r,o){const a=this.message(i,r,o);return a.fatal=void 0,a}message(i,r,o){const a=new re(i,r,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(i){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(i||void 0).decode(this.value)}}function Ku(e,i){if(e&&e.includes($e.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+$e.sep+"`")}function Ju(e,i){if(!e)throw new Error("`"+i+"` cannot be empty")}function dl(e,i){if(!e)throw new Error("Setting `"+i+"` requires `path` to be set too")}function T0(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const P0=(function(e){const o=this.constructor.prototype,a=o[e],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,o),l}),F0={}.hasOwnProperty;class mo extends P0{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=m0()}copy(){const i=new mo;let r=-1;for(;++r<this.attachers.length;){const o=this.attachers[r];i.use(...o)}return i.data(Qu(!0,{},this.namespace)),i}data(i,r){return typeof i=="string"?arguments.length===2?(no("data",this.frozen),this.namespace[i]=r,this):F0.call(this.namespace,i)&&this.namespace[i]||void 0:i?(no("data",this.frozen),this.namespace=i,this):this.namespace}freeze(){if(this.frozen)return this;const i=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const a=r.call(i,...o);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(i){this.freeze();const r=vi(i),o=this.parser||this.Parser;return Zu("parse",o),o(String(r),r)}process(i,r){const o=this;return this.freeze(),Zu("process",this.parser||this.Parser),ju("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(l,c){const h=vi(i),p=o.parse(h);o.run(p,h,function(x,w,S){if(x||!w||!S)return d(x);const y=w,z=o.stringify(y,S);O0(z)?S.value=z:S.result=z,d(x,S)});function d(x,w){x||!w?c(x):l?l(w):r(void 0,w)}}}processSync(i){let r=!1,o;return this.freeze(),Zu("processSync",this.parser||this.Parser),ju("processSync",this.compiler||this.Compiler),this.process(i,a),gl("processSync","process",r),o;function a(l,c){r=!0,ll(l),o=c}}run(i,r,o){pl(i),this.freeze();const a=this.transformers;return!o&&typeof r=="function"&&(o=r,r=void 0),o?l(void 0,o):new Promise(l);function l(c,h){const p=vi(r);a.run(i,p,d);function d(x,w,S){const y=w||i;x?h(x):c?c(y):o(void 0,y,S)}}}runSync(i,r){let o=!1,a;return this.run(i,r,l),gl("runSync","run",o),a;function l(c,h){ll(c),a=h,o=!0}}stringify(i,r){this.freeze();const o=vi(r),a=this.compiler||this.Compiler;return ju("stringify",a),pl(i),a(i,o)}use(i,...r){const o=this.attachers,a=this.namespace;if(no("use",this.frozen),i!=null)if(typeof i=="function")p(i,r);else if(typeof i=="object")Array.isArray(i)?h(i):c(i);else throw new TypeError("Expected usable value, not `"+i+"`");return this;function l(d){if(typeof d=="function")p(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[x,...w]=d;p(x,w)}else c(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function c(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(d.plugins),d.settings&&(a.settings=Qu(!0,a.settings,d.settings))}function h(d){let x=-1;if(d!=null)if(Array.isArray(d))for(;++x<d.length;){const w=d[x];l(w)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function p(d,x){let w=-1,S=-1;for(;++w<o.length;)if(o[w][0]===d){S=w;break}if(S===-1)o.push([d,...x]);else if(x.length>0){let[y,...z]=x;const N=o[S][1];io(N)&&io(y)&&(y=Qu(!0,N,y)),o[S]=[d,y,...z]}}}}const Si=new mo().freeze();function Zu(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ju(e,i){if(typeof i!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function no(e,i){if(i)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pl(e){if(!io(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function gl(e,i,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+i+"` instead")}function vi(e){return L0(e)?e:new A0(e)}function L0(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function O0(e){return typeof e=="string"||M0(e)}function M0(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const R0={};function xo(e,i){const r=R0,o=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return zl(e,o,a)}function zl(e,i,r){if(B0(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(i&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ml(e.children,i,r)}return Array.isArray(e)?ml(e,i,r):""}function ml(e,i,r){const o=[];let a=-1;for(;++a<e.length;)o[a]=zl(e[a],i,r);return o.join("")}function B0(e){return!!(e&&typeof e=="object")}const xl=document.createElement("i");function wo(e){const i="&"+e+";";xl.innerHTML=i;const r=xl.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===i?!1:r}function He(e,i,r,o){const a=e.length;let l=0,c;if(i<0?i=-i>a?0:a+i:i=i>a?a:i,r=r>0?r:0,o.length<1e4)c=Array.from(o),c.unshift(i,r),e.splice(...c);else for(r&&e.splice(i,r);l<o.length;)c=o.slice(l,l+1e4),c.unshift(i,0),e.splice(...c),l+=1e4,i+=1e4}function Ce(e,i){return e.length>0?(He(e,e.length,0,i),e):i}const wl={}.hasOwnProperty;function D0(e){const i={};let r=-1;for(;++r<e.length;)z0(i,e[r]);return i}function z0(e,i){let r;for(r in i){const a=(wl.call(e,r)?e[r]:void 0)||(e[r]={}),l=i[r];let c;if(l)for(c in l){wl.call(a,c)||(a[c]=[]);const h=l[c];N0(a[c],Array.isArray(h)?h:h?[h]:[])}}}function N0(e,i){let r=-1;const o=[];for(;++r<i.length;)(i[r].add==="after"?e:o).push(i[r]);He(e,0,0,o)}function Nl(e,i){const r=Number.parseInt(e,i);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function ir(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qe=kt(/[A-Za-z]/),Me=kt(/[\dA-Za-z]/),W0=kt(/[#-'*+\--9=?A-Z^-~]/);function ao(e){return e!==null&&(e<32||e===127)}const so=kt(/\d/),$0=kt(/[\dA-Fa-f]/),q0=kt(/[!-/:-@[-`{-~]/);function Q(e){return e!==null&&e<-2}function te(e){return e!==null&&(e<0||e===32)}function dn(e){return e===-2||e===-1||e===32}const U0=kt(new RegExp("\\p{P}|\\p{S}","u")),H0=kt(/\s/);function kt(e){return i;function i(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function kn(e,i,r,o){const a=o?o-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return dn(p)?(e.enter(r),h(p)):i(p)}function h(p){return dn(p)&&l++<a?(e.consume(p),h):(e.exit(r),i(p))}}const Y0={tokenize:G0};function G0(e){const i=e.attempt(this.parser.constructs.contentInitial,o,a);let r;return i;function o(h){if(h===null){e.consume(h);return}return e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),kn(e,i,"linePrefix")}function a(h){return e.enter("paragraph"),l(h)}function l(h){const p=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=p),r=p,c(h)}function c(h){if(h===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(h);return}return Q(h)?(e.consume(h),e.exit("chunkText"),l):(e.consume(h),c)}}const V0={tokenize:Q0},yl={tokenize:X0};function Q0(e){const i=this,r=[];let o=0,a,l,c;return h;function h(W){if(o<r.length){const pn=r[o];return i.containerState=pn[1],e.attempt(pn[0].continuation,p,d)(W)}return d(W)}function p(W){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,a&&ln();const pn=i.events.length;let sn=pn,O;for(;sn--;)if(i.events[sn][0]==="exit"&&i.events[sn][1].type==="chunkFlow"){O=i.events[sn][1].end;break}M(o);let tn=pn;for(;tn<i.events.length;)i.events[tn][1].end={...O},tn++;return He(i.events,sn+1,0,i.events.slice(pn)),i.events.length=tn,d(W)}return h(W)}function d(W){if(o===r.length){if(!a)return S(W);if(a.currentConstruct&&a.currentConstruct.concrete)return z(W);i.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return i.containerState={},e.check(yl,x,w)(W)}function x(W){return a&&ln(),M(o),S(W)}function w(W){return i.parser.lazy[i.now().line]=o!==r.length,c=i.now().offset,z(W)}function S(W){return i.containerState={},e.attempt(yl,y,z)(W)}function y(W){return o++,r.push([i.currentConstruct,i.containerState]),S(W)}function z(W){if(W===null){a&&ln(),M(0),e.consume(W);return}return a=a||i.parser.flow(i.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),N(W)}function N(W){if(W===null){J(e.exit("chunkFlow"),!0),M(0),e.consume(W);return}return Q(W)?(e.consume(W),J(e.exit("chunkFlow")),o=0,i.interrupt=void 0,h):(e.consume(W),N)}function J(W,pn){const sn=i.sliceStream(W);if(pn&&sn.push(null),W.previous=l,l&&(l.next=W),l=W,a.defineSkip(W.start),a.write(sn),i.parser.lazy[W.start.line]){let O=a.events.length;for(;O--;)if(a.events[O][1].start.offset<c&&(!a.events[O][1].end||a.events[O][1].end.offset>c))return;const tn=i.events.length;let _n=tn,cn,wn;for(;_n--;)if(i.events[_n][0]==="exit"&&i.events[_n][1].type==="chunkFlow"){if(cn){wn=i.events[_n][1].end;break}cn=!0}for(M(o),O=tn;O<i.events.length;)i.events[O][1].end={...wn},O++;He(i.events,_n+1,0,i.events.slice(tn)),i.events.length=O}}function M(W){let pn=r.length;for(;pn-- >W;){const sn=r[pn];i.containerState=sn[1],sn[0].exit.call(i,e)}r.length=W}function ln(){a.write([null]),l=void 0,a=void 0,i.containerState._closeFlow=void 0}}function X0(e,i,r){return kn(e,e.attempt(this.parser.constructs.document,i,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ci(e){if(e===null||te(e)||H0(e))return 1;if(U0(e))return 2}function yo(e,i,r){const o=[];let a=-1;for(;++a<e.length;){const l=e[a].resolveAll;l&&!o.includes(l)&&(i=l(i,r),o.push(l))}return i}const lo={name:"attention",resolveAll:K0,tokenize:J0};function K0(e,i){let r=-1,o,a,l,c,h,p,d,x;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(o=r;o--;)if(e[o][0]==="exit"&&e[o][1].type==="attentionSequence"&&e[o][1]._open&&i.sliceSerialize(e[o][1]).charCodeAt(0)===i.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[o][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[o][1].end.offset-e[o][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;p=e[o][1].end.offset-e[o][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const w={...e[o][1].end},S={...e[r][1].start};_l(w,-p),_l(S,p),c={type:p>1?"strongSequence":"emphasisSequence",start:w,end:{...e[o][1].end}},h={type:p>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:S},l={type:p>1?"strongText":"emphasisText",start:{...e[o][1].end},end:{...e[r][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},e[o][1].end={...c.start},e[r][1].start={...h.end},d=[],e[o][1].end.offset-e[o][1].start.offset&&(d=Ce(d,[["enter",e[o][1],i],["exit",e[o][1],i]])),d=Ce(d,[["enter",a,i],["enter",c,i],["exit",c,i],["enter",l,i]]),d=Ce(d,yo(i.parser.constructs.insideSpan.null,e.slice(o+1,r),i)),d=Ce(d,[["exit",l,i],["enter",h,i],["exit",h,i],["exit",a,i]]),e[r][1].end.offset-e[r][1].start.offset?(x=2,d=Ce(d,[["enter",e[r][1],i],["exit",e[r][1],i]])):x=0,He(e,o-1,r-o+3,d),r=o+d.length-x-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function J0(e,i){const r=this.parser.constructs.attentionMarkers.null,o=this.previous,a=Ci(o);let l;return c;function c(p){return l=p,e.enter("attentionSequence"),h(p)}function h(p){if(p===l)return e.consume(p),h;const d=e.exit("attentionSequence"),x=Ci(p),w=!x||x===2&&a||r.includes(p),S=!a||a===2&&x||r.includes(o);return d._open=!!(l===42?w:w&&(a||!S)),d._close=!!(l===42?S:S&&(x||!w)),i(p)}}function _l(e,i){e.column+=i,e.offset+=i,e._bufferIndex+=i}const Z0={name:"autolink",tokenize:j0};function j0(e,i,r){let o=0;return a;function a(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(y){return qe(y)?(e.consume(y),c):y===64?r(y):d(y)}function c(y){return y===43||y===45||y===46||Me(y)?(o=1,h(y)):d(y)}function h(y){return y===58?(e.consume(y),o=0,p):(y===43||y===45||y===46||Me(y))&&o++<32?(e.consume(y),h):(o=0,d(y))}function p(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),i):y===null||y===32||y===60||ao(y)?r(y):(e.consume(y),p)}function d(y){return y===64?(e.consume(y),x):W0(y)?(e.consume(y),d):r(y)}function x(y){return Me(y)?w(y):r(y)}function w(y){return y===46?(e.consume(y),o=0,x):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),i):S(y)}function S(y){if((y===45||Me(y))&&o++<63){const z=y===45?S:w;return e.consume(y),z}return r(y)}}const Ai={partial:!0,tokenize:nw};function nw(e,i,r){return o;function o(l){return dn(l)?kn(e,a,"linePrefix")(l):a(l)}function a(l){return l===null||Q(l)?i(l):r(l)}}const Wl={continuation:{tokenize:tw},exit:rw,name:"blockQuote",tokenize:ew};function ew(e,i,r){const o=this;return a;function a(c){if(c===62){const h=o.containerState;return h.open||(e.enter("blockQuote",{_container:!0}),h.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),l}return r(c)}function l(c){return dn(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),i):(e.exit("blockQuotePrefix"),i(c))}}function tw(e,i,r){const o=this;return a;function a(c){return dn(c)?kn(e,l,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return e.attempt(Wl,i,r)(c)}}function rw(e){e.exit("blockQuote")}const $l={name:"characterEscape",tokenize:iw};function iw(e,i,r){return o;function o(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),a}function a(l){return q0(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),i):r(l)}}const ql={name:"characterReference",tokenize:uw};function uw(e,i,r){const o=this;let a=0,l,c;return h;function h(w){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(w),e.exit("characterReferenceMarker"),p}function p(w){return w===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(w),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),l=31,c=Me,x(w))}function d(w){return w===88||w===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(w),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,c=$0,x):(e.enter("characterReferenceValue"),l=7,c=so,x(w))}function x(w){if(w===59&&a){const S=e.exit("characterReferenceValue");return c===Me&&!wo(o.sliceSerialize(S))?r(w):(e.enter("characterReferenceMarker"),e.consume(w),e.exit("characterReferenceMarker"),e.exit("characterReference"),i)}return c(w)&&a++<l?(e.consume(w),x):r(w)}}const vl={partial:!0,tokenize:aw},bl={concrete:!0,name:"codeFenced",tokenize:ow};function ow(e,i,r){const o=this,a={partial:!0,tokenize:sn};let l=0,c=0,h;return p;function p(O){return d(O)}function d(O){const tn=o.events[o.events.length-1];return l=tn&&tn[1].type==="linePrefix"?tn[2].sliceSerialize(tn[1],!0).length:0,h=O,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),x(O)}function x(O){return O===h?(c++,e.consume(O),x):c<3?r(O):(e.exit("codeFencedFenceSequence"),dn(O)?kn(e,w,"whitespace")(O):w(O))}function w(O){return O===null||Q(O)?(e.exit("codeFencedFence"),o.interrupt?i(O):e.check(vl,N,pn)(O)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),S(O))}function S(O){return O===null||Q(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),w(O)):dn(O)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),kn(e,y,"whitespace")(O)):O===96&&O===h?r(O):(e.consume(O),S)}function y(O){return O===null||Q(O)?w(O):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),z(O))}function z(O){return O===null||Q(O)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),w(O)):O===96&&O===h?r(O):(e.consume(O),z)}function N(O){return e.attempt(a,pn,J)(O)}function J(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),M}function M(O){return l>0&&dn(O)?kn(e,ln,"linePrefix",l+1)(O):ln(O)}function ln(O){return O===null||Q(O)?e.check(vl,N,pn)(O):(e.enter("codeFlowValue"),W(O))}function W(O){return O===null||Q(O)?(e.exit("codeFlowValue"),ln(O)):(e.consume(O),W)}function pn(O){return e.exit("codeFenced"),i(O)}function sn(O,tn,_n){let cn=0;return wn;function wn(on){return O.enter("lineEnding"),O.consume(on),O.exit("lineEnding"),U}function U(on){return O.enter("codeFencedFence"),dn(on)?kn(O,q,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(on):q(on)}function q(on){return on===h?(O.enter("codeFencedFenceSequence"),vn(on)):_n(on)}function vn(on){return on===h?(cn++,O.consume(on),vn):cn>=c?(O.exit("codeFencedFenceSequence"),dn(on)?kn(O,En,"whitespace")(on):En(on)):_n(on)}function En(on){return on===null||Q(on)?(O.exit("codeFencedFence"),tn(on)):_n(on)}}}function aw(e,i,r){const o=this;return a;function a(c){return c===null?r(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l)}function l(c){return o.parser.lazy[o.now().line]?r(c):i(c)}}const eo={name:"codeIndented",tokenize:lw},sw={partial:!0,tokenize:cw};function lw(e,i,r){const o=this;return a;function a(d){return e.enter("codeIndented"),kn(e,l,"linePrefix",5)(d)}function l(d){const x=o.events[o.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(d):r(d)}function c(d){return d===null?p(d):Q(d)?e.attempt(sw,c,p)(d):(e.enter("codeFlowValue"),h(d))}function h(d){return d===null||Q(d)?(e.exit("codeFlowValue"),c(d)):(e.consume(d),h)}function p(d){return e.exit("codeIndented"),i(d)}}function cw(e,i,r){const o=this;return a;function a(c){return o.parser.lazy[o.now().line]?r(c):Q(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),a):kn(e,l,"linePrefix",5)(c)}function l(c){const h=o.events[o.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?i(c):Q(c)?a(c):r(c)}}const fw={name:"codeText",previous:dw,resolve:hw,tokenize:pw};function hw(e){let i=e.length-4,r=3,o,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[i][1].type==="lineEnding"||e[i][1].type==="space")){for(o=r;++o<i;)if(e[o][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[i][1].type="codeTextPadding",r+=2,i-=2;break}}for(o=r-1,i++;++o<=i;)a===void 0?o!==i&&e[o][1].type!=="lineEnding"&&(a=o):(o===i||e[o][1].type==="lineEnding")&&(e[a][1].type="codeTextData",o!==a+2&&(e[a][1].end=e[o-1][1].end,e.splice(a+2,o-a-2),i-=o-a-2,o=a+2),a=void 0);return e}function dw(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pw(e,i,r){let o=0,a,l;return c;function c(w){return e.enter("codeText"),e.enter("codeTextSequence"),h(w)}function h(w){return w===96?(e.consume(w),o++,h):(e.exit("codeTextSequence"),p(w))}function p(w){return w===null?r(w):w===32?(e.enter("space"),e.consume(w),e.exit("space"),p):w===96?(l=e.enter("codeTextSequence"),a=0,x(w)):Q(w)?(e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),p):(e.enter("codeTextData"),d(w))}function d(w){return w===null||w===32||w===96||Q(w)?(e.exit("codeTextData"),p(w)):(e.consume(w),d)}function x(w){return w===96?(e.consume(w),a++,x):a===o?(e.exit("codeTextSequence"),e.exit("codeText"),i(w)):(l.type="codeTextData",d(w))}}class gw{constructor(i){this.left=i?[...i]:[],this.right=[]}get(i){if(i<0||i>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+i+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return i<this.left.length?this.left[i]:this.right[this.right.length-i+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(i,r){const o=r??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(i,o):i>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-i+this.left.length).reverse():this.left.slice(i).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(i,r,o){const a=r||0;this.setCursor(Math.trunc(i));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return o&&br(this.left,o),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(i){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(i)}pushMany(i){this.setCursor(Number.POSITIVE_INFINITY),br(this.left,i)}unshift(i){this.setCursor(0),this.right.push(i)}unshiftMany(i){this.setCursor(0),br(this.right,i.reverse())}setCursor(i){if(!(i===this.left.length||i>this.left.length&&this.right.length===0||i<0&&this.left.length===0))if(i<this.left.length){const r=this.left.splice(i,Number.POSITIVE_INFINITY);br(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-i,Number.POSITIVE_INFINITY);br(this.left,r.reverse())}}}function br(e,i){let r=0;if(i.length<1e4)e.push(...i);else for(;r<i.length;)e.push(...i.slice(r,r+1e4)),r+=1e4}function Ul(e){const i={};let r=-1,o,a,l,c,h,p,d;const x=new gw(e);for(;++r<x.length;){for(;r in i;)r=i[r];if(o=x.get(r),r&&o[1].type==="chunkFlow"&&x.get(r-1)[1].type==="listItemPrefix"&&(p=o[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(o[0]==="enter")o[1].contentType&&(Object.assign(i,mw(x,r)),r=i[r],d=!0);else if(o[1]._container){for(l=r,a=void 0;l--;)if(c=x.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(x.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(o[1].end={...x.get(a)[1].start},h=x.slice(a,r),h.unshift(o),x.splice(a,r-a+1,h))}}return He(e,0,Number.POSITIVE_INFINITY,x.slice(0)),!d}function mw(e,i){const r=e.get(i)[1],o=e.get(i)[2];let a=i-1;const l=[];let c=r._tokenizer;c||(c=o.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,p=[],d={};let x,w,S=-1,y=r,z=0,N=0;const J=[N];for(;y;){for(;e.get(++a)[1]!==y;);l.push(a),y._tokenizer||(x=o.sliceStream(y),y.next||x.push(null),w&&c.defineSkip(y.start),y._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),y._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),w=y,y=y.next}for(y=r;++S<h.length;)h[S][0]==="exit"&&h[S-1][0]==="enter"&&h[S][1].type===h[S-1][1].type&&h[S][1].start.line!==h[S][1].end.line&&(N=S+1,J.push(N),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(c.events=[],y?(y._tokenizer=void 0,y.previous=void 0):J.pop(),S=J.length;S--;){const M=h.slice(J[S],J[S+1]),ln=l.pop();p.push([ln,ln+M.length-1]),e.splice(ln,2,M)}for(p.reverse(),S=-1;++S<p.length;)d[z+p[S][0]]=z+p[S][1],z+=p[S][1]-p[S][0]-1;return d}const xw={resolve:yw,tokenize:_w},ww={partial:!0,tokenize:vw};function yw(e){return Ul(e),e}function _w(e,i){let r;return o;function o(h){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?l(h):Q(h)?e.check(ww,c,l)(h):(e.consume(h),a)}function l(h){return e.exit("chunkContent"),e.exit("content"),i(h)}function c(h){return e.consume(h),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function vw(e,i,r){const o=this;return a;function a(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),kn(e,l,"linePrefix")}function l(c){if(c===null||Q(c))return r(c);const h=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?i(c):e.interrupt(o.parser.constructs.flow,r,i)(c)}}function Hl(e,i,r,o,a,l,c,h,p){const d=p||Number.POSITIVE_INFINITY;let x=0;return w;function w(M){return M===60?(e.enter(o),e.enter(a),e.enter(l),e.consume(M),e.exit(l),S):M===null||M===32||M===41||ao(M)?r(M):(e.enter(o),e.enter(c),e.enter(h),e.enter("chunkString",{contentType:"string"}),N(M))}function S(M){return M===62?(e.enter(l),e.consume(M),e.exit(l),e.exit(a),e.exit(o),i):(e.enter(h),e.enter("chunkString",{contentType:"string"}),y(M))}function y(M){return M===62?(e.exit("chunkString"),e.exit(h),S(M)):M===null||M===60||Q(M)?r(M):(e.consume(M),M===92?z:y)}function z(M){return M===60||M===62||M===92?(e.consume(M),y):y(M)}function N(M){return!x&&(M===null||M===41||te(M))?(e.exit("chunkString"),e.exit(h),e.exit(c),e.exit(o),i(M)):x<d&&M===40?(e.consume(M),x++,N):M===41?(e.consume(M),x--,N):M===null||M===32||M===40||ao(M)?r(M):(e.consume(M),M===92?J:N)}function J(M){return M===40||M===41||M===92?(e.consume(M),N):N(M)}}function Yl(e,i,r,o,a,l){const c=this;let h=0,p;return d;function d(y){return e.enter(o),e.enter(a),e.consume(y),e.exit(a),e.enter(l),x}function x(y){return h>999||y===null||y===91||y===93&&!p||y===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?r(y):y===93?(e.exit(l),e.enter(a),e.consume(y),e.exit(a),e.exit(o),i):Q(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),x):(e.enter("chunkString",{contentType:"string"}),w(y))}function w(y){return y===null||y===91||y===93||Q(y)||h++>999?(e.exit("chunkString"),x(y)):(e.consume(y),p||(p=!dn(y)),y===92?S:w)}function S(y){return y===91||y===92||y===93?(e.consume(y),h++,w):w(y)}}function Gl(e,i,r,o,a,l){let c;return h;function h(S){return S===34||S===39||S===40?(e.enter(o),e.enter(a),e.consume(S),e.exit(a),c=S===40?41:S,p):r(S)}function p(S){return S===c?(e.enter(a),e.consume(S),e.exit(a),e.exit(o),i):(e.enter(l),d(S))}function d(S){return S===c?(e.exit(l),p(c)):S===null?r(S):Q(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),kn(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===c||S===null||Q(S)?(e.exit("chunkString"),d(S)):(e.consume(S),S===92?w:x)}function w(S){return S===c||S===92?(e.consume(S),x):x(S)}}function Cr(e,i){let r;return o;function o(a){return Q(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,o):dn(a)?kn(e,o,r?"linePrefix":"lineSuffix")(a):i(a)}}const bw={name:"definition",tokenize:Sw},kw={partial:!0,tokenize:Cw};function Sw(e,i,r){const o=this;let a;return l;function l(y){return e.enter("definition"),c(y)}function c(y){return Yl.call(o,e,h,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function h(y){return a=ir(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),p):r(y)}function p(y){return te(y)?Cr(e,d)(y):d(y)}function d(y){return Hl(e,x,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function x(y){return e.attempt(kw,w,w)(y)}function w(y){return dn(y)?kn(e,S,"whitespace")(y):S(y)}function S(y){return y===null||Q(y)?(e.exit("definition"),o.parser.defined.push(a),i(y)):r(y)}}function Cw(e,i,r){return o;function o(h){return te(h)?Cr(e,a)(h):r(h)}function a(h){return Gl(e,l,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return dn(h)?kn(e,c,"whitespace")(h):c(h)}function c(h){return h===null||Q(h)?i(h):r(h)}}const Iw={name:"hardBreakEscape",tokenize:Ew};function Ew(e,i,r){return o;function o(l){return e.enter("hardBreakEscape"),e.consume(l),a}function a(l){return Q(l)?(e.exit("hardBreakEscape"),i(l)):r(l)}}const Aw={name:"headingAtx",resolve:Tw,tokenize:Pw};function Tw(e,i){let r=e.length-2,o=3,a,l;return e[o][1].type==="whitespace"&&(o+=2),r-2>o&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(o===r-1||r-4>o&&e[r-2][1].type==="whitespace")&&(r-=o+1===r?2:4),r>o&&(a={type:"atxHeadingText",start:e[o][1].start,end:e[r][1].end},l={type:"chunkText",start:e[o][1].start,end:e[r][1].end,contentType:"text"},He(e,o,r-o+1,[["enter",a,i],["enter",l,i],["exit",l,i],["exit",a,i]])),e}function Pw(e,i,r){let o=0;return a;function a(x){return e.enter("atxHeading"),l(x)}function l(x){return e.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&o++<6?(e.consume(x),c):x===null||te(x)?(e.exit("atxHeadingSequence"),h(x)):r(x)}function h(x){return x===35?(e.enter("atxHeadingSequence"),p(x)):x===null||Q(x)?(e.exit("atxHeading"),i(x)):dn(x)?kn(e,h,"whitespace")(x):(e.enter("atxHeadingText"),d(x))}function p(x){return x===35?(e.consume(x),p):(e.exit("atxHeadingSequence"),h(x))}function d(x){return x===null||x===35||te(x)?(e.exit("atxHeadingText"),h(x)):(e.consume(x),d)}}const Fw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kl=["pre","script","style","textarea"],Lw={concrete:!0,name:"htmlFlow",resolveTo:Rw,tokenize:Bw},Ow={partial:!0,tokenize:zw},Mw={partial:!0,tokenize:Dw};function Rw(e){let i=e.length;for(;i--&&!(e[i][0]==="enter"&&e[i][1].type==="htmlFlow"););return i>1&&e[i-2][1].type==="linePrefix"&&(e[i][1].start=e[i-2][1].start,e[i+1][1].start=e[i-2][1].start,e.splice(i-2,2)),e}function Bw(e,i,r){const o=this;let a,l,c,h,p;return d;function d(k){return x(k)}function x(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),w}function w(k){return k===33?(e.consume(k),S):k===47?(e.consume(k),l=!0,N):k===63?(e.consume(k),a=3,o.interrupt?i:v):qe(k)?(e.consume(k),c=String.fromCharCode(k),J):r(k)}function S(k){return k===45?(e.consume(k),a=2,y):k===91?(e.consume(k),a=5,h=0,z):qe(k)?(e.consume(k),a=4,o.interrupt?i:v):r(k)}function y(k){return k===45?(e.consume(k),o.interrupt?i:v):r(k)}function z(k){const ie="CDATA[";return k===ie.charCodeAt(h++)?(e.consume(k),h===ie.length?o.interrupt?i:q:z):r(k)}function N(k){return qe(k)?(e.consume(k),c=String.fromCharCode(k),J):r(k)}function J(k){if(k===null||k===47||k===62||te(k)){const ie=k===47,Xn=c.toLowerCase();return!ie&&!l&&kl.includes(Xn)?(a=1,o.interrupt?i(k):q(k)):Fw.includes(c.toLowerCase())?(a=6,ie?(e.consume(k),M):o.interrupt?i(k):q(k)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?r(k):l?ln(k):W(k))}return k===45||Me(k)?(e.consume(k),c+=String.fromCharCode(k),J):r(k)}function M(k){return k===62?(e.consume(k),o.interrupt?i:q):r(k)}function ln(k){return dn(k)?(e.consume(k),ln):wn(k)}function W(k){return k===47?(e.consume(k),wn):k===58||k===95||qe(k)?(e.consume(k),pn):dn(k)?(e.consume(k),W):wn(k)}function pn(k){return k===45||k===46||k===58||k===95||Me(k)?(e.consume(k),pn):sn(k)}function sn(k){return k===61?(e.consume(k),O):dn(k)?(e.consume(k),sn):W(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?r(k):k===34||k===39?(e.consume(k),p=k,tn):dn(k)?(e.consume(k),O):_n(k)}function tn(k){return k===p?(e.consume(k),p=null,cn):k===null||Q(k)?r(k):(e.consume(k),tn)}function _n(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||te(k)?sn(k):(e.consume(k),_n)}function cn(k){return k===47||k===62||dn(k)?W(k):r(k)}function wn(k){return k===62?(e.consume(k),U):r(k)}function U(k){return k===null||Q(k)?q(k):dn(k)?(e.consume(k),U):r(k)}function q(k){return k===45&&a===2?(e.consume(k),Dn):k===60&&a===1?(e.consume(k),Sn):k===62&&a===4?(e.consume(k),Tn):k===63&&a===3?(e.consume(k),v):k===93&&a===5?(e.consume(k),Ie):Q(k)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(Ow,Ee,vn)(k)):k===null||Q(k)?(e.exit("htmlFlowData"),vn(k)):(e.consume(k),q)}function vn(k){return e.check(Mw,En,Ee)(k)}function En(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),on}function on(k){return k===null||Q(k)?vn(k):(e.enter("htmlFlowData"),q(k))}function Dn(k){return k===45?(e.consume(k),v):q(k)}function Sn(k){return k===47?(e.consume(k),c="",Mn):q(k)}function Mn(k){if(k===62){const ie=c.toLowerCase();return kl.includes(ie)?(e.consume(k),Tn):q(k)}return qe(k)&&c.length<8?(e.consume(k),c+=String.fromCharCode(k),Mn):q(k)}function Ie(k){return k===93?(e.consume(k),v):q(k)}function v(k){return k===62?(e.consume(k),Tn):k===45&&a===2?(e.consume(k),v):q(k)}function Tn(k){return k===null||Q(k)?(e.exit("htmlFlowData"),Ee(k)):(e.consume(k),Tn)}function Ee(k){return e.exit("htmlFlow"),i(k)}}function Dw(e,i,r){const o=this;return a;function a(c){return Q(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):r(c)}function l(c){return o.parser.lazy[o.now().line]?r(c):i(c)}}function zw(e,i,r){return o;function o(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Ai,i,r)}}const Nw={name:"htmlText",tokenize:Ww};function Ww(e,i,r){const o=this;let a,l,c;return h;function h(v){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(v),p}function p(v){return v===33?(e.consume(v),d):v===47?(e.consume(v),sn):v===63?(e.consume(v),W):qe(v)?(e.consume(v),_n):r(v)}function d(v){return v===45?(e.consume(v),x):v===91?(e.consume(v),l=0,z):qe(v)?(e.consume(v),ln):r(v)}function x(v){return v===45?(e.consume(v),y):r(v)}function w(v){return v===null?r(v):v===45?(e.consume(v),S):Q(v)?(c=w,Sn(v)):(e.consume(v),w)}function S(v){return v===45?(e.consume(v),y):w(v)}function y(v){return v===62?Dn(v):v===45?S(v):w(v)}function z(v){const Tn="CDATA[";return v===Tn.charCodeAt(l++)?(e.consume(v),l===Tn.length?N:z):r(v)}function N(v){return v===null?r(v):v===93?(e.consume(v),J):Q(v)?(c=N,Sn(v)):(e.consume(v),N)}function J(v){return v===93?(e.consume(v),M):N(v)}function M(v){return v===62?Dn(v):v===93?(e.consume(v),M):N(v)}function ln(v){return v===null||v===62?Dn(v):Q(v)?(c=ln,Sn(v)):(e.consume(v),ln)}function W(v){return v===null?r(v):v===63?(e.consume(v),pn):Q(v)?(c=W,Sn(v)):(e.consume(v),W)}function pn(v){return v===62?Dn(v):W(v)}function sn(v){return qe(v)?(e.consume(v),O):r(v)}function O(v){return v===45||Me(v)?(e.consume(v),O):tn(v)}function tn(v){return Q(v)?(c=tn,Sn(v)):dn(v)?(e.consume(v),tn):Dn(v)}function _n(v){return v===45||Me(v)?(e.consume(v),_n):v===47||v===62||te(v)?cn(v):r(v)}function cn(v){return v===47?(e.consume(v),Dn):v===58||v===95||qe(v)?(e.consume(v),wn):Q(v)?(c=cn,Sn(v)):dn(v)?(e.consume(v),cn):Dn(v)}function wn(v){return v===45||v===46||v===58||v===95||Me(v)?(e.consume(v),wn):U(v)}function U(v){return v===61?(e.consume(v),q):Q(v)?(c=U,Sn(v)):dn(v)?(e.consume(v),U):cn(v)}function q(v){return v===null||v===60||v===61||v===62||v===96?r(v):v===34||v===39?(e.consume(v),a=v,vn):Q(v)?(c=q,Sn(v)):dn(v)?(e.consume(v),q):(e.consume(v),En)}function vn(v){return v===a?(e.consume(v),a=void 0,on):v===null?r(v):Q(v)?(c=vn,Sn(v)):(e.consume(v),vn)}function En(v){return v===null||v===34||v===39||v===60||v===61||v===96?r(v):v===47||v===62||te(v)?cn(v):(e.consume(v),En)}function on(v){return v===47||v===62||te(v)?cn(v):r(v)}function Dn(v){return v===62?(e.consume(v),e.exit("htmlTextData"),e.exit("htmlText"),i):r(v)}function Sn(v){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),Mn}function Mn(v){return dn(v)?kn(e,Ie,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):Ie(v)}function Ie(v){return e.enter("htmlTextData"),c(v)}}const _o={name:"labelEnd",resolveAll:Hw,resolveTo:Yw,tokenize:Gw},$w={tokenize:Vw},qw={tokenize:Qw},Uw={tokenize:Xw};function Hw(e){let i=-1;const r=[];for(;++i<e.length;){const o=e[i][1];if(r.push(e[i]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const a=o.type==="labelImage"?4:2;o.type="data",i+=a}}return e.length!==r.length&&He(e,0,e.length,r),e}function Yw(e,i){let r=e.length,o=0,a,l,c,h;for(;r--;)if(a=e[r][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=r,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(c=r);const p={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[l][1].start},end:{...e[c][1].end}},x={type:"labelText",start:{...e[l+o+2][1].end},end:{...e[c-2][1].start}};return h=[["enter",p,i],["enter",d,i]],h=Ce(h,e.slice(l+1,l+o+3)),h=Ce(h,[["enter",x,i]]),h=Ce(h,yo(i.parser.constructs.insideSpan.null,e.slice(l+o+4,c-3),i)),h=Ce(h,[["exit",x,i],e[c-2],e[c-1],["exit",d,i]]),h=Ce(h,e.slice(c+1)),h=Ce(h,[["exit",p,i]]),He(e,l,e.length,h),e}function Gw(e,i,r){const o=this;let a=o.events.length,l,c;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){l=o.events[a][1];break}return h;function h(S){return l?l._inactive?w(S):(c=o.parser.defined.includes(ir(o.sliceSerialize({start:l.end,end:o.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(S),e.exit("labelMarker"),e.exit("labelEnd"),p):r(S)}function p(S){return S===40?e.attempt($w,x,c?x:w)(S):S===91?e.attempt(qw,x,c?d:w)(S):c?x(S):w(S)}function d(S){return e.attempt(Uw,x,w)(S)}function x(S){return i(S)}function w(S){return l._balanced=!0,r(S)}}function Vw(e,i,r){return o;function o(w){return e.enter("resource"),e.enter("resourceMarker"),e.consume(w),e.exit("resourceMarker"),a}function a(w){return te(w)?Cr(e,l)(w):l(w)}function l(w){return w===41?x(w):Hl(e,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function c(w){return te(w)?Cr(e,p)(w):x(w)}function h(w){return r(w)}function p(w){return w===34||w===39||w===40?Gl(e,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):x(w)}function d(w){return te(w)?Cr(e,x)(w):x(w)}function x(w){return w===41?(e.enter("resourceMarker"),e.consume(w),e.exit("resourceMarker"),e.exit("resource"),i):r(w)}}function Qw(e,i,r){const o=this;return a;function a(h){return Yl.call(o,e,l,c,"reference","referenceMarker","referenceString")(h)}function l(h){return o.parser.defined.includes(ir(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?i(h):r(h)}function c(h){return r(h)}}function Xw(e,i,r){return o;function o(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),a}function a(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),i):r(l)}}const Kw={name:"labelStartImage",resolveAll:_o.resolveAll,tokenize:Jw};function Jw(e,i,r){const o=this;return a;function a(h){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(h),e.exit("labelImageMarker"),l}function l(h){return h===91?(e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelImage"),c):r(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(h):i(h)}}const Zw={name:"labelStartLink",resolveAll:_o.resolveAll,tokenize:jw};function jw(e,i,r){const o=this;return a;function a(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(c):i(c)}}const to={name:"lineEnding",tokenize:ny};function ny(e,i){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),kn(e,i,"linePrefix")}}const bi={name:"thematicBreak",tokenize:ey};function ey(e,i,r){let o=0,a;return l;function l(d){return e.enter("thematicBreak"),c(d)}function c(d){return a=d,h(d)}function h(d){return d===a?(e.enter("thematicBreakSequence"),p(d)):o>=3&&(d===null||Q(d))?(e.exit("thematicBreak"),i(d)):r(d)}function p(d){return d===a?(e.consume(d),o++,p):(e.exit("thematicBreakSequence"),dn(d)?kn(e,h,"whitespace")(d):h(d))}}const ee={continuation:{tokenize:uy},exit:ay,name:"list",tokenize:iy},ty={partial:!0,tokenize:sy},ry={partial:!0,tokenize:oy};function iy(e,i,r){const o=this,a=o.events[o.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return h;function h(y){const z=o.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(z==="listUnordered"?!o.containerState.marker||y===o.containerState.marker:so(y)){if(o.containerState.type||(o.containerState.type=z,e.enter(z,{_container:!0})),z==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(bi,r,d)(y):d(y);if(!o.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),p(y)}return r(y)}function p(y){return so(y)&&++c<10?(e.consume(y),p):(!o.interrupt||c<2)&&(o.containerState.marker?y===o.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),d(y)):r(y)}function d(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||y,e.check(Ai,o.interrupt?r:x,e.attempt(ty,S,w))}function x(y){return o.containerState.initialBlankLine=!0,l++,S(y)}function w(y){return dn(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),S):r(y)}function S(y){return o.containerState.size=l+o.sliceSerialize(e.exit("listItemPrefix"),!0).length,i(y)}}function uy(e,i,r){const o=this;return o.containerState._closeFlow=void 0,e.check(Ai,a,l);function a(h){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,kn(e,i,"listItemIndent",o.containerState.size+1)(h)}function l(h){return o.containerState.furtherBlankLines||!dn(h)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,c(h)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,e.attempt(ry,i,c)(h))}function c(h){return o.containerState._closeFlow=!0,o.interrupt=void 0,kn(e,e.attempt(ee,i,r),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function oy(e,i,r){const o=this;return kn(e,a,"listItemIndent",o.containerState.size+1);function a(l){const c=o.events[o.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===o.containerState.size?i(l):r(l)}}function ay(e){e.exit(this.containerState.type)}function sy(e,i,r){const o=this;return kn(e,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=o.events[o.events.length-1];return!dn(l)&&c&&c[1].type==="listItemPrefixWhitespace"?i(l):r(l)}}const Sl={name:"setextUnderline",resolveTo:ly,tokenize:cy};function ly(e,i){let r=e.length,o,a,l;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){o=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!l&&e[r][1].type==="definition"&&(l=r);const c={type:"setextHeading",start:{...e[o][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",l?(e.splice(a,0,["enter",c,i]),e.splice(l+1,0,["exit",e[o][1],i]),e[o][1].end={...e[l][1].end}):e[o][1]=c,e.push(["exit",c,i]),e}function cy(e,i,r){const o=this;let a;return l;function l(d){let x=o.events.length,w;for(;x--;)if(o.events[x][1].type!=="lineEnding"&&o.events[x][1].type!=="linePrefix"&&o.events[x][1].type!=="content"){w=o.events[x][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||w)?(e.enter("setextHeadingLine"),a=d,c(d)):r(d)}function c(d){return e.enter("setextHeadingLineSequence"),h(d)}function h(d){return d===a?(e.consume(d),h):(e.exit("setextHeadingLineSequence"),dn(d)?kn(e,p,"lineSuffix")(d):p(d))}function p(d){return d===null||Q(d)?(e.exit("setextHeadingLine"),i(d)):r(d)}}const fy={tokenize:hy};function hy(e){const i=this,r=e.attempt(Ai,o,e.attempt(this.parser.constructs.flowInitial,a,kn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(xw,a)),"linePrefix")));return r;function o(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),i.currentConstruct=void 0,r}function a(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i.currentConstruct=void 0,r}}const dy={resolveAll:Ql()},py=Vl("string"),gy=Vl("text");function Vl(e){return{resolveAll:Ql(e==="text"?my:void 0),tokenize:i};function i(r){const o=this,a=this.parser.constructs[e],l=r.attempt(a,c,h);return c;function c(x){return d(x)?l(x):h(x)}function h(x){if(x===null){r.consume(x);return}return r.enter("data"),r.consume(x),p}function p(x){return d(x)?(r.exit("data"),l(x)):(r.consume(x),p)}function d(x){if(x===null)return!0;const w=a[x];let S=-1;if(w)for(;++S<w.length;){const y=w[S];if(!y.previous||y.previous.call(o,o.previous))return!0}return!1}}}function Ql(e){return i;function i(r,o){let a=-1,l;for(;++a<=r.length;)l===void 0?r[a]&&r[a][1].type==="data"&&(l=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==l+2&&(r[l][1].end=r[a-1][1].end,r.splice(l+2,a-l-2),a=l+2),l=void 0);return e?e(r,o):r}}function my(e,i){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const o=e[r-1][1],a=i.sliceStream(o);let l=a.length,c=-1,h=0,p;for(;l--;){const d=a[l];if(typeof d=="string"){for(c=d.length;d.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(d===-2)p=!0,h++;else if(d!==-1){l++;break}}if(i._contentTypeTextTrailing&&r===e.length&&(h=0),h){const d={type:r===e.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:o.start._bufferIndex+c,_index:o.start._index+l,line:o.end.line,column:o.end.column-h,offset:o.end.offset-h},end:{...o.end}};o.end={...d.start},o.start.offset===o.end.offset?Object.assign(o,d):(e.splice(r,0,["enter",d,i],["exit",d,i]),r+=2)}r++}return e}const xy={42:ee,43:ee,45:ee,48:ee,49:ee,50:ee,51:ee,52:ee,53:ee,54:ee,55:ee,56:ee,57:ee,62:Wl},wy={91:bw},yy={[-2]:eo,[-1]:eo,32:eo},_y={35:Aw,42:bi,45:[Sl,bi],60:Lw,61:Sl,95:bi,96:bl,126:bl},vy={38:ql,92:$l},by={[-5]:to,[-4]:to,[-3]:to,33:Kw,38:ql,42:lo,60:[Z0,Nw],91:Zw,92:[Iw,$l],93:_o,95:lo,96:fw},ky={null:[lo,dy]},Sy={null:[42,95]},Cy={null:[]},Iy=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Sy,contentInitial:wy,disable:Cy,document:xy,flow:_y,flowInitial:yy,insideSpan:ky,string:vy,text:by},Symbol.toStringTag,{value:"Module"}));function Ey(e,i,r){let o={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},l=[];let c=[],h=[];const p={attempt:tn(sn),check:tn(O),consume:ln,enter:W,exit:pn,interrupt:tn(O,{interrupt:!0})},d={code:null,containerState:{},defineSkip:N,events:[],now:z,parser:e,previous:null,sliceSerialize:S,sliceStream:y,write:w};let x=i.tokenize.call(d,p);return i.resolveAll&&l.push(i),d;function w(U){return c=Ce(c,U),J(),c[c.length-1]!==null?[]:(_n(i,0),d.events=yo(l,d.events,d),d.events)}function S(U,q){return Ty(y(U),q)}function y(U){return Ay(c,U)}function z(){const{_bufferIndex:U,_index:q,line:vn,column:En,offset:on}=o;return{_bufferIndex:U,_index:q,line:vn,column:En,offset:on}}function N(U){a[U.line]=U.column,wn()}function J(){let U;for(;o._index<c.length;){const q=c[o._index];if(typeof q=="string")for(U=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===U&&o._bufferIndex<q.length;)M(q.charCodeAt(o._bufferIndex));else M(q)}}function M(U){x=x(U)}function ln(U){Q(U)?(o.line++,o.column=1,o.offset+=U===-3?2:1,wn()):U!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===c[o._index].length&&(o._bufferIndex=-1,o._index++)),d.previous=U}function W(U,q){const vn=q||{};return vn.type=U,vn.start=z(),d.events.push(["enter",vn,d]),h.push(vn),vn}function pn(U){const q=h.pop();return q.end=z(),d.events.push(["exit",q,d]),q}function sn(U,q){_n(U,q.from)}function O(U,q){q.restore()}function tn(U,q){return vn;function vn(En,on,Dn){let Sn,Mn,Ie,v;return Array.isArray(En)?Ee(En):"tokenize"in En?Ee([En]):Tn(En);function Tn(Pn){return St;function St(Kn){const ge=Kn!==null&&Pn[Kn],it=Kn!==null&&Pn.null,Ye=[...Array.isArray(ge)?ge:ge?[ge]:[],...Array.isArray(it)?it:it?[it]:[]];return Ee(Ye)(Kn)}}function Ee(Pn){return Sn=Pn,Mn=0,Pn.length===0?Dn:k(Pn[Mn])}function k(Pn){return St;function St(Kn){return v=cn(),Ie=Pn,Pn.partial||(d.currentConstruct=Pn),Pn.name&&d.parser.constructs.disable.null.includes(Pn.name)?Xn():Pn.tokenize.call(q?Object.assign(Object.create(d),q):d,p,ie,Xn)(Kn)}}function ie(Pn){return U(Ie,v),on}function Xn(Pn){return v.restore(),++Mn<Sn.length?k(Sn[Mn]):Dn}}}function _n(U,q){U.resolveAll&&!l.includes(U)&&l.push(U),U.resolve&&He(d.events,q,d.events.length-q,U.resolve(d.events.slice(q),d)),U.resolveTo&&(d.events=U.resolveTo(d.events,d))}function cn(){const U=z(),q=d.previous,vn=d.currentConstruct,En=d.events.length,on=Array.from(h);return{from:En,restore:Dn};function Dn(){o=U,d.previous=q,d.currentConstruct=vn,d.events.length=En,h=on,wn()}}function wn(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function Ay(e,i){const r=i.start._index,o=i.start._bufferIndex,a=i.end._index,l=i.end._bufferIndex;let c;if(r===a)c=[e[r].slice(o,l)];else{if(c=e.slice(r,a),o>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(o):c.shift()}l>0&&c.push(e[a].slice(0,l))}return c}function Ty(e,i){let r=-1;const o=[];let a;for(;++r<e.length;){const l=e[r];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=i?" ":"	";break}case-1:{if(!i&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,o.push(c)}return o.join("")}function Py(e){const o={constructs:D0([Iy,...(e||{}).extensions||[]]),content:a(Y0),defined:[],document:a(V0),flow:a(fy),lazy:{},string:a(py),text:a(gy)};return o;function a(l){return c;function c(h){return Ey(o,l,h)}}}function Fy(e){for(;!Ul(e););return e}const Cl=/[\0\t\n\r]/g;function Ly(){let e=1,i="",r=!0,o;return a;function a(l,c,h){const p=[];let d,x,w,S,y;for(l=i+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),w=0,i="",r&&(l.charCodeAt(0)===65279&&w++,r=void 0);w<l.length;){if(Cl.lastIndex=w,d=Cl.exec(l),S=d&&d.index!==void 0?d.index:l.length,y=l.charCodeAt(S),!d){i=l.slice(w);break}if(y===10&&w===S&&o)p.push(-3),o=void 0;else switch(o&&(p.push(-5),o=void 0),w<S&&(p.push(l.slice(w,S)),e+=S-w),y){case 0:{p.push(65533),e++;break}case 9:{for(x=Math.ceil(e/4)*4,p.push(-2);e++<x;)p.push(-1);break}case 10:{p.push(-4),e=1;break}default:o=!0,e=1}w=S+1}return h&&(o&&p.push(-5),i&&p.push(i),p.push(null)),p}}const Oy=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Xl(e){return e.replace(Oy,My)}function My(e,i,r){if(i)return i;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),l=a===120||a===88;return Nl(r.slice(l?2:1),l?16:10)}return wo(r)||e}const Kl={}.hasOwnProperty;function Ry(e,i,r){return typeof i!="string"&&(r=i,i=void 0),By(r)(Fy(Py(r).document().write(Ly()(e,i,!0))))}function By(e){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Fr),autolinkProtocol:cn,autolinkEmail:cn,atxHeading:l(ut),blockQuote:l(it),characterEscape:cn,characterReference:cn,codeFenced:l(Ye),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Ye,c),codeText:l(Wt,c),codeTextData:cn,data:cn,codeFlowValue:cn,definition:l(Ar),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(ue),hardBreakEscape:l(Tr),hardBreakTrailing:l(Tr),htmlFlow:l(me,c),htmlFlowData:cn,htmlText:l(me,c),htmlTextData:cn,image:l(Pr),label:c,link:l(Fr),listItem:l(oe),listItemValue:S,listOrdered:l(ot,w),listUnordered:l(ot),paragraph:l(Ct),reference:k,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(ut),strong:l($t),thematicBreak:l(It)},exit:{atxHeading:p(),atxHeadingSequence:sn,autolink:p(),autolinkEmail:ge,autolinkProtocol:Kn,blockQuote:p(),characterEscapeValue:wn,characterReferenceMarkerHexadecimal:Xn,characterReferenceMarkerNumeric:Xn,characterReferenceValue:Pn,characterReference:St,codeFenced:p(J),codeFencedFence:N,codeFencedFenceInfo:y,codeFencedFenceMeta:z,codeFlowValue:wn,codeIndented:p(M),codeText:p(on),codeTextData:wn,data:wn,definition:p(),definitionDestinationString:pn,definitionLabelString:ln,definitionTitleString:W,emphasis:p(),hardBreakEscape:p(q),hardBreakTrailing:p(q),htmlFlow:p(vn),htmlFlowData:wn,htmlText:p(En),htmlTextData:wn,image:p(Sn),label:Ie,labelText:Mn,lineEnding:U,link:p(Dn),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ie,resourceDestinationString:v,resourceTitleString:Tn,resource:Ee,setextHeading:p(_n),setextHeadingLineSequence:tn,setextHeadingText:O,strong:p(),thematicBreak:p()}};Jl(i,(e||{}).mdastExtensions||[]);const r={};return o;function o(T){let R={type:"root",children:[]};const Y={stack:[R],tokenStack:[],config:i,enter:h,exit:d,buffer:c,resume:x,data:r},nn=[];let fn=-1;for(;++fn<T.length;)if(T[fn][1].type==="listOrdered"||T[fn][1].type==="listUnordered")if(T[fn][0]==="enter")nn.push(fn);else{const Yn=nn.pop();fn=a(T,Yn,fn)}for(fn=-1;++fn<T.length;){const Yn=i[T[fn][0]];Kl.call(Yn,T[fn][1].type)&&Yn[T[fn][1].type].call(Object.assign({sliceSerialize:T[fn][2].sliceSerialize},Y),T[fn][1])}if(Y.tokenStack.length>0){const Yn=Y.tokenStack[Y.tokenStack.length-1];(Yn[1]||Il).call(Y,void 0,Yn[0])}for(R.position={start:xt(T.length>0?T[0][1].start:{line:1,column:1,offset:0}),end:xt(T.length>0?T[T.length-2][1].end:{line:1,column:1,offset:0})},fn=-1;++fn<i.transforms.length;)R=i.transforms[fn](R)||R;return R}function a(T,R,Y){let nn=R-1,fn=-1,Yn=!1,Ae,ae,Ge,Ve;for(;++nn<=Y;){const Nn=T[nn];switch(Nn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Nn[0]==="enter"?fn++:fn--,Ve=void 0;break}case"lineEndingBlank":{Nn[0]==="enter"&&(Ae&&!Ve&&!fn&&!Ge&&(Ge=nn),Ve=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ve=void 0}if(!fn&&Nn[0]==="enter"&&Nn[1].type==="listItemPrefix"||fn===-1&&Nn[0]==="exit"&&(Nn[1].type==="listUnordered"||Nn[1].type==="listOrdered")){if(Ae){let Be=nn;for(ae=void 0;Be--;){const Te=T[Be];if(Te[1].type==="lineEnding"||Te[1].type==="lineEndingBlank"){if(Te[0]==="exit")continue;ae&&(T[ae][1].type="lineEndingBlank",Yn=!0),Te[1].type="lineEnding",ae=Be}else if(!(Te[1].type==="linePrefix"||Te[1].type==="blockQuotePrefix"||Te[1].type==="blockQuotePrefixWhitespace"||Te[1].type==="blockQuoteMarker"||Te[1].type==="listItemIndent"))break}Ge&&(!ae||Ge<ae)&&(Ae._spread=!0),Ae.end=Object.assign({},ae?T[ae][1].start:Nn[1].end),T.splice(ae||nn,0,["exit",Ae,Nn[2]]),nn++,Y++}if(Nn[1].type==="listItemPrefix"){const Be={type:"listItem",_spread:!1,start:Object.assign({},Nn[1].start),end:void 0};Ae=Be,T.splice(nn,0,["enter",Be,Nn[2]]),nn++,Y++,Ge=void 0,Ve=!0}}}return T[R][1]._spread=Yn,Y}function l(T,R){return Y;function Y(nn){h.call(this,T(nn),nn),R&&R.call(this,nn)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(T,R,Y){this.stack[this.stack.length-1].children.push(T),this.stack.push(T),this.tokenStack.push([R,Y||void 0]),T.position={start:xt(R.start),end:void 0}}function p(T){return R;function R(Y){T&&T.call(this,Y),d.call(this,Y)}}function d(T,R){const Y=this.stack.pop(),nn=this.tokenStack.pop();if(nn)nn[0].type!==T.type&&(R?R.call(this,T,nn[0]):(nn[1]||Il).call(this,T,nn[0]));else throw new Error("Cannot close `"+T.type+"` ("+Sr({start:T.start,end:T.end})+"): it’s not open");Y.position.end=xt(T.end)}function x(){return xo(this.stack.pop())}function w(){this.data.expectingFirstListItemValue=!0}function S(T){if(this.data.expectingFirstListItemValue){const R=this.stack[this.stack.length-2];R.start=Number.parseInt(this.sliceSerialize(T),10),this.data.expectingFirstListItemValue=void 0}}function y(){const T=this.resume(),R=this.stack[this.stack.length-1];R.lang=T}function z(){const T=this.resume(),R=this.stack[this.stack.length-1];R.meta=T}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function J(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function M(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T.replace(/(\r?\n|\r)$/g,"")}function ln(T){const R=this.resume(),Y=this.stack[this.stack.length-1];Y.label=R,Y.identifier=ir(this.sliceSerialize(T)).toLowerCase()}function W(){const T=this.resume(),R=this.stack[this.stack.length-1];R.title=T}function pn(){const T=this.resume(),R=this.stack[this.stack.length-1];R.url=T}function sn(T){const R=this.stack[this.stack.length-1];if(!R.depth){const Y=this.sliceSerialize(T).length;R.depth=Y}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function tn(T){const R=this.stack[this.stack.length-1];R.depth=this.sliceSerialize(T).codePointAt(0)===61?1:2}function _n(){this.data.setextHeadingSlurpLineEnding=void 0}function cn(T){const Y=this.stack[this.stack.length-1].children;let nn=Y[Y.length-1];(!nn||nn.type!=="text")&&(nn=Pi(),nn.position={start:xt(T.start),end:void 0},Y.push(nn)),this.stack.push(nn)}function wn(T){const R=this.stack.pop();R.value+=this.sliceSerialize(T),R.position.end=xt(T.end)}function U(T){const R=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Y=R.children[R.children.length-1];Y.position.end=xt(T.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(R.type)&&(cn.call(this,T),wn.call(this,T))}function q(){this.data.atHardBreak=!0}function vn(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T}function En(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T}function on(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T}function Dn(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const R=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=R,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function Sn(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const R=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=R,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function Mn(T){const R=this.sliceSerialize(T),Y=this.stack[this.stack.length-2];Y.label=Xl(R),Y.identifier=ir(R).toLowerCase()}function Ie(){const T=this.stack[this.stack.length-1],R=this.resume(),Y=this.stack[this.stack.length-1];if(this.data.inReference=!0,Y.type==="link"){const nn=T.children;Y.children=nn}else Y.alt=R}function v(){const T=this.resume(),R=this.stack[this.stack.length-1];R.url=T}function Tn(){const T=this.resume(),R=this.stack[this.stack.length-1];R.title=T}function Ee(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function ie(T){const R=this.resume(),Y=this.stack[this.stack.length-1];Y.label=R,Y.identifier=ir(this.sliceSerialize(T)).toLowerCase(),this.data.referenceType="full"}function Xn(T){this.data.characterReferenceType=T.type}function Pn(T){const R=this.sliceSerialize(T),Y=this.data.characterReferenceType;let nn;Y?(nn=Nl(R,Y==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nn=wo(R);const fn=this.stack[this.stack.length-1];fn.value+=nn}function St(T){const R=this.stack.pop();R.position.end=xt(T.end)}function Kn(T){wn.call(this,T);const R=this.stack[this.stack.length-1];R.url=this.sliceSerialize(T)}function ge(T){wn.call(this,T);const R=this.stack[this.stack.length-1];R.url="mailto:"+this.sliceSerialize(T)}function it(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function Wt(){return{type:"inlineCode",value:""}}function Ar(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ue(){return{type:"emphasis",children:[]}}function ut(){return{type:"heading",depth:0,children:[]}}function Tr(){return{type:"break"}}function me(){return{type:"html",value:""}}function Pr(){return{type:"image",title:null,url:"",alt:null}}function Fr(){return{type:"link",title:null,url:"",children:[]}}function ot(T){return{type:"list",ordered:T.type==="listOrdered",start:null,spread:T._spread,children:[]}}function oe(T){return{type:"listItem",spread:T._spread,checked:null,children:[]}}function Ct(){return{type:"paragraph",children:[]}}function $t(){return{type:"strong",children:[]}}function Pi(){return{type:"text",value:""}}function It(){return{type:"thematicBreak"}}}function xt(e){return{line:e.line,column:e.column,offset:e.offset}}function Jl(e,i){let r=-1;for(;++r<i.length;){const o=i[r];Array.isArray(o)?Jl(e,o):Dy(e,o)}}function Dy(e,i){let r;for(r in i)if(Kl.call(i,r))switch(r){case"canContainEols":{const o=i[r];o&&e[r].push(...o);break}case"transforms":{const o=i[r];o&&e[r].push(...o);break}case"enter":case"exit":{const o=i[r];o&&Object.assign(e[r],o);break}}}function Il(e,i){throw e?new Error("Cannot close `"+e.type+"` ("+Sr({start:e.start,end:e.end})+"): a different token (`"+i.type+"`, "+Sr({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+Sr({start:i.start,end:i.end})+") is still open")}function Zl(e){const i=this;i.parser=r;function r(o){return Ry(o,{...i.data("settings"),...e,extensions:i.data("micromarkExtensions")||[],mdastExtensions:i.data("fromMarkdownExtensions")||[]})}}const El={}.hasOwnProperty;function zy(e,i){const r=i||{};function o(a,...l){let c=o.invalid;const h=o.handlers;if(a&&El.call(a,e)){const p=String(a[e]);c=El.call(h,p)?h[p]:o.unknown}if(c)return c.call(this,a,...l)}return o.handlers=r.handlers||{},o.invalid=r.invalid,o.unknown=r.unknown,o}const Ny={}.hasOwnProperty;function jl(e,i){let r=-1,o;if(i.extensions)for(;++r<i.extensions.length;)jl(e,i.extensions[r]);for(o in i)if(Ny.call(i,o))switch(o){case"extensions":break;case"unsafe":{Al(e[o],i[o]);break}case"join":{Al(e[o],i[o]);break}case"handlers":{Wy(e[o],i[o]);break}default:e.options[o]=i[o]}return e}function Al(e,i){i&&e.push(...i)}function Wy(e,i){i&&Object.assign(e,i)}function $y(e,i,r,o){const a=r.enter("blockquote"),l=r.createTracker(o);l.move("> "),l.shift(2);const c=r.indentLines(r.containerFlow(e,l.current()),qy);return a(),c}function qy(e,i,r){return">"+(r?"":" ")+e}function nc(e,i){return Tl(e,i.inConstruct,!0)&&!Tl(e,i.notInConstruct,!1)}function Tl(e,i,r){if(typeof i=="string"&&(i=[i]),!i||i.length===0)return r;let o=-1;for(;++o<i.length;)if(e.includes(i[o]))return!0;return!1}function Pl(e,i,r,o){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&nc(r.stack,r.unsafe[a]))return/[ \t]/.test(o.before)?"":" ";return`\\
`}function Uy(e,i){const r=String(e);let o=r.indexOf(i),a=o,l=0,c=0;if(typeof i!="string")throw new TypeError("Expected substring");for(;o!==-1;)o===a?++l>c&&(c=l):l=1,a=o+i.length,o=r.indexOf(i,a);return c}function co(e,i){return!!(i.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Hy(e){const i=e.options.fence||"`";if(i!=="`"&&i!=="~")throw new Error("Cannot serialize code with `"+i+"` for `options.fence`, expected `` ` `` or `~`");return i}function Yy(e,i,r,o){const a=Hy(r),l=e.value||"",c=a==="`"?"GraveAccent":"Tilde";if(co(e,r)){const w=r.enter("codeIndented"),S=r.indentLines(l,Gy);return w(),S}const h=r.createTracker(o),p=a.repeat(Math.max(Uy(l,a)+1,3)),d=r.enter("codeFenced");let x=h.move(p);if(e.lang){const w=r.enter(`codeFencedLang${c}`);x+=h.move(r.safe(e.lang,{before:x,after:" ",encode:["`"],...h.current()})),w()}if(e.lang&&e.meta){const w=r.enter(`codeFencedMeta${c}`);x+=h.move(" "),x+=h.move(r.safe(e.meta,{before:x,after:`
`,encode:["`"],...h.current()})),w()}return x+=h.move(`
`),l&&(x+=h.move(l+`
`)),x+=h.move(p),d(),x}function Gy(e,i,r){return(r?"":"    ")+e}function vo(e){const i=e.options.quote||'"';if(i!=='"'&&i!=="'")throw new Error("Cannot serialize title with `"+i+"` for `options.quote`, expected `\"`, or `'`");return i}function Vy(e,i,r,o){const a=vo(r),l=a==='"'?"Quote":"Apostrophe",c=r.enter("definition");let h=r.enter("label");const p=r.createTracker(o);let d=p.move("[");return d+=p.move(r.safe(r.associationId(e),{before:d,after:"]",...p.current()})),d+=p.move("]: "),h(),!e.url||/[\0- \u007F]/.test(e.url)?(h=r.enter("destinationLiteral"),d+=p.move("<"),d+=p.move(r.safe(e.url,{before:d,after:">",...p.current()})),d+=p.move(">")):(h=r.enter("destinationRaw"),d+=p.move(r.safe(e.url,{before:d,after:e.title?" ":`
`,...p.current()}))),h(),e.title&&(h=r.enter(`title${l}`),d+=p.move(" "+a),d+=p.move(r.safe(e.title,{before:d,after:a,...p.current()})),d+=p.move(a),h()),c(),d}function Qy(e){const i=e.options.emphasis||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize emphasis with `"+i+"` for `options.emphasis`, expected `*`, or `_`");return i}function _t(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ii(e,i,r){const o=Ci(e),a=Ci(i);return o===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:o===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ec.peek=Xy;function ec(e,i,r,o){const a=Qy(r),l=r.enter("emphasis"),c=r.createTracker(o),h=c.move(a);let p=c.move(r.containerPhrasing(e,{after:a,before:h,...c.current()}));const d=p.charCodeAt(0),x=Ii(o.before.charCodeAt(o.before.length-1),d,a);x.inside&&(p=_t(d)+p.slice(1));const w=p.charCodeAt(p.length-1),S=Ii(o.after.charCodeAt(0),w,a);S.inside&&(p=p.slice(0,-1)+_t(w));const y=c.move(a);return l(),r.attentionEncodeSurroundingInfo={after:S.outside,before:x.outside},h+p+y}function Xy(e,i,r){return r.options.emphasis||"*"}const bo=(function(e){if(e==null)return jy;if(typeof e=="function")return Ti(e);if(typeof e=="object")return Array.isArray(e)?Ky(e):Jy(e);if(typeof e=="string")return Zy(e);throw new Error("Expected function, string, or object as test")});function Ky(e){const i=[];let r=-1;for(;++r<e.length;)i[r]=bo(e[r]);return Ti(o);function o(...a){let l=-1;for(;++l<i.length;)if(i[l].apply(this,a))return!0;return!1}}function Jy(e){const i=e;return Ti(r);function r(o){const a=o;let l;for(l in e)if(a[l]!==i[l])return!1;return!0}}function Zy(e){return Ti(i);function i(r){return r&&r.type===e}}function Ti(e){return i;function i(r,o,a){return!!(n_(r)&&e.call(this,r,typeof o=="number"?o:void 0,a||void 0))}}function jy(){return!0}function n_(e){return e!==null&&typeof e=="object"&&"type"in e}const tc=[],e_=!0,fo=!1,t_="skip";function r_(e,i,r,o){let a;typeof i=="function"&&typeof r!="function"?(o=r,r=i):a=i;const l=bo(a),c=o?-1:1;h(e,void 0,[])();function h(p,d,x){const w=p&&typeof p=="object"?p:{};if(typeof w.type=="string"){const y=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(S,"name",{value:"node ("+(p.type+(y?"<"+y+">":""))+")"})}return S;function S(){let y=tc,z,N,J;if((!i||l(p,d,x[x.length-1]||void 0))&&(y=i_(r(p,x)),y[0]===fo))return y;if("children"in p&&p.children){const M=p;if(M.children&&y[0]!==t_)for(N=(o?M.children.length:-1)+c,J=x.concat(M);N>-1&&N<M.children.length;){const ln=M.children[N];if(z=h(ln,N,J)(),z[0]===fo)return z;N=typeof z[1]=="number"?z[1]:N+c}}return y}}}function i_(e){return Array.isArray(e)?e:typeof e=="number"?[e_,e]:e==null?tc:[e]}function ho(e,i,r,o){let a,l,c;typeof i=="function"&&typeof r!="function"?(l=void 0,c=i,a=r):(l=i,c=r,a=o),r_(e,l,h,a);function h(p,d){const x=d[d.length-1],w=x?x.children.indexOf(p):void 0;return c(p,w,x)}}function rc(e,i){let r=!1;return ho(e,function(o){if("value"in o&&/\r?\n|\r/.test(o.value)||o.type==="break")return r=!0,fo}),!!((!e.depth||e.depth<3)&&xo(e)&&(i.options.setext||r))}function u_(e,i,r,o){const a=Math.max(Math.min(6,e.depth||1),1),l=r.createTracker(o);if(rc(e,r)){const x=r.enter("headingSetext"),w=r.enter("phrasing"),S=r.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return w(),x(),S+`
`+(a===1?"=":"-").repeat(S.length-(Math.max(S.lastIndexOf("\r"),S.lastIndexOf(`
`))+1))}const c="#".repeat(a),h=r.enter("headingAtx"),p=r.enter("phrasing");l.move(c+" ");let d=r.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(d)&&(d=_t(d.charCodeAt(0))+d.slice(1)),d=d?c+" "+d:c,r.options.closeAtx&&(d+=" "+c),p(),h(),d}ic.peek=o_;function ic(e){return e.value||""}function o_(){return"<"}uc.peek=a_;function uc(e,i,r,o){const a=vo(r),l=a==='"'?"Quote":"Apostrophe",c=r.enter("image");let h=r.enter("label");const p=r.createTracker(o);let d=p.move("![");return d+=p.move(r.safe(e.alt,{before:d,after:"]",...p.current()})),d+=p.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=r.enter("destinationLiteral"),d+=p.move("<"),d+=p.move(r.safe(e.url,{before:d,after:">",...p.current()})),d+=p.move(">")):(h=r.enter("destinationRaw"),d+=p.move(r.safe(e.url,{before:d,after:e.title?" ":")",...p.current()}))),h(),e.title&&(h=r.enter(`title${l}`),d+=p.move(" "+a),d+=p.move(r.safe(e.title,{before:d,after:a,...p.current()})),d+=p.move(a),h()),d+=p.move(")"),c(),d}function a_(){return"!"}oc.peek=s_;function oc(e,i,r,o){const a=e.referenceType,l=r.enter("imageReference");let c=r.enter("label");const h=r.createTracker(o);let p=h.move("![");const d=r.safe(e.alt,{before:p,after:"]",...h.current()});p+=h.move(d+"]["),c();const x=r.stack;r.stack=[],c=r.enter("reference");const w=r.safe(r.associationId(e),{before:p,after:"]",...h.current()});return c(),r.stack=x,l(),a==="full"||!d||d!==w?p+=h.move(w+"]"):a==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function s_(){return"!"}ac.peek=l_;function ac(e,i,r){let o=e.value||"",a="`",l=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(o);)a+="`";for(/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^`|`$/.test(o))&&(o=" "+o+" ");++l<r.unsafe.length;){const c=r.unsafe[l],h=r.compilePattern(c);let p;if(c.atBreak)for(;p=h.exec(o);){let d=p.index;o.charCodeAt(d)===10&&o.charCodeAt(d-1)===13&&d--,o=o.slice(0,d)+" "+o.slice(p.index+1)}}return a+o+a}function l_(){return"`"}function sc(e,i){const r=xo(e);return!!(!i.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}lc.peek=c_;function lc(e,i,r,o){const a=vo(r),l=a==='"'?"Quote":"Apostrophe",c=r.createTracker(o);let h,p;if(sc(e,r)){const x=r.stack;r.stack=[],h=r.enter("autolink");let w=c.move("<");return w+=c.move(r.containerPhrasing(e,{before:w,after:">",...c.current()})),w+=c.move(">"),h(),r.stack=x,w}h=r.enter("link"),p=r.enter("label");let d=c.move("[");return d+=c.move(r.containerPhrasing(e,{before:d,after:"](",...c.current()})),d+=c.move("]("),p(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(p=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(e.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(p=r.enter("destinationRaw"),d+=c.move(r.safe(e.url,{before:d,after:e.title?" ":")",...c.current()}))),p(),e.title&&(p=r.enter(`title${l}`),d+=c.move(" "+a),d+=c.move(r.safe(e.title,{before:d,after:a,...c.current()})),d+=c.move(a),p()),d+=c.move(")"),h(),d}function c_(e,i,r){return sc(e,r)?"<":"["}cc.peek=f_;function cc(e,i,r,o){const a=e.referenceType,l=r.enter("linkReference");let c=r.enter("label");const h=r.createTracker(o);let p=h.move("[");const d=r.containerPhrasing(e,{before:p,after:"]",...h.current()});p+=h.move(d+"]["),c();const x=r.stack;r.stack=[],c=r.enter("reference");const w=r.safe(r.associationId(e),{before:p,after:"]",...h.current()});return c(),r.stack=x,l(),a==="full"||!d||d!==w?p+=h.move(w+"]"):a==="shortcut"?p=p.slice(0,-1):p+=h.move("]"),p}function f_(){return"["}function ko(e){const i=e.options.bullet||"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bullet`, expected `*`, `+`, or `-`");return i}function h_(e){const i=ko(e),r=e.options.bulletOther;if(!r)return i==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===i)throw new Error("Expected `bullet` (`"+i+"`) and `bulletOther` (`"+r+"`) to be different");return r}function d_(e){const i=e.options.bulletOrdered||".";if(i!=="."&&i!==")")throw new Error("Cannot serialize items with `"+i+"` for `options.bulletOrdered`, expected `.` or `)`");return i}function fc(e){const i=e.options.rule||"*";if(i!=="*"&&i!=="-"&&i!=="_")throw new Error("Cannot serialize rules with `"+i+"` for `options.rule`, expected `*`, `-`, or `_`");return i}function p_(e,i,r,o){const a=r.enter("list"),l=r.bulletCurrent;let c=e.ordered?d_(r):ko(r);const h=e.ordered?c==="."?")":".":h_(r);let p=i&&r.bulletLastUsed?c===r.bulletLastUsed:!1;if(!e.ordered){const x=e.children?e.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(p=!0),fc(r)===c&&x){let w=-1;for(;++w<e.children.length;){const S=e.children[w];if(S&&S.type==="listItem"&&S.children&&S.children[0]&&S.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=h),r.bulletCurrent=c;const d=r.containerFlow(e,o);return r.bulletLastUsed=c,r.bulletCurrent=l,a(),d}function g_(e){const i=e.options.listItemIndent||"one";if(i!=="tab"&&i!=="one"&&i!=="mixed")throw new Error("Cannot serialize items with `"+i+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return i}function m_(e,i,r,o){const a=g_(r);let l=r.bulletCurrent||ko(r);i&&i.type==="list"&&i.ordered&&(l=(typeof i.start=="number"&&i.start>-1?i.start:1)+(r.options.incrementListMarker===!1?0:i.children.indexOf(e))+l);let c=l.length+1;(a==="tab"||a==="mixed"&&(i&&i.type==="list"&&i.spread||e.spread))&&(c=Math.ceil(c/4)*4);const h=r.createTracker(o);h.move(l+" ".repeat(c-l.length)),h.shift(c);const p=r.enter("listItem"),d=r.indentLines(r.containerFlow(e,h.current()),x);return p(),d;function x(w,S,y){return S?(y?"":" ".repeat(c))+w:(y?l:l+" ".repeat(c-l.length))+w}}function x_(e,i,r,o){const a=r.enter("paragraph"),l=r.enter("phrasing"),c=r.containerPhrasing(e,o);return l(),a(),c}const w_=bo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function y_(e,i,r,o){return(e.children.some(function(c){return w_(c)})?r.containerPhrasing:r.containerFlow).call(r,e,o)}function __(e){const i=e.options.strong||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize strong with `"+i+"` for `options.strong`, expected `*`, or `_`");return i}hc.peek=v_;function hc(e,i,r,o){const a=__(r),l=r.enter("strong"),c=r.createTracker(o),h=c.move(a+a);let p=c.move(r.containerPhrasing(e,{after:a,before:h,...c.current()}));const d=p.charCodeAt(0),x=Ii(o.before.charCodeAt(o.before.length-1),d,a);x.inside&&(p=_t(d)+p.slice(1));const w=p.charCodeAt(p.length-1),S=Ii(o.after.charCodeAt(0),w,a);S.inside&&(p=p.slice(0,-1)+_t(w));const y=c.move(a+a);return l(),r.attentionEncodeSurroundingInfo={after:S.outside,before:x.outside},h+p+y}function v_(e,i,r){return r.options.strong||"*"}function b_(e,i,r,o){return r.safe(e.value,o)}function k_(e){const i=e.options.ruleRepetition||3;if(i<3)throw new Error("Cannot serialize rules with repetition `"+i+"` for `options.ruleRepetition`, expected `3` or more");return i}function S_(e,i,r){const o=(fc(r)+(r.options.ruleSpaces?" ":"")).repeat(k_(r));return r.options.ruleSpaces?o.slice(0,-1):o}const C_={blockquote:$y,break:Pl,code:Yy,definition:Vy,emphasis:ec,hardBreak:Pl,heading:u_,html:ic,image:uc,imageReference:oc,inlineCode:ac,link:lc,linkReference:cc,list:p_,listItem:m_,paragraph:x_,root:y_,strong:hc,text:b_,thematicBreak:S_},I_=[E_];function E_(e,i,r,o){if(i.type==="code"&&co(i,o)&&(e.type==="list"||e.type===i.type&&co(e,o)))return!1;if("spread"in r&&typeof r.spread=="boolean")return e.type==="paragraph"&&(e.type===i.type||i.type==="definition"||i.type==="heading"&&rc(i,o))?void 0:r.spread?1:0}const Dt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],A_=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Dt},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Dt},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Dt},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Dt},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Dt},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Dt},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Dt},{atBreak:!0,character:"~"}];function T_(e){return e.label||!e.identifier?e.label||"":Xl(e.identifier)}function P_(e){if(!e._compiled){const i=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((i?"("+i+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function F_(e,i,r){const o=i.indexStack,a=e.children||[],l=[];let c=-1,h=r.before,p;o.push(-1);let d=i.createTracker(r);for(;++c<a.length;){const x=a[c];let w;if(o[o.length-1]=c,c+1<a.length){let z=i.handle.handlers[a[c+1].type];z&&z.peek&&(z=z.peek),w=z?z(a[c+1],e,i,{before:"",after:"",...d.current()}).charAt(0):""}else w=r.after;l.length>0&&(h==="\r"||h===`
`)&&x.type==="html"&&(l[l.length-1]=l[l.length-1].replace(/(\r?\n|\r)$/," "),h=" ",d=i.createTracker(r),d.move(l.join("")));let S=i.handle(x,e,i,{...d.current(),after:w,before:h});p&&p===S.slice(0,1)&&(S=_t(p.charCodeAt(0))+S.slice(1));const y=i.attentionEncodeSurroundingInfo;i.attentionEncodeSurroundingInfo=void 0,p=void 0,y&&(l.length>0&&y.before&&h===l[l.length-1].slice(-1)&&(l[l.length-1]=l[l.length-1].slice(0,-1)+_t(h.charCodeAt(0))),y.after&&(p=w)),d.move(S),l.push(S),h=S.slice(-1)}return o.pop(),l.join("")}function L_(e,i,r){const o=i.indexStack,a=e.children||[],l=i.createTracker(r),c=[];let h=-1;for(o.push(-1);++h<a.length;){const p=a[h];o[o.length-1]=h,c.push(l.move(i.handle(p,e,i,{before:`
`,after:`
`,...l.current()}))),p.type!=="list"&&(i.bulletLastUsed=void 0),h<a.length-1&&c.push(l.move(O_(p,a[h+1],e,i)))}return o.pop(),c.join("")}function O_(e,i,r,o){let a=o.join.length;for(;a--;){const l=o.join[a](e,i,r,o);if(l===!0||l===1)break;if(typeof l=="number")return`
`.repeat(1+l);if(l===!1)return`

<!---->

`}return`

`}const M_=/\r?\n|\r/g;function R_(e,i){const r=[];let o=0,a=0,l;for(;l=M_.exec(e);)c(e.slice(o,l.index)),r.push(l[0]),o=l.index+l[0].length,a++;return c(e.slice(o)),r.join("");function c(h){r.push(i(h,a,!h))}}function B_(e,i,r){const o=(r.before||"")+(i||"")+(r.after||""),a=[],l=[],c={};let h=-1;for(;++h<e.unsafe.length;){const x=e.unsafe[h];if(!nc(e.stack,x))continue;const w=e.compilePattern(x);let S;for(;S=w.exec(o);){const y="before"in x||!!x.atBreak,z="after"in x,N=S.index+(y?S[1].length:0);a.includes(N)?(c[N].before&&!y&&(c[N].before=!1),c[N].after&&!z&&(c[N].after=!1)):(a.push(N),c[N]={before:y,after:z})}}a.sort(D_);let p=r.before?r.before.length:0;const d=o.length-(r.after?r.after.length:0);for(h=-1;++h<a.length;){const x=a[h];x<p||x>=d||x+1<d&&a[h+1]===x+1&&c[x].after&&!c[x+1].before&&!c[x+1].after||a[h-1]===x-1&&c[x].before&&!c[x-1].before&&!c[x-1].after||(p!==x&&l.push(Fl(o.slice(p,x),"\\")),p=x,/[!-/:-@[-`{-~]/.test(o.charAt(x))&&(!r.encode||!r.encode.includes(o.charAt(x)))?l.push("\\"):(l.push(_t(o.charCodeAt(x))),p++))}return l.push(Fl(o.slice(p,d),r.after)),l.join("")}function D_(e,i){return e-i}function Fl(e,i){const r=/\\(?=[!-/:-@[-`{-~])/g,o=[],a=[],l=e+i;let c=-1,h=0,p;for(;p=r.exec(l);)o.push(p.index);for(;++c<o.length;)h!==o[c]&&a.push(e.slice(h,o[c])),a.push("\\"),h=o[c];return a.push(e.slice(h)),a.join("")}function z_(e){const i=e||{},r=i.now||{};let o=i.lineShift||0,a=r.line||1,l=r.column||1;return{move:p,current:c,shift:h};function c(){return{now:{line:a,column:l},lineShift:o}}function h(d){o+=d}function p(d){const x=d||"",w=x.split(/\r?\n|\r/g),S=w[w.length-1];return a+=w.length-1,l=w.length===1?l+S.length:1+S.length+o,x}}function N_(e,i){const r=i||{},o={associationId:T_,containerPhrasing:U_,containerFlow:H_,createTracker:z_,compilePattern:P_,enter:l,handlers:{...C_},handle:void 0,indentLines:R_,indexStack:[],join:[...I_],options:{},safe:Y_,stack:[],unsafe:[...A_]};jl(o,r),o.options.tightDefinitions&&o.join.push(q_),o.handle=zy("type",{invalid:W_,unknown:$_,handlers:o.handlers});let a=o.handle(e,void 0,o,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return a&&a.charCodeAt(a.length-1)!==10&&a.charCodeAt(a.length-1)!==13&&(a+=`
`),a;function l(c){return o.stack.push(c),h;function h(){o.stack.pop()}}}function W_(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function $_(e){const i=e;throw new Error("Cannot handle unknown node `"+i.type+"`")}function q_(e,i){if(e.type==="definition"&&e.type===i.type)return 0}function U_(e,i){return F_(e,this,i)}function H_(e,i){return L_(e,this,i)}function Y_(e,i){return B_(this,e,i)}function dc(e){const i=this;i.compiler=r;function r(o){return N_(o,{...i.data("settings"),...e,extensions:i.data("toMarkdownExtensions")||[]})}}const Ue={text:"text",boolean:"boolean",multicheckbox:"multicheckbox",richText:"richText",number:"number"};class G_{constructor(){this.logger=vt(bt.InputCreator)}createInput(i){const{componentName:r,inputName:o,type:a}=i;let l="";try{switch(a){case Ue.text:case Ue.richText:{l=`> ${i.defaultValue??""}`;break}case Ue.boolean:{const c=i.defaultValue===!0?"x":" ",h=i.label??"Checkbox";l=`- [${c}] ${h}`;break}case Ue.multicheckbox:{const c=i.options??[];if(!c.length)throw this.logger.error("multicheckbox must have non-empty options array",{opts:i}),new Error("multicheckbox must have non-empty options array");l=c.map(h=>`- [ ] ${ro.hiddenValue(r,o,h.value)} ${h.label}`).join(`
`);break}case Ue.number:{l=`> {Number} ${i.defaultValue??""}`;break}default:throw this.logger.error(`Unknown input type: ${a}`,{opts:i}),new Error("Unknown input type: "+a)}}catch(c){throw this.logger.error("Failed to create input",{error:c,opts:i}),c}return ro.input.wrap({componentName:r,inputName:o,content:l,inputType:a})}parseMarkdown(i){try{return Si().use(Zl).parse(i)}catch(r){throw this.logger.error("Failed to parse Markdown",{error:r,md:i}),r}}stringifyMarkdown(i){try{return Si().use(dc).stringify(i)}catch(r){throw this.logger.error("Failed to stringify Markdown",{error:r,ast:i}),r}}}const rr=new G_;class V_{constructor(i){this.content=[],this.logger=vt(bt.ComponentBuilder),this.componentName=i}_md(i){const r=typeof i=="function"?i():i;return this.content.push(r),this}_guidance(i){const r=i??`> [!note] Guidance  
Keep it simple — research shows even a basic ticksheet improves habit consistency.
Prompts: Which habits do you want to track today?`;return this.content.push(r),this}_input(i){const r={...i,componentName:this.componentName};return this.content.push(rr.createInput(r)),this}_text(i,r,o){const a=rr.createInput({componentName:this.componentName,type:Ue.text,inputName:i,defaultValue:r,placeholder:o});return this.content.push(a),this}_richText(i,r,o){const a=rr.createInput({componentName:this.componentName,type:Ue.richText,inputName:i,defaultValue:r,placeholder:o});return this.content.push(a),this}_boolean(i,r,o){const a=rr.createInput({componentName:this.componentName,type:Ue.boolean,inputName:i,label:r,defaultValue:o});return this.content.push(a),this}_number(i,r){const o=rr.createInput({componentName:this.componentName,type:Ue.number,inputName:i,defaultValue:r});return this.content.push(o),this}_multiCheckbox(i,r,o,a,l){const c=rr.createInput({componentName:this.componentName,type:Ue.multicheckbox,inputName:i,options:r,defaultValue:o,singleChoice:a,collapsed:l});return this.content.push(c),this}render(){const i=ro.component.wrap(this.componentName,this.content.join(`

`));return this.logger.dev("Component rendered",{outputLength:i.length}),i}}function Q_(){const e="habitTracking",i=new V_(e);return rt.habits.forEach(o=>{o.active&&(i._boolean(o.id,o.label),i._md(`*Cue*. ${o.cue} · *Reward*. ${o.reward}`))}),i.render()}const pe=vt(bt.SavingService),po={get baseOutput(){return`${rt?.projectDir??"vault"}/${rt?.outputDir??"outputs"}`},get fileExtension(){return rt?.reportFileExtension??".md"},get reportFolders(){const e={};for(const i of rt?.reportFolderPairs??[])e[i.report]=`${this.baseOutput}/${i.folder}`;return e},_today(){return Dl(new Date,"yyyyMMdd")},async _ensureFolder(e){Hn.vault.getAbstractFileByPath(e)||(pe.dev(`Creating folder: ${e}`),await Hn.vault.createFolder(e))},async _listFiles(e){await this._ensureFolder(e);const i=Hn.vault.getAbstractFileByPath(e);return!i||!i.children?[]:i.children.filter(r=>"extension"in r&&r.extension==="md").map(r=>r.name)},async _openFile(e){try{pe.dev(`_openFile start: ${e.path}`);const i=Hn.workspace.getLeaf(!0);if(await i.openFile(e),pe.dev(`Main leaf opened file: ${e.path}`),rt?.devMode){const r=Hn.workspace.createLeafBySplit(i,"vertical",!1);await r.openFile(e);const o={type:"markdown",state:{file:e.path,mode:"source"}};try{await r.setViewState(o),pe.dev("DevMode: right leaf forced to source mode")}catch(a){pe.warn(`Failed to force right leaf to source mode: ${a.message}`)}}}catch(i){pe.error(`Failed to open file ${e.path}: ${i.message}`)}},async write(e){const i=e.data??e.content;if(!i)throw new Error("No content provided for write()");const r=this.reportFolders[e.type];if(!r)throw new Error(`Unknown report type: ${e.type}`);await this._ensureFolder(r);const o=this._today(),l=(await this._listFiles(r)).length+1,c=String(l).padStart(5,"0"),h=`${o}-${c}-${e.type}${this.fileExtension}`,p=`${r}/${h}`;if(Hn.vault.getAbstractFileByPath(p))return pe.warn(`File already exists: ${p}. Skipping write.`),p;pe.info(`Writing new file: ${p}`);const x=await Hn.vault.create(p,i);return e?.open!==!1&&await this._openFile(x),p},async writeGeneral(e,i,r=!1){let o;const a=Hn.vault.getAbstractFileByPath(e);if(a)if("extension"in a)pe.info(`Overwriting existing file: ${e}`),await Hn.vault.modify(a,i),o=a;else throw pe.error(`Path exists but is not a file: ${e}`),new Error(`Path exists but is not a file: ${e}`);else pe.info(`Creating new file: ${e}`),o=await Hn.vault.create(e,i);return r&&await this._openFile(o),e},async delete(e){const i=Hn.vault.getAbstractFileByPath(e);i?(pe.info(`Deleting file: ${e}`),await Hn.vault.delete(i)):pe.warn(`Cannot delete; file not found: ${e}`)}};function X_(){const e=[Q_()];po.write({type:"almostDailyReport",data:e.join(`
***
`)})}const Ll=vt(bt.ValueExtractor);class K_{extract(i){const r=Si().use(Zl).parse(i),o=[],a=[],l={};ho(r,"html",c=>{const h=c.value;if(h.includes(Nt.input)){const p=this.getMeta(h);if(p){const d=this.key(p);l[d]||(l[d]={meta:p,content:[],hiddenValues:[]})}}else if(h.includes(Nt.hiddenValue)){const p=this.getMeta(h);if(p&&p.value){const d=this.key(p);l[d]||(l[d]={meta:p,content:[],hiddenValues:[]}),l[d].hiddenValues.push(p.value)}}}),ho(r,c=>{if(!(c.type==="html"||!(c.position?.start||{}).line)&&(c.value||c.children)){const p=Si().use(dc).stringify(c);for(const d in l)l[d].content.push(p)}});for(const c in l){const{meta:h,content:p,hiddenValues:d}=l[c],x=p.join("").trim(),w=this.extractValue(h.inputType,x,d,h);w.errors.length>0&&a.push(...w.errors),o.push({componentName:h.componentName,inputName:h.inputName,inputType:h.inputType,value:w.value,errors:w.errors})}return Ll.dev("Extracted values",o),a.length>0&&Ll.error("Extraction errors:",a),o}getMeta(i){const r=i.match(/data-meta=(?:'([^']+)'|"([^"]+)")/);if(!r)return null;try{return JSON.parse(r[1]||r[2])}catch{return null}}key(i){return`${i.componentName}::${i.inputName}`}extractValue(i,r,o,a){const l=[];let c=null;if(i==="boolean")c=r.includes("[x]")||r.includes("[X]");else if(i==="text"){const h=r.replace(/^>\s?/gm,"").trim();a.placeholder&&h===a.placeholder?c=null:c=h}else if(i==="richText")a.placeholder&&r.trim()===a.placeholder?c=null:c=r.trim();else if(i==="multicheckbox"){const h=[];r.split(`
`).forEach((d,x)=>{if(d.match(/\[(x|X)\]/)){const w=o[x];w&&h.push(w)}}),a.singleChoice?(h.length>1&&l.push(`Multiple checked values for singleChoice input: ${a.componentName}::${a.inputName} [${h.join(", ")}]`),c=h[0]??null):c=h}else if(i==="number"){const h=r.match(new RegExp("(?<!\\d)(\\d+(?:[.,]\\d+)?)"));h?c=parseFloat(h[1].replace(",",".")):c=null}else c=r;return{value:c,errors:l}}}const J_=new K_,We=vt(bt.InputCollector);class Z_{constructor(i){this.getConfig=i}async collectFromYesterday(){We.dev("Starting collection of inputs from yesterday’s reports");const i={},r=this.getConfig();for(const{folder:o,report:a}of r.reportFolderPairs)try{const l=`${po.baseOutput}/${o}`;We.dev(`Checking folder "${l}" for report: ${a}`);const c=await po._listFiles(l);if(!c.length){We.warn(`No files found in "${l}" for report: ${a}`);continue}const h=c.sort().reverse()[0];if(!h.includes(a)){We.warn(`Newest file "${h}" in folder "${l}" does not match report type: ${a}`);continue}const p=`${l}/${h}`,d=Hn.vault.getAbstractFileByPath(p);if(!d||!("vault"in Hn)){We.error(`Could not load file for report ${a}`,{filePath:p});continue}We.dev(`Reading file: "${p}"`);const x=await Hn.vault.read(d),S=J_.extract(x).map(y=>({componentName:y.componentName,inputName:y.inputName,type:y.inputType??"unknown",value:y.value,errors:y.errors&&y.errors.length>0?y.errors:void 0,reportType:a}));i[a]=S,We.dev(`Parsed ${S.length} inputs for report: ${a}`)}catch(l){We.error(`Failed collecting inputs for ${a}`,{error:l})}return We.info(`InputCollector finished. Collected reports: ${Object.keys(i).length}`),We.dev("Collected inputs summary:",{collectedByReport:i}),i}}const j_=new Z_(()=>rt),wt=vt(bt.FileService);async function nv(e,i=""){wt.info("runPowerJournal started");const r=await ux(i);J1(e,r),wt.dev("Globals set, config loaded");try{h0(),wt.dev("onStart executed successfully")}catch(a){wt.error("Error running onStart",{error:a})}let o=null;try{o=await j_.collectFromYesterday(),wt.dev("Input collection completed",{collected:o})}catch(a){wt.error("Error collecting inputs",{error:a})}try{X_(),wt.dev("Daily report built successfully")}catch(a){wt.error("Error building daily report",{error:a})}}module.exports=nv;
