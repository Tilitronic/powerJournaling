"use strict";const Q1={ComponentBuilder:"ComponentBuilder",SavingService:"SavingService",TagsService:"TagsService",InputCreator:"InputCreator",FileService:"FileService",InputCollector:"InputCollector",ValueExtractor:"ValueExtractor"},Bt={reset:"\x1B[0m",bold:"\x1B[1m",gray:"\x1B[90m",purple:"\x1B[35m"},X1={dev:"\x1B[44m\x1B[37m",info:"\x1B[42m\x1B[30m",warn:"\x1B[43m\x1B[30m",error:"\x1B[41m\x1B[37m"},K1={dev:"🛠",info:"ℹ️",warn:"⚠️",error:"❌"},Hu={},js=["\x1B[36m","\x1B[33m","\x1B[32m","\x1B[34m","\x1B[31m","\x1B[95m","\x1B[96m","\x1B[92m","\x1B[93m"];let el=0;function J1(n){return Hu[n]||(Hu[n]=js[el%js.length],el++),Hu[n]}class go{constructor(i,r){this.logs=[],this.serviceConfig={},this.getConfig=i,this.prefix=r??"global"}setServiceConfig(i){this.serviceConfig=i}addLog(i,r,o){const a={timestamp:new Date,level:i,service:this.prefix,message:r,meta:o};this.logs.push(a);const l=this.getConfig?.()??{};if(!((this.serviceConfig[this.prefix]??{})[i]??(i!=="dev"||l?.devLogging)))return;const p=a.timestamp.toISOString().split("T")[1].split(".")[0],d=`${Bt.gray}${p}${Bt.reset}`,x=`${Bt.purple}[PJ]${Bt.reset}`,w=`${J1(this.prefix)}${Bt.bold}[${this.prefix}]${Bt.reset}`,S=`${X1[i]}[${K1[i]} ${i.toUpperCase().padEnd(5)}]${Bt.reset}`,_=`${d} ${x}${w}${S} ${r}`;try{i==="warn"?console.warn(_,o??""):i==="error"?console.error(_,o??""):console.log(_,o??"")}catch{console.log(`${d} ${x}[${this.prefix}][${i.toUpperCase()}] ${r}`,o??"")}}dev(i,r){this.addLog("dev",i,r)}info(i,r){this.addLog("info",i,r)}warn(i,r){this.addLog("warn",i,r)}error(i,r){this.addLog("error",i,r)}getAllLogs(){return this.logs}withPrefix(i){return new go(this.getConfig,i)}}let Hn;function Z1(n,i){Hn=i}const j1=new go(()=>Hn);function vt(n){return j1.withPrefix(n)}const bt=Q1,ze=app;var _i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ex(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var nx=kr.exports,nl;function tx(){return nl||(nl=1,(function(n,i){(function(){var r,o="4.17.21",a=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",f="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",d=500,x="__lodash_placeholder__",w=1,S=2,_=4,N=1,D=2,Y=1,M=2,se=4,W=8,de=16,ae=32,O=64,te=128,ye=256,le=512,xe=30,U="...",q=800,_e=16,Ie=1,ue=2,Be=3,ke=1/0,Oe=9007199254740991,In=17976931348623157e292,v=NaN,Ae=4294967295,En=Ae-1,k=Ae>>>1,rn=[["ary",te],["bind",Y],["bindKey",M],["curry",W],["curryRight",de],["flip",le],["partial",ae],["partialRight",O],["rearg",ye]],Qe="[object Arguments]",Te="[object Array]",St="[object AsyncFunction]",Xe="[object Boolean]",gn="[object Date]",it="[object DOMException]",Gn="[object Error]",Wt="[object Function]",Ar="[object GeneratorFunction]",un="[object Map]",ut="[object Number]",Tr="[object Null]",mn="[object Object]",Pr="[object Promise]",Fr="[object Proxy]",ot="[object RegExp]",on="[object Set]",Ct="[object String]",$t="[object Symbol]",Fi="[object Undefined]",It="[object WeakMap]",T="[object WeakSet]",R="[object ArrayBuffer]",G="[object DataView]",ee="[object Float32Array]",ce="[object Float64Array]",He="[object Int8Array]",An="[object Int16Array]",an="[object Int32Array]",Vn="[object Uint8Array]",Qn="[object Uint8ClampedArray]",Ne="[object Uint16Array]",Bn="[object Uint32Array]",Tn=/\b__p \+= '';/g,gc=/\b(__p \+=) '' \+/g,mc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,So=/&(?:amp|lt|gt|quot|#39);/g,Co=/[&<>"']/g,xc=RegExp(So.source),wc=RegExp(Co.source),yc=/<%-([\s\S]+?)%>/g,_c=/<%([\s\S]+?)%>/g,Io=/<%=([\s\S]+?)%>/g,vc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bc=/^\w*$/,kc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Li=/[\\^$.*+?()[\]{}|]/g,Sc=RegExp(Li.source),Oi=/^\s+/,Cc=/\s/,Ic=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ec=/\{\n\/\* \[wrapped with (.+)\] \*/,Ac=/,? & /,Tc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pc=/[()=,{}\[\]\/\s]/,Fc=/\\(\\)?/g,Lc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Eo=/\w*$/,Oc=/^[-+]0x[0-9a-f]+$/i,Mc=/^0b[01]+$/i,Rc=/^\[object .+?Constructor\]$/,Bc=/^0o[0-7]+$/i,Dc=/^(?:0|[1-9]\d*)$/,zc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lr=/($^)/,Nc=/['\n\r\u2028\u2029\\]/g,Or="\\ud800-\\udfff",Wc="\\u0300-\\u036f",$c="\\ufe20-\\ufe2f",qc="\\u20d0-\\u20ff",Ao=Wc+$c+qc,To="\\u2700-\\u27bf",Po="a-z\\xdf-\\xf6\\xf8-\\xff",Uc="\\xac\\xb1\\xd7\\xf7",Hc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yc="\\u2000-\\u206f",Gc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fo="A-Z\\xc0-\\xd6\\xd8-\\xde",Lo="\\ufe0e\\ufe0f",Oo=Uc+Hc+Yc+Gc,Mi="['’]",Vc="["+Or+"]",Mo="["+Oo+"]",Mr="["+Ao+"]",Ro="\\d+",Qc="["+To+"]",Bo="["+Po+"]",Do="[^"+Or+Oo+Ro+To+Po+Fo+"]",Ri="\\ud83c[\\udffb-\\udfff]",Xc="(?:"+Mr+"|"+Ri+")",zo="[^"+Or+"]",Bi="(?:\\ud83c[\\udde6-\\uddff]){2}",Di="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+Fo+"]",No="\\u200d",Wo="(?:"+Bo+"|"+Do+")",Kc="(?:"+qt+"|"+Do+")",$o="(?:"+Mi+"(?:d|ll|m|re|s|t|ve))?",qo="(?:"+Mi+"(?:D|LL|M|RE|S|T|VE))?",Uo=Xc+"?",Ho="["+Lo+"]?",Jc="(?:"+No+"(?:"+[zo,Bi,Di].join("|")+")"+Ho+Uo+")*",Zc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yo=Ho+Uo+Jc,ef="(?:"+[Qc,Bi,Di].join("|")+")"+Yo,nf="(?:"+[zo+Mr+"?",Mr,Bi,Di,Vc].join("|")+")",tf=RegExp(Mi,"g"),rf=RegExp(Mr,"g"),zi=RegExp(Ri+"(?="+Ri+")|"+nf+Yo,"g"),uf=RegExp([qt+"?"+Bo+"+"+$o+"(?="+[Mo,qt,"$"].join("|")+")",Kc+"+"+qo+"(?="+[Mo,qt+Wo,"$"].join("|")+")",qt+"?"+Wo+"+"+$o,qt+"+"+qo,jc,Zc,Ro,ef].join("|"),"g"),of=RegExp("["+No+Or+Ao+Lo+"]"),af=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lf=-1,Se={};Se[ee]=Se[ce]=Se[He]=Se[An]=Se[an]=Se[Vn]=Se[Qn]=Se[Ne]=Se[Bn]=!0,Se[Qe]=Se[Te]=Se[R]=Se[Xe]=Se[G]=Se[gn]=Se[Gn]=Se[Wt]=Se[un]=Se[ut]=Se[mn]=Se[ot]=Se[on]=Se[Ct]=Se[It]=!1;var ve={};ve[Qe]=ve[Te]=ve[R]=ve[G]=ve[Xe]=ve[gn]=ve[ee]=ve[ce]=ve[He]=ve[An]=ve[an]=ve[un]=ve[ut]=ve[mn]=ve[ot]=ve[on]=ve[Ct]=ve[$t]=ve[Vn]=ve[Qn]=ve[Ne]=ve[Bn]=!0,ve[Gn]=ve[Wt]=ve[It]=!1;var cf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ff={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},df={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pf=parseFloat,gf=parseInt,Go=typeof _i=="object"&&_i&&_i.Object===Object&&_i,mf=typeof self=="object"&&self&&self.Object===Object&&self,We=Go||mf||Function("return this")(),Ni=i&&!i.nodeType&&i,Et=Ni&&!0&&n&&!n.nodeType&&n,Vo=Et&&Et.exports===Ni,Wi=Vo&&Go.process,xn=(function(){try{var C=Et&&Et.require&&Et.require("util").types;return C||Wi&&Wi.binding&&Wi.binding("util")}catch{}})(),Qo=xn&&xn.isArrayBuffer,Xo=xn&&xn.isDate,Ko=xn&&xn.isMap,Jo=xn&&xn.isRegExp,Zo=xn&&xn.isSet,jo=xn&&xn.isTypedArray;function sn(C,A,E){switch(E.length){case 0:return C.call(A);case 1:return C.call(A,E[0]);case 2:return C.call(A,E[0],E[1]);case 3:return C.call(A,E[0],E[1],E[2])}return C.apply(A,E)}function xf(C,A,E,z){for(var K=-1,fe=C==null?0:C.length;++K<fe;){var Me=C[K];A(z,Me,E(Me),C)}return z}function wn(C,A){for(var E=-1,z=C==null?0:C.length;++E<z&&A(C[E],E,C)!==!1;);return C}function wf(C,A){for(var E=C==null?0:C.length;E--&&A(C[E],E,C)!==!1;);return C}function ea(C,A){for(var E=-1,z=C==null?0:C.length;++E<z;)if(!A(C[E],E,C))return!1;return!0}function at(C,A){for(var E=-1,z=C==null?0:C.length,K=0,fe=[];++E<z;){var Me=C[E];A(Me,E,C)&&(fe[K++]=Me)}return fe}function Rr(C,A){var E=C==null?0:C.length;return!!E&&Ut(C,A,0)>-1}function $i(C,A,E){for(var z=-1,K=C==null?0:C.length;++z<K;)if(E(A,C[z]))return!0;return!1}function Ce(C,A){for(var E=-1,z=C==null?0:C.length,K=Array(z);++E<z;)K[E]=A(C[E],E,C);return K}function st(C,A){for(var E=-1,z=A.length,K=C.length;++E<z;)C[K+E]=A[E];return C}function qi(C,A,E,z){var K=-1,fe=C==null?0:C.length;for(z&&fe&&(E=C[++K]);++K<fe;)E=A(E,C[K],K,C);return E}function yf(C,A,E,z){var K=C==null?0:C.length;for(z&&K&&(E=C[--K]);K--;)E=A(E,C[K],K,C);return E}function Ui(C,A){for(var E=-1,z=C==null?0:C.length;++E<z;)if(A(C[E],E,C))return!0;return!1}var _f=Hi("length");function vf(C){return C.split("")}function bf(C){return C.match(Tc)||[]}function na(C,A,E){var z;return E(C,function(K,fe,Me){if(A(K,fe,Me))return z=fe,!1}),z}function Br(C,A,E,z){for(var K=C.length,fe=E+(z?1:-1);z?fe--:++fe<K;)if(A(C[fe],fe,C))return fe;return-1}function Ut(C,A,E){return A===A?Mf(C,A,E):Br(C,ta,E)}function kf(C,A,E,z){for(var K=E-1,fe=C.length;++K<fe;)if(z(C[K],A))return K;return-1}function ta(C){return C!==C}function ra(C,A){var E=C==null?0:C.length;return E?Gi(C,A)/E:v}function Hi(C){return function(A){return A==null?r:A[C]}}function Yi(C){return function(A){return C==null?r:C[A]}}function ia(C,A,E,z,K){return K(C,function(fe,Me,we){E=z?(z=!1,fe):A(E,fe,Me,we)}),E}function Sf(C,A){var E=C.length;for(C.sort(A);E--;)C[E]=C[E].value;return C}function Gi(C,A){for(var E,z=-1,K=C.length;++z<K;){var fe=A(C[z]);fe!==r&&(E=E===r?fe:E+fe)}return E}function Vi(C,A){for(var E=-1,z=Array(C);++E<C;)z[E]=A(E);return z}function Cf(C,A){return Ce(A,function(E){return[E,C[E]]})}function ua(C){return C&&C.slice(0,la(C)+1).replace(Oi,"")}function ln(C){return function(A){return C(A)}}function Qi(C,A){return Ce(A,function(E){return C[E]})}function ur(C,A){return C.has(A)}function oa(C,A){for(var E=-1,z=C.length;++E<z&&Ut(A,C[E],0)>-1;);return E}function aa(C,A){for(var E=C.length;E--&&Ut(A,C[E],0)>-1;);return E}function If(C,A){for(var E=C.length,z=0;E--;)C[E]===A&&++z;return z}var Ef=Yi(cf),Af=Yi(ff);function Tf(C){return"\\"+df[C]}function Pf(C,A){return C==null?r:C[A]}function Ht(C){return of.test(C)}function Ff(C){return af.test(C)}function Lf(C){for(var A,E=[];!(A=C.next()).done;)E.push(A.value);return E}function Xi(C){var A=-1,E=Array(C.size);return C.forEach(function(z,K){E[++A]=[K,z]}),E}function sa(C,A){return function(E){return C(A(E))}}function lt(C,A){for(var E=-1,z=C.length,K=0,fe=[];++E<z;){var Me=C[E];(Me===A||Me===x)&&(C[E]=x,fe[K++]=E)}return fe}function Dr(C){var A=-1,E=Array(C.size);return C.forEach(function(z){E[++A]=z}),E}function Of(C){var A=-1,E=Array(C.size);return C.forEach(function(z){E[++A]=[z,z]}),E}function Mf(C,A,E){for(var z=E-1,K=C.length;++z<K;)if(C[z]===A)return z;return-1}function Rf(C,A,E){for(var z=E+1;z--;)if(C[z]===A)return z;return z}function Yt(C){return Ht(C)?Df(C):_f(C)}function Pn(C){return Ht(C)?zf(C):vf(C)}function la(C){for(var A=C.length;A--&&Cc.test(C.charAt(A)););return A}var Bf=Yi(hf);function Df(C){for(var A=zi.lastIndex=0;zi.test(C);)++A;return A}function zf(C){return C.match(zi)||[]}function Nf(C){return C.match(uf)||[]}var Wf=(function C(A){A=A==null?We:Gt.defaults(We.Object(),A,Gt.pick(We,sf));var E=A.Array,z=A.Date,K=A.Error,fe=A.Function,Me=A.Math,we=A.Object,Ki=A.RegExp,$f=A.String,yn=A.TypeError,zr=E.prototype,qf=fe.prototype,Vt=we.prototype,Nr=A["__core-js_shared__"],Wr=qf.toString,ge=Vt.hasOwnProperty,Uf=0,ca=(function(){var e=/[^.]+$/.exec(Nr&&Nr.keys&&Nr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),$r=Vt.toString,Hf=Wr.call(we),Yf=We._,Gf=Ki("^"+Wr.call(ge).replace(Li,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qr=Vo?A.Buffer:r,ct=A.Symbol,Ur=A.Uint8Array,fa=qr?qr.allocUnsafe:r,Hr=sa(we.getPrototypeOf,we),ha=we.create,da=Vt.propertyIsEnumerable,Yr=zr.splice,pa=ct?ct.isConcatSpreadable:r,or=ct?ct.iterator:r,At=ct?ct.toStringTag:r,Gr=(function(){try{var e=Ot(we,"defineProperty");return e({},"",{}),e}catch{}})(),Vf=A.clearTimeout!==We.clearTimeout&&A.clearTimeout,Qf=z&&z.now!==We.Date.now&&z.now,Xf=A.setTimeout!==We.setTimeout&&A.setTimeout,Vr=Me.ceil,Qr=Me.floor,Ji=we.getOwnPropertySymbols,Kf=qr?qr.isBuffer:r,ga=A.isFinite,Jf=zr.join,Zf=sa(we.keys,we),Re=Me.max,qe=Me.min,jf=z.now,eh=A.parseInt,ma=Me.random,nh=zr.reverse,Zi=Ot(A,"DataView"),ar=Ot(A,"Map"),ji=Ot(A,"Promise"),Qt=Ot(A,"Set"),sr=Ot(A,"WeakMap"),lr=Ot(we,"create"),Xr=sr&&new sr,Xt={},th=Mt(Zi),rh=Mt(ar),ih=Mt(ji),uh=Mt(Qt),oh=Mt(sr),Kr=ct?ct.prototype:r,cr=Kr?Kr.valueOf:r,xa=Kr?Kr.toString:r;function g(e){if(Pe(e)&&!J(e)&&!(e instanceof ie)){if(e instanceof _n)return e;if(ge.call(e,"__wrapped__"))return ws(e)}return new _n(e)}var Kt=(function(){function e(){}return function(t){if(!Ee(t))return{};if(ha)return ha(t);e.prototype=t;var u=new e;return e.prototype=r,u}})();function Jr(){}function _n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}g.templateSettings={escape:yc,evaluate:_c,interpolate:Io,variable:"",imports:{_:g}},g.prototype=Jr.prototype,g.prototype.constructor=g,_n.prototype=Kt(Jr.prototype),_n.prototype.constructor=_n;function ie(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function ah(){var e=new ie(this.__wrapped__);return e.__actions__=Ke(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ke(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ke(this.__views__),e}function sh(){if(this.__filtered__){var e=new ie(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function lh(){var e=this.__wrapped__.value(),t=this.__dir__,u=J(e),s=t<0,h=u?e.length:0,m=vd(0,h,this.__views__),y=m.start,b=m.end,I=b-y,P=s?b:y-1,F=this.__iteratees__,L=F.length,B=0,$=qe(I,this.__takeCount__);if(!u||!s&&h==I&&$==I)return $a(e,this.__actions__);var V=[];e:for(;I--&&B<$;){P+=t;for(var j=-1,Q=e[P];++j<L;){var re=F[j],oe=re.iteratee,hn=re.type,Ve=oe(Q);if(hn==ue)Q=Ve;else if(!Ve){if(hn==Ie)continue e;break e}}V[B++]=Q}return V}ie.prototype=Kt(Jr.prototype),ie.prototype.constructor=ie;function Tt(e){var t=-1,u=e==null?0:e.length;for(this.clear();++t<u;){var s=e[t];this.set(s[0],s[1])}}function ch(){this.__data__=lr?lr(null):{},this.size=0}function fh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function hh(e){var t=this.__data__;if(lr){var u=t[e];return u===p?r:u}return ge.call(t,e)?t[e]:r}function dh(e){var t=this.__data__;return lr?t[e]!==r:ge.call(t,e)}function ph(e,t){var u=this.__data__;return this.size+=this.has(e)?0:1,u[e]=lr&&t===r?p:t,this}Tt.prototype.clear=ch,Tt.prototype.delete=fh,Tt.prototype.get=hh,Tt.prototype.has=dh,Tt.prototype.set=ph;function Xn(e){var t=-1,u=e==null?0:e.length;for(this.clear();++t<u;){var s=e[t];this.set(s[0],s[1])}}function gh(){this.__data__=[],this.size=0}function mh(e){var t=this.__data__,u=Zr(t,e);if(u<0)return!1;var s=t.length-1;return u==s?t.pop():Yr.call(t,u,1),--this.size,!0}function xh(e){var t=this.__data__,u=Zr(t,e);return u<0?r:t[u][1]}function wh(e){return Zr(this.__data__,e)>-1}function yh(e,t){var u=this.__data__,s=Zr(u,e);return s<0?(++this.size,u.push([e,t])):u[s][1]=t,this}Xn.prototype.clear=gh,Xn.prototype.delete=mh,Xn.prototype.get=xh,Xn.prototype.has=wh,Xn.prototype.set=yh;function Kn(e){var t=-1,u=e==null?0:e.length;for(this.clear();++t<u;){var s=e[t];this.set(s[0],s[1])}}function _h(){this.size=0,this.__data__={hash:new Tt,map:new(ar||Xn),string:new Tt}}function vh(e){var t=ci(this,e).delete(e);return this.size-=t?1:0,t}function bh(e){return ci(this,e).get(e)}function kh(e){return ci(this,e).has(e)}function Sh(e,t){var u=ci(this,e),s=u.size;return u.set(e,t),this.size+=u.size==s?0:1,this}Kn.prototype.clear=_h,Kn.prototype.delete=vh,Kn.prototype.get=bh,Kn.prototype.has=kh,Kn.prototype.set=Sh;function Pt(e){var t=-1,u=e==null?0:e.length;for(this.__data__=new Kn;++t<u;)this.add(e[t])}function Ch(e){return this.__data__.set(e,p),this}function Ih(e){return this.__data__.has(e)}Pt.prototype.add=Pt.prototype.push=Ch,Pt.prototype.has=Ih;function Fn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Eh(){this.__data__=new Xn,this.size=0}function Ah(e){var t=this.__data__,u=t.delete(e);return this.size=t.size,u}function Th(e){return this.__data__.get(e)}function Ph(e){return this.__data__.has(e)}function Fh(e,t){var u=this.__data__;if(u instanceof Xn){var s=u.__data__;if(!ar||s.length<a-1)return s.push([e,t]),this.size=++u.size,this;u=this.__data__=new Kn(s)}return u.set(e,t),this.size=u.size,this}Fn.prototype.clear=Eh,Fn.prototype.delete=Ah,Fn.prototype.get=Th,Fn.prototype.has=Ph,Fn.prototype.set=Fh;function wa(e,t){var u=J(e),s=!u&&Rt(e),h=!u&&!s&&gt(e),m=!u&&!s&&!h&&er(e),y=u||s||h||m,b=y?Vi(e.length,$f):[],I=b.length;for(var P in e)(t||ge.call(e,P))&&!(y&&(P=="length"||h&&(P=="offset"||P=="parent")||m&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||et(P,I)))&&b.push(P);return b}function ya(e){var t=e.length;return t?e[cu(0,t-1)]:r}function Lh(e,t){return fi(Ke(e),Ft(t,0,e.length))}function Oh(e){return fi(Ke(e))}function eu(e,t,u){(u!==r&&!Ln(e[t],u)||u===r&&!(t in e))&&Jn(e,t,u)}function fr(e,t,u){var s=e[t];(!(ge.call(e,t)&&Ln(s,u))||u===r&&!(t in e))&&Jn(e,t,u)}function Zr(e,t){for(var u=e.length;u--;)if(Ln(e[u][0],t))return u;return-1}function Mh(e,t,u,s){return ft(e,function(h,m,y){t(s,h,u(h),y)}),s}function _a(e,t){return e&&zn(t,De(t),e)}function Rh(e,t){return e&&zn(t,Ze(t),e)}function Jn(e,t,u){t=="__proto__"&&Gr?Gr(e,t,{configurable:!0,enumerable:!0,value:u,writable:!0}):e[t]=u}function nu(e,t){for(var u=-1,s=t.length,h=E(s),m=e==null;++u<s;)h[u]=m?r:Ru(e,t[u]);return h}function Ft(e,t,u){return e===e&&(u!==r&&(e=e<=u?e:u),t!==r&&(e=e>=t?e:t)),e}function vn(e,t,u,s,h,m){var y,b=t&w,I=t&S,P=t&_;if(u&&(y=h?u(e,s,h,m):u(e)),y!==r)return y;if(!Ee(e))return e;var F=J(e);if(F){if(y=kd(e),!b)return Ke(e,y)}else{var L=Ue(e),B=L==Wt||L==Ar;if(gt(e))return Ha(e,b);if(L==mn||L==Qe||B&&!h){if(y=I||B?{}:ls(e),!b)return I?hd(e,Rh(y,e)):fd(e,_a(y,e))}else{if(!ve[L])return h?e:{};y=Sd(e,L,b)}}m||(m=new Fn);var $=m.get(e);if($)return $;m.set(e,y),zs(e)?e.forEach(function(Q){y.add(vn(Q,t,u,Q,e,m))}):Bs(e)&&e.forEach(function(Q,re){y.set(re,vn(Q,t,u,re,e,m))});var V=P?I?vu:_u:I?Ze:De,j=F?r:V(e);return wn(j||e,function(Q,re){j&&(re=Q,Q=e[re]),fr(y,re,vn(Q,t,u,re,e,m))}),y}function Bh(e){var t=De(e);return function(u){return va(u,e,t)}}function va(e,t,u){var s=u.length;if(e==null)return!s;for(e=we(e);s--;){var h=u[s],m=t[h],y=e[h];if(y===r&&!(h in e)||!m(y))return!1}return!0}function ba(e,t,u){if(typeof e!="function")throw new yn(c);return wr(function(){e.apply(r,u)},t)}function hr(e,t,u,s){var h=-1,m=Rr,y=!0,b=e.length,I=[],P=t.length;if(!b)return I;u&&(t=Ce(t,ln(u))),s?(m=$i,y=!1):t.length>=a&&(m=ur,y=!1,t=new Pt(t));e:for(;++h<b;){var F=e[h],L=u==null?F:u(F);if(F=s||F!==0?F:0,y&&L===L){for(var B=P;B--;)if(t[B]===L)continue e;I.push(F)}else m(t,L,s)||I.push(F)}return I}var ft=Xa(Dn),ka=Xa(ru,!0);function Dh(e,t){var u=!0;return ft(e,function(s,h,m){return u=!!t(s,h,m),u}),u}function jr(e,t,u){for(var s=-1,h=e.length;++s<h;){var m=e[s],y=t(m);if(y!=null&&(b===r?y===y&&!fn(y):u(y,b)))var b=y,I=m}return I}function zh(e,t,u,s){var h=e.length;for(u=Z(u),u<0&&(u=-u>h?0:h+u),s=s===r||s>h?h:Z(s),s<0&&(s+=h),s=u>s?0:Ws(s);u<s;)e[u++]=t;return e}function Sa(e,t){var u=[];return ft(e,function(s,h,m){t(s,h,m)&&u.push(s)}),u}function $e(e,t,u,s,h){var m=-1,y=e.length;for(u||(u=Id),h||(h=[]);++m<y;){var b=e[m];t>0&&u(b)?t>1?$e(b,t-1,u,s,h):st(h,b):s||(h[h.length]=b)}return h}var tu=Ka(),Ca=Ka(!0);function Dn(e,t){return e&&tu(e,t,De)}function ru(e,t){return e&&Ca(e,t,De)}function ei(e,t){return at(t,function(u){return nt(e[u])})}function Lt(e,t){t=dt(t,e);for(var u=0,s=t.length;e!=null&&u<s;)e=e[Nn(t[u++])];return u&&u==s?e:r}function Ia(e,t,u){var s=t(e);return J(e)?s:st(s,u(e))}function Ye(e){return e==null?e===r?Fi:Tr:At&&At in we(e)?_d(e):Od(e)}function iu(e,t){return e>t}function Nh(e,t){return e!=null&&ge.call(e,t)}function Wh(e,t){return e!=null&&t in we(e)}function $h(e,t,u){return e>=qe(t,u)&&e<Re(t,u)}function uu(e,t,u){for(var s=u?$i:Rr,h=e[0].length,m=e.length,y=m,b=E(m),I=1/0,P=[];y--;){var F=e[y];y&&t&&(F=Ce(F,ln(t))),I=qe(F.length,I),b[y]=!u&&(t||h>=120&&F.length>=120)?new Pt(y&&F):r}F=e[0];var L=-1,B=b[0];e:for(;++L<h&&P.length<I;){var $=F[L],V=t?t($):$;if($=u||$!==0?$:0,!(B?ur(B,V):s(P,V,u))){for(y=m;--y;){var j=b[y];if(!(j?ur(j,V):s(e[y],V,u)))continue e}B&&B.push(V),P.push($)}}return P}function qh(e,t,u,s){return Dn(e,function(h,m,y){t(s,u(h),m,y)}),s}function dr(e,t,u){t=dt(t,e),e=ds(e,t);var s=e==null?e:e[Nn(kn(t))];return s==null?r:sn(s,e,u)}function Ea(e){return Pe(e)&&Ye(e)==Qe}function Uh(e){return Pe(e)&&Ye(e)==R}function Hh(e){return Pe(e)&&Ye(e)==gn}function pr(e,t,u,s,h){return e===t?!0:e==null||t==null||!Pe(e)&&!Pe(t)?e!==e&&t!==t:Yh(e,t,u,s,pr,h)}function Yh(e,t,u,s,h,m){var y=J(e),b=J(t),I=y?Te:Ue(e),P=b?Te:Ue(t);I=I==Qe?mn:I,P=P==Qe?mn:P;var F=I==mn,L=P==mn,B=I==P;if(B&&gt(e)){if(!gt(t))return!1;y=!0,F=!1}if(B&&!F)return m||(m=new Fn),y||er(e)?os(e,t,u,s,h,m):wd(e,t,I,u,s,h,m);if(!(u&N)){var $=F&&ge.call(e,"__wrapped__"),V=L&&ge.call(t,"__wrapped__");if($||V){var j=$?e.value():e,Q=V?t.value():t;return m||(m=new Fn),h(j,Q,u,s,m)}}return B?(m||(m=new Fn),yd(e,t,u,s,h,m)):!1}function Gh(e){return Pe(e)&&Ue(e)==un}function ou(e,t,u,s){var h=u.length,m=h,y=!s;if(e==null)return!m;for(e=we(e);h--;){var b=u[h];if(y&&b[2]?b[1]!==e[b[0]]:!(b[0]in e))return!1}for(;++h<m;){b=u[h];var I=b[0],P=e[I],F=b[1];if(y&&b[2]){if(P===r&&!(I in e))return!1}else{var L=new Fn;if(s)var B=s(P,F,I,e,t,L);if(!(B===r?pr(F,P,N|D,s,L):B))return!1}}return!0}function Aa(e){if(!Ee(e)||Ad(e))return!1;var t=nt(e)?Gf:Rc;return t.test(Mt(e))}function Vh(e){return Pe(e)&&Ye(e)==ot}function Qh(e){return Pe(e)&&Ue(e)==on}function Xh(e){return Pe(e)&&xi(e.length)&&!!Se[Ye(e)]}function Ta(e){return typeof e=="function"?e:e==null?je:typeof e=="object"?J(e)?La(e[0],e[1]):Fa(e):Js(e)}function au(e){if(!xr(e))return Zf(e);var t=[];for(var u in we(e))ge.call(e,u)&&u!="constructor"&&t.push(u);return t}function Kh(e){if(!Ee(e))return Ld(e);var t=xr(e),u=[];for(var s in e)s=="constructor"&&(t||!ge.call(e,s))||u.push(s);return u}function su(e,t){return e<t}function Pa(e,t){var u=-1,s=Je(e)?E(e.length):[];return ft(e,function(h,m,y){s[++u]=t(h,m,y)}),s}function Fa(e){var t=ku(e);return t.length==1&&t[0][2]?fs(t[0][0],t[0][1]):function(u){return u===e||ou(u,e,t)}}function La(e,t){return Cu(e)&&cs(t)?fs(Nn(e),t):function(u){var s=Ru(u,e);return s===r&&s===t?Bu(u,e):pr(t,s,N|D)}}function ni(e,t,u,s,h){e!==t&&tu(t,function(m,y){if(h||(h=new Fn),Ee(m))Jh(e,t,y,u,ni,s,h);else{var b=s?s(Eu(e,y),m,y+"",e,t,h):r;b===r&&(b=m),eu(e,y,b)}},Ze)}function Jh(e,t,u,s,h,m,y){var b=Eu(e,u),I=Eu(t,u),P=y.get(I);if(P){eu(e,u,P);return}var F=m?m(b,I,u+"",e,t,y):r,L=F===r;if(L){var B=J(I),$=!B&&gt(I),V=!B&&!$&&er(I);F=I,B||$||V?J(b)?F=b:Fe(b)?F=Ke(b):$?(L=!1,F=Ha(I,!0)):V?(L=!1,F=Ya(I,!0)):F=[]:yr(I)||Rt(I)?(F=b,Rt(b)?F=$s(b):(!Ee(b)||nt(b))&&(F=ls(I))):L=!1}L&&(y.set(I,F),h(F,I,s,m,y),y.delete(I)),eu(e,u,F)}function Oa(e,t){var u=e.length;if(u)return t+=t<0?u:0,et(t,u)?e[t]:r}function Ma(e,t,u){t.length?t=Ce(t,function(m){return J(m)?function(y){return Lt(y,m.length===1?m[0]:m)}:m}):t=[je];var s=-1;t=Ce(t,ln(H()));var h=Pa(e,function(m,y,b){var I=Ce(t,function(P){return P(m)});return{criteria:I,index:++s,value:m}});return Sf(h,function(m,y){return cd(m,y,u)})}function Zh(e,t){return Ra(e,t,function(u,s){return Bu(e,s)})}function Ra(e,t,u){for(var s=-1,h=t.length,m={};++s<h;){var y=t[s],b=Lt(e,y);u(b,y)&&gr(m,dt(y,e),b)}return m}function jh(e){return function(t){return Lt(t,e)}}function lu(e,t,u,s){var h=s?kf:Ut,m=-1,y=t.length,b=e;for(e===t&&(t=Ke(t)),u&&(b=Ce(e,ln(u)));++m<y;)for(var I=0,P=t[m],F=u?u(P):P;(I=h(b,F,I,s))>-1;)b!==e&&Yr.call(b,I,1),Yr.call(e,I,1);return e}function Ba(e,t){for(var u=e?t.length:0,s=u-1;u--;){var h=t[u];if(u==s||h!==m){var m=h;et(h)?Yr.call(e,h,1):du(e,h)}}return e}function cu(e,t){return e+Qr(ma()*(t-e+1))}function ed(e,t,u,s){for(var h=-1,m=Re(Vr((t-e)/(u||1)),0),y=E(m);m--;)y[s?m:++h]=e,e+=u;return y}function fu(e,t){var u="";if(!e||t<1||t>Oe)return u;do t%2&&(u+=e),t=Qr(t/2),t&&(e+=e);while(t);return u}function ne(e,t){return Au(hs(e,t,je),e+"")}function nd(e){return ya(nr(e))}function td(e,t){var u=nr(e);return fi(u,Ft(t,0,u.length))}function gr(e,t,u,s){if(!Ee(e))return e;t=dt(t,e);for(var h=-1,m=t.length,y=m-1,b=e;b!=null&&++h<m;){var I=Nn(t[h]),P=u;if(I==="__proto__"||I==="constructor"||I==="prototype")return e;if(h!=y){var F=b[I];P=s?s(F,I,b):r,P===r&&(P=Ee(F)?F:et(t[h+1])?[]:{})}fr(b,I,P),b=b[I]}return e}var Da=Xr?function(e,t){return Xr.set(e,t),e}:je,rd=Gr?function(e,t){return Gr(e,"toString",{configurable:!0,enumerable:!1,value:zu(t),writable:!0})}:je;function id(e){return fi(nr(e))}function bn(e,t,u){var s=-1,h=e.length;t<0&&(t=-t>h?0:h+t),u=u>h?h:u,u<0&&(u+=h),h=t>u?0:u-t>>>0,t>>>=0;for(var m=E(h);++s<h;)m[s]=e[s+t];return m}function ud(e,t){var u;return ft(e,function(s,h,m){return u=t(s,h,m),!u}),!!u}function ti(e,t,u){var s=0,h=e==null?s:e.length;if(typeof t=="number"&&t===t&&h<=k){for(;s<h;){var m=s+h>>>1,y=e[m];y!==null&&!fn(y)&&(u?y<=t:y<t)?s=m+1:h=m}return h}return hu(e,t,je,u)}function hu(e,t,u,s){var h=0,m=e==null?0:e.length;if(m===0)return 0;t=u(t);for(var y=t!==t,b=t===null,I=fn(t),P=t===r;h<m;){var F=Qr((h+m)/2),L=u(e[F]),B=L!==r,$=L===null,V=L===L,j=fn(L);if(y)var Q=s||V;else P?Q=V&&(s||B):b?Q=V&&B&&(s||!$):I?Q=V&&B&&!$&&(s||!j):$||j?Q=!1:Q=s?L<=t:L<t;Q?h=F+1:m=F}return qe(m,En)}function za(e,t){for(var u=-1,s=e.length,h=0,m=[];++u<s;){var y=e[u],b=t?t(y):y;if(!u||!Ln(b,I)){var I=b;m[h++]=y===0?0:y}}return m}function Na(e){return typeof e=="number"?e:fn(e)?v:+e}function cn(e){if(typeof e=="string")return e;if(J(e))return Ce(e,cn)+"";if(fn(e))return xa?xa.call(e):"";var t=e+"";return t=="0"&&1/e==-ke?"-0":t}function ht(e,t,u){var s=-1,h=Rr,m=e.length,y=!0,b=[],I=b;if(u)y=!1,h=$i;else if(m>=a){var P=t?null:md(e);if(P)return Dr(P);y=!1,h=ur,I=new Pt}else I=t?[]:b;e:for(;++s<m;){var F=e[s],L=t?t(F):F;if(F=u||F!==0?F:0,y&&L===L){for(var B=I.length;B--;)if(I[B]===L)continue e;t&&I.push(L),b.push(F)}else h(I,L,u)||(I!==b&&I.push(L),b.push(F))}return b}function du(e,t){return t=dt(t,e),e=ds(e,t),e==null||delete e[Nn(kn(t))]}function Wa(e,t,u,s){return gr(e,t,u(Lt(e,t)),s)}function ri(e,t,u,s){for(var h=e.length,m=s?h:-1;(s?m--:++m<h)&&t(e[m],m,e););return u?bn(e,s?0:m,s?m+1:h):bn(e,s?m+1:0,s?h:m)}function $a(e,t){var u=e;return u instanceof ie&&(u=u.value()),qi(t,function(s,h){return h.func.apply(h.thisArg,st([s],h.args))},u)}function pu(e,t,u){var s=e.length;if(s<2)return s?ht(e[0]):[];for(var h=-1,m=E(s);++h<s;)for(var y=e[h],b=-1;++b<s;)b!=h&&(m[h]=hr(m[h]||y,e[b],t,u));return ht($e(m,1),t,u)}function qa(e,t,u){for(var s=-1,h=e.length,m=t.length,y={};++s<h;){var b=s<m?t[s]:r;u(y,e[s],b)}return y}function gu(e){return Fe(e)?e:[]}function mu(e){return typeof e=="function"?e:je}function dt(e,t){return J(e)?e:Cu(e,t)?[e]:xs(pe(e))}var od=ne;function pt(e,t,u){var s=e.length;return u=u===r?s:u,!t&&u>=s?e:bn(e,t,u)}var Ua=Vf||function(e){return We.clearTimeout(e)};function Ha(e,t){if(t)return e.slice();var u=e.length,s=fa?fa(u):new e.constructor(u);return e.copy(s),s}function xu(e){var t=new e.constructor(e.byteLength);return new Ur(t).set(new Ur(e)),t}function ad(e,t){var u=t?xu(e.buffer):e.buffer;return new e.constructor(u,e.byteOffset,e.byteLength)}function sd(e){var t=new e.constructor(e.source,Eo.exec(e));return t.lastIndex=e.lastIndex,t}function ld(e){return cr?we(cr.call(e)):{}}function Ya(e,t){var u=t?xu(e.buffer):e.buffer;return new e.constructor(u,e.byteOffset,e.length)}function Ga(e,t){if(e!==t){var u=e!==r,s=e===null,h=e===e,m=fn(e),y=t!==r,b=t===null,I=t===t,P=fn(t);if(!b&&!P&&!m&&e>t||m&&y&&I&&!b&&!P||s&&y&&I||!u&&I||!h)return 1;if(!s&&!m&&!P&&e<t||P&&u&&h&&!s&&!m||b&&u&&h||!y&&h||!I)return-1}return 0}function cd(e,t,u){for(var s=-1,h=e.criteria,m=t.criteria,y=h.length,b=u.length;++s<y;){var I=Ga(h[s],m[s]);if(I){if(s>=b)return I;var P=u[s];return I*(P=="desc"?-1:1)}}return e.index-t.index}function Va(e,t,u,s){for(var h=-1,m=e.length,y=u.length,b=-1,I=t.length,P=Re(m-y,0),F=E(I+P),L=!s;++b<I;)F[b]=t[b];for(;++h<y;)(L||h<m)&&(F[u[h]]=e[h]);for(;P--;)F[b++]=e[h++];return F}function Qa(e,t,u,s){for(var h=-1,m=e.length,y=-1,b=u.length,I=-1,P=t.length,F=Re(m-b,0),L=E(F+P),B=!s;++h<F;)L[h]=e[h];for(var $=h;++I<P;)L[$+I]=t[I];for(;++y<b;)(B||h<m)&&(L[$+u[y]]=e[h++]);return L}function Ke(e,t){var u=-1,s=e.length;for(t||(t=E(s));++u<s;)t[u]=e[u];return t}function zn(e,t,u,s){var h=!u;u||(u={});for(var m=-1,y=t.length;++m<y;){var b=t[m],I=s?s(u[b],e[b],b,u,e):r;I===r&&(I=e[b]),h?Jn(u,b,I):fr(u,b,I)}return u}function fd(e,t){return zn(e,Su(e),t)}function hd(e,t){return zn(e,as(e),t)}function ii(e,t){return function(u,s){var h=J(u)?xf:Mh,m=t?t():{};return h(u,e,H(s,2),m)}}function Jt(e){return ne(function(t,u){var s=-1,h=u.length,m=h>1?u[h-1]:r,y=h>2?u[2]:r;for(m=e.length>3&&typeof m=="function"?(h--,m):r,y&&Ge(u[0],u[1],y)&&(m=h<3?r:m,h=1),t=we(t);++s<h;){var b=u[s];b&&e(t,b,s,m)}return t})}function Xa(e,t){return function(u,s){if(u==null)return u;if(!Je(u))return e(u,s);for(var h=u.length,m=t?h:-1,y=we(u);(t?m--:++m<h)&&s(y[m],m,y)!==!1;);return u}}function Ka(e){return function(t,u,s){for(var h=-1,m=we(t),y=s(t),b=y.length;b--;){var I=y[e?b:++h];if(u(m[I],I,m)===!1)break}return t}}function dd(e,t,u){var s=t&Y,h=mr(e);function m(){var y=this&&this!==We&&this instanceof m?h:e;return y.apply(s?u:this,arguments)}return m}function Ja(e){return function(t){t=pe(t);var u=Ht(t)?Pn(t):r,s=u?u[0]:t.charAt(0),h=u?pt(u,1).join(""):t.slice(1);return s[e]()+h}}function Zt(e){return function(t){return qi(Xs(Qs(t).replace(tf,"")),e,"")}}function mr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var u=Kt(e.prototype),s=e.apply(u,t);return Ee(s)?s:u}}function pd(e,t,u){var s=mr(e);function h(){for(var m=arguments.length,y=E(m),b=m,I=jt(h);b--;)y[b]=arguments[b];var P=m<3&&y[0]!==I&&y[m-1]!==I?[]:lt(y,I);if(m-=P.length,m<u)return ts(e,t,ui,h.placeholder,r,y,P,r,r,u-m);var F=this&&this!==We&&this instanceof h?s:e;return sn(F,this,y)}return h}function Za(e){return function(t,u,s){var h=we(t);if(!Je(t)){var m=H(u,3);t=De(t),u=function(b){return m(h[b],b,h)}}var y=e(t,u,s);return y>-1?h[m?t[y]:y]:r}}function ja(e){return jn(function(t){var u=t.length,s=u,h=_n.prototype.thru;for(e&&t.reverse();s--;){var m=t[s];if(typeof m!="function")throw new yn(c);if(h&&!y&&li(m)=="wrapper")var y=new _n([],!0)}for(s=y?s:u;++s<u;){m=t[s];var b=li(m),I=b=="wrapper"?bu(m):r;I&&Iu(I[0])&&I[1]==(te|W|ae|ye)&&!I[4].length&&I[9]==1?y=y[li(I[0])].apply(y,I[3]):y=m.length==1&&Iu(m)?y[b]():y.thru(m)}return function(){var P=arguments,F=P[0];if(y&&P.length==1&&J(F))return y.plant(F).value();for(var L=0,B=u?t[L].apply(this,P):F;++L<u;)B=t[L].call(this,B);return B}})}function ui(e,t,u,s,h,m,y,b,I,P){var F=t&te,L=t&Y,B=t&M,$=t&(W|de),V=t&le,j=B?r:mr(e);function Q(){for(var re=arguments.length,oe=E(re),hn=re;hn--;)oe[hn]=arguments[hn];if($)var Ve=jt(Q),dn=If(oe,Ve);if(s&&(oe=Va(oe,s,h,$)),m&&(oe=Qa(oe,m,y,$)),re-=dn,$&&re<P){var Le=lt(oe,Ve);return ts(e,t,ui,Q.placeholder,u,oe,Le,b,I,P-re)}var On=L?u:this,rt=B?On[e]:e;return re=oe.length,b?oe=Md(oe,b):V&&re>1&&oe.reverse(),F&&I<re&&(oe.length=I),this&&this!==We&&this instanceof Q&&(rt=j||mr(rt)),rt.apply(On,oe)}return Q}function es(e,t){return function(u,s){return qh(u,e,t(s),{})}}function oi(e,t){return function(u,s){var h;if(u===r&&s===r)return t;if(u!==r&&(h=u),s!==r){if(h===r)return s;typeof u=="string"||typeof s=="string"?(u=cn(u),s=cn(s)):(u=Na(u),s=Na(s)),h=e(u,s)}return h}}function wu(e){return jn(function(t){return t=Ce(t,ln(H())),ne(function(u){var s=this;return e(t,function(h){return sn(h,s,u)})})})}function ai(e,t){t=t===r?" ":cn(t);var u=t.length;if(u<2)return u?fu(t,e):t;var s=fu(t,Vr(e/Yt(t)));return Ht(t)?pt(Pn(s),0,e).join(""):s.slice(0,e)}function gd(e,t,u,s){var h=t&Y,m=mr(e);function y(){for(var b=-1,I=arguments.length,P=-1,F=s.length,L=E(F+I),B=this&&this!==We&&this instanceof y?m:e;++P<F;)L[P]=s[P];for(;I--;)L[P++]=arguments[++b];return sn(B,h?u:this,L)}return y}function ns(e){return function(t,u,s){return s&&typeof s!="number"&&Ge(t,u,s)&&(u=s=r),t=tt(t),u===r?(u=t,t=0):u=tt(u),s=s===r?t<u?1:-1:tt(s),ed(t,u,s,e)}}function si(e){return function(t,u){return typeof t=="string"&&typeof u=="string"||(t=Sn(t),u=Sn(u)),e(t,u)}}function ts(e,t,u,s,h,m,y,b,I,P){var F=t&W,L=F?y:r,B=F?r:y,$=F?m:r,V=F?r:m;t|=F?ae:O,t&=~(F?O:ae),t&se||(t&=-4);var j=[e,t,h,$,L,V,B,b,I,P],Q=u.apply(r,j);return Iu(e)&&ps(Q,j),Q.placeholder=s,gs(Q,e,t)}function yu(e){var t=Me[e];return function(u,s){if(u=Sn(u),s=s==null?0:qe(Z(s),292),s&&ga(u)){var h=(pe(u)+"e").split("e"),m=t(h[0]+"e"+(+h[1]+s));return h=(pe(m)+"e").split("e"),+(h[0]+"e"+(+h[1]-s))}return t(u)}}var md=Qt&&1/Dr(new Qt([,-0]))[1]==ke?function(e){return new Qt(e)}:$u;function rs(e){return function(t){var u=Ue(t);return u==un?Xi(t):u==on?Of(t):Cf(t,e(t))}}function Zn(e,t,u,s,h,m,y,b){var I=t&M;if(!I&&typeof e!="function")throw new yn(c);var P=s?s.length:0;if(P||(t&=-97,s=h=r),y=y===r?y:Re(Z(y),0),b=b===r?b:Z(b),P-=h?h.length:0,t&O){var F=s,L=h;s=h=r}var B=I?r:bu(e),$=[e,t,u,s,h,F,L,m,y,b];if(B&&Fd($,B),e=$[0],t=$[1],u=$[2],s=$[3],h=$[4],b=$[9]=$[9]===r?I?0:e.length:Re($[9]-P,0),!b&&t&(W|de)&&(t&=-25),!t||t==Y)var V=dd(e,t,u);else t==W||t==de?V=pd(e,t,b):(t==ae||t==(Y|ae))&&!h.length?V=gd(e,t,u,s):V=ui.apply(r,$);var j=B?Da:ps;return gs(j(V,$),e,t)}function is(e,t,u,s){return e===r||Ln(e,Vt[u])&&!ge.call(s,u)?t:e}function us(e,t,u,s,h,m){return Ee(e)&&Ee(t)&&(m.set(t,e),ni(e,t,r,us,m),m.delete(t)),e}function xd(e){return yr(e)?r:e}function os(e,t,u,s,h,m){var y=u&N,b=e.length,I=t.length;if(b!=I&&!(y&&I>b))return!1;var P=m.get(e),F=m.get(t);if(P&&F)return P==t&&F==e;var L=-1,B=!0,$=u&D?new Pt:r;for(m.set(e,t),m.set(t,e);++L<b;){var V=e[L],j=t[L];if(s)var Q=y?s(j,V,L,t,e,m):s(V,j,L,e,t,m);if(Q!==r){if(Q)continue;B=!1;break}if($){if(!Ui(t,function(re,oe){if(!ur($,oe)&&(V===re||h(V,re,u,s,m)))return $.push(oe)})){B=!1;break}}else if(!(V===j||h(V,j,u,s,m))){B=!1;break}}return m.delete(e),m.delete(t),B}function wd(e,t,u,s,h,m,y){switch(u){case G:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!m(new Ur(e),new Ur(t)));case Xe:case gn:case ut:return Ln(+e,+t);case Gn:return e.name==t.name&&e.message==t.message;case ot:case Ct:return e==t+"";case un:var b=Xi;case on:var I=s&N;if(b||(b=Dr),e.size!=t.size&&!I)return!1;var P=y.get(e);if(P)return P==t;s|=D,y.set(e,t);var F=os(b(e),b(t),s,h,m,y);return y.delete(e),F;case $t:if(cr)return cr.call(e)==cr.call(t)}return!1}function yd(e,t,u,s,h,m){var y=u&N,b=_u(e),I=b.length,P=_u(t),F=P.length;if(I!=F&&!y)return!1;for(var L=I;L--;){var B=b[L];if(!(y?B in t:ge.call(t,B)))return!1}var $=m.get(e),V=m.get(t);if($&&V)return $==t&&V==e;var j=!0;m.set(e,t),m.set(t,e);for(var Q=y;++L<I;){B=b[L];var re=e[B],oe=t[B];if(s)var hn=y?s(oe,re,B,t,e,m):s(re,oe,B,e,t,m);if(!(hn===r?re===oe||h(re,oe,u,s,m):hn)){j=!1;break}Q||(Q=B=="constructor")}if(j&&!Q){var Ve=e.constructor,dn=t.constructor;Ve!=dn&&"constructor"in e&&"constructor"in t&&!(typeof Ve=="function"&&Ve instanceof Ve&&typeof dn=="function"&&dn instanceof dn)&&(j=!1)}return m.delete(e),m.delete(t),j}function jn(e){return Au(hs(e,r,vs),e+"")}function _u(e){return Ia(e,De,Su)}function vu(e){return Ia(e,Ze,as)}var bu=Xr?function(e){return Xr.get(e)}:$u;function li(e){for(var t=e.name+"",u=Xt[t],s=ge.call(Xt,t)?u.length:0;s--;){var h=u[s],m=h.func;if(m==null||m==e)return h.name}return t}function jt(e){var t=ge.call(g,"placeholder")?g:e;return t.placeholder}function H(){var e=g.iteratee||Nu;return e=e===Nu?Ta:e,arguments.length?e(arguments[0],arguments[1]):e}function ci(e,t){var u=e.__data__;return Ed(t)?u[typeof t=="string"?"string":"hash"]:u.map}function ku(e){for(var t=De(e),u=t.length;u--;){var s=t[u],h=e[s];t[u]=[s,h,cs(h)]}return t}function Ot(e,t){var u=Pf(e,t);return Aa(u)?u:r}function _d(e){var t=ge.call(e,At),u=e[At];try{e[At]=r;var s=!0}catch{}var h=$r.call(e);return s&&(t?e[At]=u:delete e[At]),h}var Su=Ji?function(e){return e==null?[]:(e=we(e),at(Ji(e),function(t){return da.call(e,t)}))}:qu,as=Ji?function(e){for(var t=[];e;)st(t,Su(e)),e=Hr(e);return t}:qu,Ue=Ye;(Zi&&Ue(new Zi(new ArrayBuffer(1)))!=G||ar&&Ue(new ar)!=un||ji&&Ue(ji.resolve())!=Pr||Qt&&Ue(new Qt)!=on||sr&&Ue(new sr)!=It)&&(Ue=function(e){var t=Ye(e),u=t==mn?e.constructor:r,s=u?Mt(u):"";if(s)switch(s){case th:return G;case rh:return un;case ih:return Pr;case uh:return on;case oh:return It}return t});function vd(e,t,u){for(var s=-1,h=u.length;++s<h;){var m=u[s],y=m.size;switch(m.type){case"drop":e+=y;break;case"dropRight":t-=y;break;case"take":t=qe(t,e+y);break;case"takeRight":e=Re(e,t-y);break}}return{start:e,end:t}}function bd(e){var t=e.match(Ec);return t?t[1].split(Ac):[]}function ss(e,t,u){t=dt(t,e);for(var s=-1,h=t.length,m=!1;++s<h;){var y=Nn(t[s]);if(!(m=e!=null&&u(e,y)))break;e=e[y]}return m||++s!=h?m:(h=e==null?0:e.length,!!h&&xi(h)&&et(y,h)&&(J(e)||Rt(e)))}function kd(e){var t=e.length,u=new e.constructor(t);return t&&typeof e[0]=="string"&&ge.call(e,"index")&&(u.index=e.index,u.input=e.input),u}function ls(e){return typeof e.constructor=="function"&&!xr(e)?Kt(Hr(e)):{}}function Sd(e,t,u){var s=e.constructor;switch(t){case R:return xu(e);case Xe:case gn:return new s(+e);case G:return ad(e,u);case ee:case ce:case He:case An:case an:case Vn:case Qn:case Ne:case Bn:return Ya(e,u);case un:return new s;case ut:case Ct:return new s(e);case ot:return sd(e);case on:return new s;case $t:return ld(e)}}function Cd(e,t){var u=t.length;if(!u)return e;var s=u-1;return t[s]=(u>1?"& ":"")+t[s],t=t.join(u>2?", ":" "),e.replace(Ic,`{
/* [wrapped with `+t+`] */
`)}function Id(e){return J(e)||Rt(e)||!!(pa&&e&&e[pa])}function et(e,t){var u=typeof e;return t=t??Oe,!!t&&(u=="number"||u!="symbol"&&Dc.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e,t,u){if(!Ee(u))return!1;var s=typeof t;return(s=="number"?Je(u)&&et(t,u.length):s=="string"&&t in u)?Ln(u[t],e):!1}function Cu(e,t){if(J(e))return!1;var u=typeof e;return u=="number"||u=="symbol"||u=="boolean"||e==null||fn(e)?!0:bc.test(e)||!vc.test(e)||t!=null&&e in we(t)}function Ed(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Iu(e){var t=li(e),u=g[t];if(typeof u!="function"||!(t in ie.prototype))return!1;if(e===u)return!0;var s=bu(u);return!!s&&e===s[0]}function Ad(e){return!!ca&&ca in e}var Td=Nr?nt:Uu;function xr(e){var t=e&&e.constructor,u=typeof t=="function"&&t.prototype||Vt;return e===u}function cs(e){return e===e&&!Ee(e)}function fs(e,t){return function(u){return u==null?!1:u[e]===t&&(t!==r||e in we(u))}}function Pd(e){var t=gi(e,function(s){return u.size===d&&u.clear(),s}),u=t.cache;return t}function Fd(e,t){var u=e[1],s=t[1],h=u|s,m=h<(Y|M|te),y=s==te&&u==W||s==te&&u==ye&&e[7].length<=t[8]||s==(te|ye)&&t[7].length<=t[8]&&u==W;if(!(m||y))return e;s&Y&&(e[2]=t[2],h|=u&Y?0:se);var b=t[3];if(b){var I=e[3];e[3]=I?Va(I,b,t[4]):b,e[4]=I?lt(e[3],x):t[4]}return b=t[5],b&&(I=e[5],e[5]=I?Qa(I,b,t[6]):b,e[6]=I?lt(e[5],x):t[6]),b=t[7],b&&(e[7]=b),s&te&&(e[8]=e[8]==null?t[8]:qe(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=h,e}function Ld(e){var t=[];if(e!=null)for(var u in we(e))t.push(u);return t}function Od(e){return $r.call(e)}function hs(e,t,u){return t=Re(t===r?e.length-1:t,0),function(){for(var s=arguments,h=-1,m=Re(s.length-t,0),y=E(m);++h<m;)y[h]=s[t+h];h=-1;for(var b=E(t+1);++h<t;)b[h]=s[h];return b[t]=u(y),sn(e,this,b)}}function ds(e,t){return t.length<2?e:Lt(e,bn(t,0,-1))}function Md(e,t){for(var u=e.length,s=qe(t.length,u),h=Ke(e);s--;){var m=t[s];e[s]=et(m,u)?h[m]:r}return e}function Eu(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ps=ms(Da),wr=Xf||function(e,t){return We.setTimeout(e,t)},Au=ms(rd);function gs(e,t,u){var s=t+"";return Au(e,Cd(s,Rd(bd(s),u)))}function ms(e){var t=0,u=0;return function(){var s=jf(),h=_e-(s-u);if(u=s,h>0){if(++t>=q)return arguments[0]}else t=0;return e.apply(r,arguments)}}function fi(e,t){var u=-1,s=e.length,h=s-1;for(t=t===r?s:t;++u<t;){var m=cu(u,h),y=e[m];e[m]=e[u],e[u]=y}return e.length=t,e}var xs=Pd(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kc,function(u,s,h,m){t.push(h?m.replace(Fc,"$1"):s||u)}),t});function Nn(e){if(typeof e=="string"||fn(e))return e;var t=e+"";return t=="0"&&1/e==-ke?"-0":t}function Mt(e){if(e!=null){try{return Wr.call(e)}catch{}try{return e+""}catch{}}return""}function Rd(e,t){return wn(rn,function(u){var s="_."+u[0];t&u[1]&&!Rr(e,s)&&e.push(s)}),e.sort()}function ws(e){if(e instanceof ie)return e.clone();var t=new _n(e.__wrapped__,e.__chain__);return t.__actions__=Ke(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Bd(e,t,u){(u?Ge(e,t,u):t===r)?t=1:t=Re(Z(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var h=0,m=0,y=E(Vr(s/t));h<s;)y[m++]=bn(e,h,h+=t);return y}function Dd(e){for(var t=-1,u=e==null?0:e.length,s=0,h=[];++t<u;){var m=e[t];m&&(h[s++]=m)}return h}function zd(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),u=arguments[0],s=e;s--;)t[s-1]=arguments[s];return st(J(u)?Ke(u):[u],$e(t,1))}var Nd=ne(function(e,t){return Fe(e)?hr(e,$e(t,1,Fe,!0)):[]}),Wd=ne(function(e,t){var u=kn(t);return Fe(u)&&(u=r),Fe(e)?hr(e,$e(t,1,Fe,!0),H(u,2)):[]}),$d=ne(function(e,t){var u=kn(t);return Fe(u)&&(u=r),Fe(e)?hr(e,$e(t,1,Fe,!0),r,u):[]});function qd(e,t,u){var s=e==null?0:e.length;return s?(t=u||t===r?1:Z(t),bn(e,t<0?0:t,s)):[]}function Ud(e,t,u){var s=e==null?0:e.length;return s?(t=u||t===r?1:Z(t),t=s-t,bn(e,0,t<0?0:t)):[]}function Hd(e,t){return e&&e.length?ri(e,H(t,3),!0,!0):[]}function Yd(e,t){return e&&e.length?ri(e,H(t,3),!0):[]}function Gd(e,t,u,s){var h=e==null?0:e.length;return h?(u&&typeof u!="number"&&Ge(e,t,u)&&(u=0,s=h),zh(e,t,u,s)):[]}function ys(e,t,u){var s=e==null?0:e.length;if(!s)return-1;var h=u==null?0:Z(u);return h<0&&(h=Re(s+h,0)),Br(e,H(t,3),h)}function _s(e,t,u){var s=e==null?0:e.length;if(!s)return-1;var h=s-1;return u!==r&&(h=Z(u),h=u<0?Re(s+h,0):qe(h,s-1)),Br(e,H(t,3),h,!0)}function vs(e){var t=e==null?0:e.length;return t?$e(e,1):[]}function Vd(e){var t=e==null?0:e.length;return t?$e(e,ke):[]}function Qd(e,t){var u=e==null?0:e.length;return u?(t=t===r?1:Z(t),$e(e,t)):[]}function Xd(e){for(var t=-1,u=e==null?0:e.length,s={};++t<u;){var h=e[t];s[h[0]]=h[1]}return s}function bs(e){return e&&e.length?e[0]:r}function Kd(e,t,u){var s=e==null?0:e.length;if(!s)return-1;var h=u==null?0:Z(u);return h<0&&(h=Re(s+h,0)),Ut(e,t,h)}function Jd(e){var t=e==null?0:e.length;return t?bn(e,0,-1):[]}var Zd=ne(function(e){var t=Ce(e,gu);return t.length&&t[0]===e[0]?uu(t):[]}),jd=ne(function(e){var t=kn(e),u=Ce(e,gu);return t===kn(u)?t=r:u.pop(),u.length&&u[0]===e[0]?uu(u,H(t,2)):[]}),ep=ne(function(e){var t=kn(e),u=Ce(e,gu);return t=typeof t=="function"?t:r,t&&u.pop(),u.length&&u[0]===e[0]?uu(u,r,t):[]});function np(e,t){return e==null?"":Jf.call(e,t)}function kn(e){var t=e==null?0:e.length;return t?e[t-1]:r}function tp(e,t,u){var s=e==null?0:e.length;if(!s)return-1;var h=s;return u!==r&&(h=Z(u),h=h<0?Re(s+h,0):qe(h,s-1)),t===t?Rf(e,t,h):Br(e,ta,h,!0)}function rp(e,t){return e&&e.length?Oa(e,Z(t)):r}var ip=ne(ks);function ks(e,t){return e&&e.length&&t&&t.length?lu(e,t):e}function up(e,t,u){return e&&e.length&&t&&t.length?lu(e,t,H(u,2)):e}function op(e,t,u){return e&&e.length&&t&&t.length?lu(e,t,r,u):e}var ap=jn(function(e,t){var u=e==null?0:e.length,s=nu(e,t);return Ba(e,Ce(t,function(h){return et(h,u)?+h:h}).sort(Ga)),s});function sp(e,t){var u=[];if(!(e&&e.length))return u;var s=-1,h=[],m=e.length;for(t=H(t,3);++s<m;){var y=e[s];t(y,s,e)&&(u.push(y),h.push(s))}return Ba(e,h),u}function Tu(e){return e==null?e:nh.call(e)}function lp(e,t,u){var s=e==null?0:e.length;return s?(u&&typeof u!="number"&&Ge(e,t,u)?(t=0,u=s):(t=t==null?0:Z(t),u=u===r?s:Z(u)),bn(e,t,u)):[]}function cp(e,t){return ti(e,t)}function fp(e,t,u){return hu(e,t,H(u,2))}function hp(e,t){var u=e==null?0:e.length;if(u){var s=ti(e,t);if(s<u&&Ln(e[s],t))return s}return-1}function dp(e,t){return ti(e,t,!0)}function pp(e,t,u){return hu(e,t,H(u,2),!0)}function gp(e,t){var u=e==null?0:e.length;if(u){var s=ti(e,t,!0)-1;if(Ln(e[s],t))return s}return-1}function mp(e){return e&&e.length?za(e):[]}function xp(e,t){return e&&e.length?za(e,H(t,2)):[]}function wp(e){var t=e==null?0:e.length;return t?bn(e,1,t):[]}function yp(e,t,u){return e&&e.length?(t=u||t===r?1:Z(t),bn(e,0,t<0?0:t)):[]}function _p(e,t,u){var s=e==null?0:e.length;return s?(t=u||t===r?1:Z(t),t=s-t,bn(e,t<0?0:t,s)):[]}function vp(e,t){return e&&e.length?ri(e,H(t,3),!1,!0):[]}function bp(e,t){return e&&e.length?ri(e,H(t,3)):[]}var kp=ne(function(e){return ht($e(e,1,Fe,!0))}),Sp=ne(function(e){var t=kn(e);return Fe(t)&&(t=r),ht($e(e,1,Fe,!0),H(t,2))}),Cp=ne(function(e){var t=kn(e);return t=typeof t=="function"?t:r,ht($e(e,1,Fe,!0),r,t)});function Ip(e){return e&&e.length?ht(e):[]}function Ep(e,t){return e&&e.length?ht(e,H(t,2)):[]}function Ap(e,t){return t=typeof t=="function"?t:r,e&&e.length?ht(e,r,t):[]}function Pu(e){if(!(e&&e.length))return[];var t=0;return e=at(e,function(u){if(Fe(u))return t=Re(u.length,t),!0}),Vi(t,function(u){return Ce(e,Hi(u))})}function Ss(e,t){if(!(e&&e.length))return[];var u=Pu(e);return t==null?u:Ce(u,function(s){return sn(t,r,s)})}var Tp=ne(function(e,t){return Fe(e)?hr(e,t):[]}),Pp=ne(function(e){return pu(at(e,Fe))}),Fp=ne(function(e){var t=kn(e);return Fe(t)&&(t=r),pu(at(e,Fe),H(t,2))}),Lp=ne(function(e){var t=kn(e);return t=typeof t=="function"?t:r,pu(at(e,Fe),r,t)}),Op=ne(Pu);function Mp(e,t){return qa(e||[],t||[],fr)}function Rp(e,t){return qa(e||[],t||[],gr)}var Bp=ne(function(e){var t=e.length,u=t>1?e[t-1]:r;return u=typeof u=="function"?(e.pop(),u):r,Ss(e,u)});function Cs(e){var t=g(e);return t.__chain__=!0,t}function Dp(e,t){return t(e),e}function hi(e,t){return t(e)}var zp=jn(function(e){var t=e.length,u=t?e[0]:0,s=this.__wrapped__,h=function(m){return nu(m,e)};return t>1||this.__actions__.length||!(s instanceof ie)||!et(u)?this.thru(h):(s=s.slice(u,+u+(t?1:0)),s.__actions__.push({func:hi,args:[h],thisArg:r}),new _n(s,this.__chain__).thru(function(m){return t&&!m.length&&m.push(r),m}))});function Np(){return Cs(this)}function Wp(){return new _n(this.value(),this.__chain__)}function $p(){this.__values__===r&&(this.__values__=Ns(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function qp(){return this}function Up(e){for(var t,u=this;u instanceof Jr;){var s=ws(u);s.__index__=0,s.__values__=r,t?h.__wrapped__=s:t=s;var h=s;u=u.__wrapped__}return h.__wrapped__=e,t}function Hp(){var e=this.__wrapped__;if(e instanceof ie){var t=e;return this.__actions__.length&&(t=new ie(this)),t=t.reverse(),t.__actions__.push({func:hi,args:[Tu],thisArg:r}),new _n(t,this.__chain__)}return this.thru(Tu)}function Yp(){return $a(this.__wrapped__,this.__actions__)}var Gp=ii(function(e,t,u){ge.call(e,u)?++e[u]:Jn(e,u,1)});function Vp(e,t,u){var s=J(e)?ea:Dh;return u&&Ge(e,t,u)&&(t=r),s(e,H(t,3))}function Qp(e,t){var u=J(e)?at:Sa;return u(e,H(t,3))}var Xp=Za(ys),Kp=Za(_s);function Jp(e,t){return $e(di(e,t),1)}function Zp(e,t){return $e(di(e,t),ke)}function jp(e,t,u){return u=u===r?1:Z(u),$e(di(e,t),u)}function Is(e,t){var u=J(e)?wn:ft;return u(e,H(t,3))}function Es(e,t){var u=J(e)?wf:ka;return u(e,H(t,3))}var eg=ii(function(e,t,u){ge.call(e,u)?e[u].push(t):Jn(e,u,[t])});function ng(e,t,u,s){e=Je(e)?e:nr(e),u=u&&!s?Z(u):0;var h=e.length;return u<0&&(u=Re(h+u,0)),wi(e)?u<=h&&e.indexOf(t,u)>-1:!!h&&Ut(e,t,u)>-1}var tg=ne(function(e,t,u){var s=-1,h=typeof t=="function",m=Je(e)?E(e.length):[];return ft(e,function(y){m[++s]=h?sn(t,y,u):dr(y,t,u)}),m}),rg=ii(function(e,t,u){Jn(e,u,t)});function di(e,t){var u=J(e)?Ce:Pa;return u(e,H(t,3))}function ig(e,t,u,s){return e==null?[]:(J(t)||(t=t==null?[]:[t]),u=s?r:u,J(u)||(u=u==null?[]:[u]),Ma(e,t,u))}var ug=ii(function(e,t,u){e[u?0:1].push(t)},function(){return[[],[]]});function og(e,t,u){var s=J(e)?qi:ia,h=arguments.length<3;return s(e,H(t,4),u,h,ft)}function ag(e,t,u){var s=J(e)?yf:ia,h=arguments.length<3;return s(e,H(t,4),u,h,ka)}function sg(e,t){var u=J(e)?at:Sa;return u(e,mi(H(t,3)))}function lg(e){var t=J(e)?ya:nd;return t(e)}function cg(e,t,u){(u?Ge(e,t,u):t===r)?t=1:t=Z(t);var s=J(e)?Lh:td;return s(e,t)}function fg(e){var t=J(e)?Oh:id;return t(e)}function hg(e){if(e==null)return 0;if(Je(e))return wi(e)?Yt(e):e.length;var t=Ue(e);return t==un||t==on?e.size:au(e).length}function dg(e,t,u){var s=J(e)?Ui:ud;return u&&Ge(e,t,u)&&(t=r),s(e,H(t,3))}var pg=ne(function(e,t){if(e==null)return[];var u=t.length;return u>1&&Ge(e,t[0],t[1])?t=[]:u>2&&Ge(t[0],t[1],t[2])&&(t=[t[0]]),Ma(e,$e(t,1),[])}),pi=Qf||function(){return We.Date.now()};function gg(e,t){if(typeof t!="function")throw new yn(c);return e=Z(e),function(){if(--e<1)return t.apply(this,arguments)}}function As(e,t,u){return t=u?r:t,t=e&&t==null?e.length:t,Zn(e,te,r,r,r,r,t)}function Ts(e,t){var u;if(typeof t!="function")throw new yn(c);return e=Z(e),function(){return--e>0&&(u=t.apply(this,arguments)),e<=1&&(t=r),u}}var Fu=ne(function(e,t,u){var s=Y;if(u.length){var h=lt(u,jt(Fu));s|=ae}return Zn(e,s,t,u,h)}),Ps=ne(function(e,t,u){var s=Y|M;if(u.length){var h=lt(u,jt(Ps));s|=ae}return Zn(t,s,e,u,h)});function Fs(e,t,u){t=u?r:t;var s=Zn(e,W,r,r,r,r,r,t);return s.placeholder=Fs.placeholder,s}function Ls(e,t,u){t=u?r:t;var s=Zn(e,de,r,r,r,r,r,t);return s.placeholder=Ls.placeholder,s}function Os(e,t,u){var s,h,m,y,b,I,P=0,F=!1,L=!1,B=!0;if(typeof e!="function")throw new yn(c);t=Sn(t)||0,Ee(u)&&(F=!!u.leading,L="maxWait"in u,m=L?Re(Sn(u.maxWait)||0,t):m,B="trailing"in u?!!u.trailing:B);function $(Le){var On=s,rt=h;return s=h=r,P=Le,y=e.apply(rt,On),y}function V(Le){return P=Le,b=wr(re,t),F?$(Le):y}function j(Le){var On=Le-I,rt=Le-P,Zs=t-On;return L?qe(Zs,m-rt):Zs}function Q(Le){var On=Le-I,rt=Le-P;return I===r||On>=t||On<0||L&&rt>=m}function re(){var Le=pi();if(Q(Le))return oe(Le);b=wr(re,j(Le))}function oe(Le){return b=r,B&&s?$(Le):(s=h=r,y)}function hn(){b!==r&&Ua(b),P=0,s=I=h=b=r}function Ve(){return b===r?y:oe(pi())}function dn(){var Le=pi(),On=Q(Le);if(s=arguments,h=this,I=Le,On){if(b===r)return V(I);if(L)return Ua(b),b=wr(re,t),$(I)}return b===r&&(b=wr(re,t)),y}return dn.cancel=hn,dn.flush=Ve,dn}var mg=ne(function(e,t){return ba(e,1,t)}),xg=ne(function(e,t,u){return ba(e,Sn(t)||0,u)});function wg(e){return Zn(e,le)}function gi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new yn(c);var u=function(){var s=arguments,h=t?t.apply(this,s):s[0],m=u.cache;if(m.has(h))return m.get(h);var y=e.apply(this,s);return u.cache=m.set(h,y)||m,y};return u.cache=new(gi.Cache||Kn),u}gi.Cache=Kn;function mi(e){if(typeof e!="function")throw new yn(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function yg(e){return Ts(2,e)}var _g=od(function(e,t){t=t.length==1&&J(t[0])?Ce(t[0],ln(H())):Ce($e(t,1),ln(H()));var u=t.length;return ne(function(s){for(var h=-1,m=qe(s.length,u);++h<m;)s[h]=t[h].call(this,s[h]);return sn(e,this,s)})}),Lu=ne(function(e,t){var u=lt(t,jt(Lu));return Zn(e,ae,r,t,u)}),Ms=ne(function(e,t){var u=lt(t,jt(Ms));return Zn(e,O,r,t,u)}),vg=jn(function(e,t){return Zn(e,ye,r,r,r,t)});function bg(e,t){if(typeof e!="function")throw new yn(c);return t=t===r?t:Z(t),ne(e,t)}function kg(e,t){if(typeof e!="function")throw new yn(c);return t=t==null?0:Re(Z(t),0),ne(function(u){var s=u[t],h=pt(u,0,t);return s&&st(h,s),sn(e,this,h)})}function Sg(e,t,u){var s=!0,h=!0;if(typeof e!="function")throw new yn(c);return Ee(u)&&(s="leading"in u?!!u.leading:s,h="trailing"in u?!!u.trailing:h),Os(e,t,{leading:s,maxWait:t,trailing:h})}function Cg(e){return As(e,1)}function Ig(e,t){return Lu(mu(t),e)}function Eg(){if(!arguments.length)return[];var e=arguments[0];return J(e)?e:[e]}function Ag(e){return vn(e,_)}function Tg(e,t){return t=typeof t=="function"?t:r,vn(e,_,t)}function Pg(e){return vn(e,w|_)}function Fg(e,t){return t=typeof t=="function"?t:r,vn(e,w|_,t)}function Lg(e,t){return t==null||va(e,t,De(t))}function Ln(e,t){return e===t||e!==e&&t!==t}var Og=si(iu),Mg=si(function(e,t){return e>=t}),Rt=Ea((function(){return arguments})())?Ea:function(e){return Pe(e)&&ge.call(e,"callee")&&!da.call(e,"callee")},J=E.isArray,Rg=Qo?ln(Qo):Uh;function Je(e){return e!=null&&xi(e.length)&&!nt(e)}function Fe(e){return Pe(e)&&Je(e)}function Bg(e){return e===!0||e===!1||Pe(e)&&Ye(e)==Xe}var gt=Kf||Uu,Dg=Xo?ln(Xo):Hh;function zg(e){return Pe(e)&&e.nodeType===1&&!yr(e)}function Ng(e){if(e==null)return!0;if(Je(e)&&(J(e)||typeof e=="string"||typeof e.splice=="function"||gt(e)||er(e)||Rt(e)))return!e.length;var t=Ue(e);if(t==un||t==on)return!e.size;if(xr(e))return!au(e).length;for(var u in e)if(ge.call(e,u))return!1;return!0}function Wg(e,t){return pr(e,t)}function $g(e,t,u){u=typeof u=="function"?u:r;var s=u?u(e,t):r;return s===r?pr(e,t,r,u):!!s}function Ou(e){if(!Pe(e))return!1;var t=Ye(e);return t==Gn||t==it||typeof e.message=="string"&&typeof e.name=="string"&&!yr(e)}function qg(e){return typeof e=="number"&&ga(e)}function nt(e){if(!Ee(e))return!1;var t=Ye(e);return t==Wt||t==Ar||t==St||t==Fr}function Rs(e){return typeof e=="number"&&e==Z(e)}function xi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Oe}function Ee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Pe(e){return e!=null&&typeof e=="object"}var Bs=Ko?ln(Ko):Gh;function Ug(e,t){return e===t||ou(e,t,ku(t))}function Hg(e,t,u){return u=typeof u=="function"?u:r,ou(e,t,ku(t),u)}function Yg(e){return Ds(e)&&e!=+e}function Gg(e){if(Td(e))throw new K(l);return Aa(e)}function Vg(e){return e===null}function Qg(e){return e==null}function Ds(e){return typeof e=="number"||Pe(e)&&Ye(e)==ut}function yr(e){if(!Pe(e)||Ye(e)!=mn)return!1;var t=Hr(e);if(t===null)return!0;var u=ge.call(t,"constructor")&&t.constructor;return typeof u=="function"&&u instanceof u&&Wr.call(u)==Hf}var Mu=Jo?ln(Jo):Vh;function Xg(e){return Rs(e)&&e>=-Oe&&e<=Oe}var zs=Zo?ln(Zo):Qh;function wi(e){return typeof e=="string"||!J(e)&&Pe(e)&&Ye(e)==Ct}function fn(e){return typeof e=="symbol"||Pe(e)&&Ye(e)==$t}var er=jo?ln(jo):Xh;function Kg(e){return e===r}function Jg(e){return Pe(e)&&Ue(e)==It}function Zg(e){return Pe(e)&&Ye(e)==T}var jg=si(su),em=si(function(e,t){return e<=t});function Ns(e){if(!e)return[];if(Je(e))return wi(e)?Pn(e):Ke(e);if(or&&e[or])return Lf(e[or]());var t=Ue(e),u=t==un?Xi:t==on?Dr:nr;return u(e)}function tt(e){if(!e)return e===0?e:0;if(e=Sn(e),e===ke||e===-ke){var t=e<0?-1:1;return t*In}return e===e?e:0}function Z(e){var t=tt(e),u=t%1;return t===t?u?t-u:t:0}function Ws(e){return e?Ft(Z(e),0,Ae):0}function Sn(e){if(typeof e=="number")return e;if(fn(e))return v;if(Ee(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ee(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ua(e);var u=Mc.test(e);return u||Bc.test(e)?gf(e.slice(2),u?2:8):Oc.test(e)?v:+e}function $s(e){return zn(e,Ze(e))}function nm(e){return e?Ft(Z(e),-Oe,Oe):e===0?e:0}function pe(e){return e==null?"":cn(e)}var tm=Jt(function(e,t){if(xr(t)||Je(t)){zn(t,De(t),e);return}for(var u in t)ge.call(t,u)&&fr(e,u,t[u])}),qs=Jt(function(e,t){zn(t,Ze(t),e)}),yi=Jt(function(e,t,u,s){zn(t,Ze(t),e,s)}),rm=Jt(function(e,t,u,s){zn(t,De(t),e,s)}),im=jn(nu);function um(e,t){var u=Kt(e);return t==null?u:_a(u,t)}var om=ne(function(e,t){e=we(e);var u=-1,s=t.length,h=s>2?t[2]:r;for(h&&Ge(t[0],t[1],h)&&(s=1);++u<s;)for(var m=t[u],y=Ze(m),b=-1,I=y.length;++b<I;){var P=y[b],F=e[P];(F===r||Ln(F,Vt[P])&&!ge.call(e,P))&&(e[P]=m[P])}return e}),am=ne(function(e){return e.push(r,us),sn(Us,r,e)});function sm(e,t){return na(e,H(t,3),Dn)}function lm(e,t){return na(e,H(t,3),ru)}function cm(e,t){return e==null?e:tu(e,H(t,3),Ze)}function fm(e,t){return e==null?e:Ca(e,H(t,3),Ze)}function hm(e,t){return e&&Dn(e,H(t,3))}function dm(e,t){return e&&ru(e,H(t,3))}function pm(e){return e==null?[]:ei(e,De(e))}function gm(e){return e==null?[]:ei(e,Ze(e))}function Ru(e,t,u){var s=e==null?r:Lt(e,t);return s===r?u:s}function mm(e,t){return e!=null&&ss(e,t,Nh)}function Bu(e,t){return e!=null&&ss(e,t,Wh)}var xm=es(function(e,t,u){t!=null&&typeof t.toString!="function"&&(t=$r.call(t)),e[t]=u},zu(je)),wm=es(function(e,t,u){t!=null&&typeof t.toString!="function"&&(t=$r.call(t)),ge.call(e,t)?e[t].push(u):e[t]=[u]},H),ym=ne(dr);function De(e){return Je(e)?wa(e):au(e)}function Ze(e){return Je(e)?wa(e,!0):Kh(e)}function _m(e,t){var u={};return t=H(t,3),Dn(e,function(s,h,m){Jn(u,t(s,h,m),s)}),u}function vm(e,t){var u={};return t=H(t,3),Dn(e,function(s,h,m){Jn(u,h,t(s,h,m))}),u}var bm=Jt(function(e,t,u){ni(e,t,u)}),Us=Jt(function(e,t,u,s){ni(e,t,u,s)}),km=jn(function(e,t){var u={};if(e==null)return u;var s=!1;t=Ce(t,function(m){return m=dt(m,e),s||(s=m.length>1),m}),zn(e,vu(e),u),s&&(u=vn(u,w|S|_,xd));for(var h=t.length;h--;)du(u,t[h]);return u});function Sm(e,t){return Hs(e,mi(H(t)))}var Cm=jn(function(e,t){return e==null?{}:Zh(e,t)});function Hs(e,t){if(e==null)return{};var u=Ce(vu(e),function(s){return[s]});return t=H(t),Ra(e,u,function(s,h){return t(s,h[0])})}function Im(e,t,u){t=dt(t,e);var s=-1,h=t.length;for(h||(h=1,e=r);++s<h;){var m=e==null?r:e[Nn(t[s])];m===r&&(s=h,m=u),e=nt(m)?m.call(e):m}return e}function Em(e,t,u){return e==null?e:gr(e,t,u)}function Am(e,t,u,s){return s=typeof s=="function"?s:r,e==null?e:gr(e,t,u,s)}var Ys=rs(De),Gs=rs(Ze);function Tm(e,t,u){var s=J(e),h=s||gt(e)||er(e);if(t=H(t,4),u==null){var m=e&&e.constructor;h?u=s?new m:[]:Ee(e)?u=nt(m)?Kt(Hr(e)):{}:u={}}return(h?wn:Dn)(e,function(y,b,I){return t(u,y,b,I)}),u}function Pm(e,t){return e==null?!0:du(e,t)}function Fm(e,t,u){return e==null?e:Wa(e,t,mu(u))}function Lm(e,t,u,s){return s=typeof s=="function"?s:r,e==null?e:Wa(e,t,mu(u),s)}function nr(e){return e==null?[]:Qi(e,De(e))}function Om(e){return e==null?[]:Qi(e,Ze(e))}function Mm(e,t,u){return u===r&&(u=t,t=r),u!==r&&(u=Sn(u),u=u===u?u:0),t!==r&&(t=Sn(t),t=t===t?t:0),Ft(Sn(e),t,u)}function Rm(e,t,u){return t=tt(t),u===r?(u=t,t=0):u=tt(u),e=Sn(e),$h(e,t,u)}function Bm(e,t,u){if(u&&typeof u!="boolean"&&Ge(e,t,u)&&(t=u=r),u===r&&(typeof t=="boolean"?(u=t,t=r):typeof e=="boolean"&&(u=e,e=r)),e===r&&t===r?(e=0,t=1):(e=tt(e),t===r?(t=e,e=0):t=tt(t)),e>t){var s=e;e=t,t=s}if(u||e%1||t%1){var h=ma();return qe(e+h*(t-e+pf("1e-"+((h+"").length-1))),t)}return cu(e,t)}var Dm=Zt(function(e,t,u){return t=t.toLowerCase(),e+(u?Vs(t):t)});function Vs(e){return Du(pe(e).toLowerCase())}function Qs(e){return e=pe(e),e&&e.replace(zc,Ef).replace(rf,"")}function zm(e,t,u){e=pe(e),t=cn(t);var s=e.length;u=u===r?s:Ft(Z(u),0,s);var h=u;return u-=t.length,u>=0&&e.slice(u,h)==t}function Nm(e){return e=pe(e),e&&wc.test(e)?e.replace(Co,Af):e}function Wm(e){return e=pe(e),e&&Sc.test(e)?e.replace(Li,"\\$&"):e}var $m=Zt(function(e,t,u){return e+(u?"-":"")+t.toLowerCase()}),qm=Zt(function(e,t,u){return e+(u?" ":"")+t.toLowerCase()}),Um=Ja("toLowerCase");function Hm(e,t,u){e=pe(e),t=Z(t);var s=t?Yt(e):0;if(!t||s>=t)return e;var h=(t-s)/2;return ai(Qr(h),u)+e+ai(Vr(h),u)}function Ym(e,t,u){e=pe(e),t=Z(t);var s=t?Yt(e):0;return t&&s<t?e+ai(t-s,u):e}function Gm(e,t,u){e=pe(e),t=Z(t);var s=t?Yt(e):0;return t&&s<t?ai(t-s,u)+e:e}function Vm(e,t,u){return u||t==null?t=0:t&&(t=+t),eh(pe(e).replace(Oi,""),t||0)}function Qm(e,t,u){return(u?Ge(e,t,u):t===r)?t=1:t=Z(t),fu(pe(e),t)}function Xm(){var e=arguments,t=pe(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Km=Zt(function(e,t,u){return e+(u?"_":"")+t.toLowerCase()});function Jm(e,t,u){return u&&typeof u!="number"&&Ge(e,t,u)&&(t=u=r),u=u===r?Ae:u>>>0,u?(e=pe(e),e&&(typeof t=="string"||t!=null&&!Mu(t))&&(t=cn(t),!t&&Ht(e))?pt(Pn(e),0,u):e.split(t,u)):[]}var Zm=Zt(function(e,t,u){return e+(u?" ":"")+Du(t)});function jm(e,t,u){return e=pe(e),u=u==null?0:Ft(Z(u),0,e.length),t=cn(t),e.slice(u,u+t.length)==t}function e1(e,t,u){var s=g.templateSettings;u&&Ge(e,t,u)&&(t=r),e=pe(e),t=yi({},t,s,is);var h=yi({},t.imports,s.imports,is),m=De(h),y=Qi(h,m),b,I,P=0,F=t.interpolate||Lr,L="__p += '",B=Ki((t.escape||Lr).source+"|"+F.source+"|"+(F===Io?Lc:Lr).source+"|"+(t.evaluate||Lr).source+"|$","g"),$="//# sourceURL="+(ge.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lf+"]")+`
`;e.replace(B,function(Q,re,oe,hn,Ve,dn){return oe||(oe=hn),L+=e.slice(P,dn).replace(Nc,Tf),re&&(b=!0,L+=`' +
__e(`+re+`) +
'`),Ve&&(I=!0,L+=`';
`+Ve+`;
__p += '`),oe&&(L+=`' +
((__t = (`+oe+`)) == null ? '' : __t) +
'`),P=dn+Q.length,Q}),L+=`';
`;var V=ge.call(t,"variable")&&t.variable;if(!V)L=`with (obj) {
`+L+`
}
`;else if(Pc.test(V))throw new K(f);L=(I?L.replace(Tn,""):L).replace(gc,"$1").replace(mc,"$1;"),L="function("+(V||"obj")+`) {
`+(V?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(I?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+L+`return __p
}`;var j=Ks(function(){return fe(m,$+"return "+L).apply(r,y)});if(j.source=L,Ou(j))throw j;return j}function n1(e){return pe(e).toLowerCase()}function t1(e){return pe(e).toUpperCase()}function r1(e,t,u){if(e=pe(e),e&&(u||t===r))return ua(e);if(!e||!(t=cn(t)))return e;var s=Pn(e),h=Pn(t),m=oa(s,h),y=aa(s,h)+1;return pt(s,m,y).join("")}function i1(e,t,u){if(e=pe(e),e&&(u||t===r))return e.slice(0,la(e)+1);if(!e||!(t=cn(t)))return e;var s=Pn(e),h=aa(s,Pn(t))+1;return pt(s,0,h).join("")}function u1(e,t,u){if(e=pe(e),e&&(u||t===r))return e.replace(Oi,"");if(!e||!(t=cn(t)))return e;var s=Pn(e),h=oa(s,Pn(t));return pt(s,h).join("")}function o1(e,t){var u=xe,s=U;if(Ee(t)){var h="separator"in t?t.separator:h;u="length"in t?Z(t.length):u,s="omission"in t?cn(t.omission):s}e=pe(e);var m=e.length;if(Ht(e)){var y=Pn(e);m=y.length}if(u>=m)return e;var b=u-Yt(s);if(b<1)return s;var I=y?pt(y,0,b).join(""):e.slice(0,b);if(h===r)return I+s;if(y&&(b+=I.length-b),Mu(h)){if(e.slice(b).search(h)){var P,F=I;for(h.global||(h=Ki(h.source,pe(Eo.exec(h))+"g")),h.lastIndex=0;P=h.exec(F);)var L=P.index;I=I.slice(0,L===r?b:L)}}else if(e.indexOf(cn(h),b)!=b){var B=I.lastIndexOf(h);B>-1&&(I=I.slice(0,B))}return I+s}function a1(e){return e=pe(e),e&&xc.test(e)?e.replace(So,Bf):e}var s1=Zt(function(e,t,u){return e+(u?" ":"")+t.toUpperCase()}),Du=Ja("toUpperCase");function Xs(e,t,u){return e=pe(e),t=u?r:t,t===r?Ff(e)?Nf(e):bf(e):e.match(t)||[]}var Ks=ne(function(e,t){try{return sn(e,r,t)}catch(u){return Ou(u)?u:new K(u)}}),l1=jn(function(e,t){return wn(t,function(u){u=Nn(u),Jn(e,u,Fu(e[u],e))}),e});function c1(e){var t=e==null?0:e.length,u=H();return e=t?Ce(e,function(s){if(typeof s[1]!="function")throw new yn(c);return[u(s[0]),s[1]]}):[],ne(function(s){for(var h=-1;++h<t;){var m=e[h];if(sn(m[0],this,s))return sn(m[1],this,s)}})}function f1(e){return Bh(vn(e,w))}function zu(e){return function(){return e}}function h1(e,t){return e==null||e!==e?t:e}var d1=ja(),p1=ja(!0);function je(e){return e}function Nu(e){return Ta(typeof e=="function"?e:vn(e,w))}function g1(e){return Fa(vn(e,w))}function m1(e,t){return La(e,vn(t,w))}var x1=ne(function(e,t){return function(u){return dr(u,e,t)}}),w1=ne(function(e,t){return function(u){return dr(e,u,t)}});function Wu(e,t,u){var s=De(t),h=ei(t,s);u==null&&!(Ee(t)&&(h.length||!s.length))&&(u=t,t=e,e=this,h=ei(t,De(t)));var m=!(Ee(u)&&"chain"in u)||!!u.chain,y=nt(e);return wn(h,function(b){var I=t[b];e[b]=I,y&&(e.prototype[b]=function(){var P=this.__chain__;if(m||P){var F=e(this.__wrapped__),L=F.__actions__=Ke(this.__actions__);return L.push({func:I,args:arguments,thisArg:e}),F.__chain__=P,F}return I.apply(e,st([this.value()],arguments))})}),e}function y1(){return We._===this&&(We._=Yf),this}function $u(){}function _1(e){return e=Z(e),ne(function(t){return Oa(t,e)})}var v1=wu(Ce),b1=wu(ea),k1=wu(Ui);function Js(e){return Cu(e)?Hi(Nn(e)):jh(e)}function S1(e){return function(t){return e==null?r:Lt(e,t)}}var C1=ns(),I1=ns(!0);function qu(){return[]}function Uu(){return!1}function E1(){return{}}function A1(){return""}function T1(){return!0}function P1(e,t){if(e=Z(e),e<1||e>Oe)return[];var u=Ae,s=qe(e,Ae);t=H(t),e-=Ae;for(var h=Vi(s,t);++u<e;)t(u);return h}function F1(e){return J(e)?Ce(e,Nn):fn(e)?[e]:Ke(xs(pe(e)))}function L1(e){var t=++Uf;return pe(e)+t}var O1=oi(function(e,t){return e+t},0),M1=yu("ceil"),R1=oi(function(e,t){return e/t},1),B1=yu("floor");function D1(e){return e&&e.length?jr(e,je,iu):r}function z1(e,t){return e&&e.length?jr(e,H(t,2),iu):r}function N1(e){return ra(e,je)}function W1(e,t){return ra(e,H(t,2))}function $1(e){return e&&e.length?jr(e,je,su):r}function q1(e,t){return e&&e.length?jr(e,H(t,2),su):r}var U1=oi(function(e,t){return e*t},1),H1=yu("round"),Y1=oi(function(e,t){return e-t},0);function G1(e){return e&&e.length?Gi(e,je):0}function V1(e,t){return e&&e.length?Gi(e,H(t,2)):0}return g.after=gg,g.ary=As,g.assign=tm,g.assignIn=qs,g.assignInWith=yi,g.assignWith=rm,g.at=im,g.before=Ts,g.bind=Fu,g.bindAll=l1,g.bindKey=Ps,g.castArray=Eg,g.chain=Cs,g.chunk=Bd,g.compact=Dd,g.concat=zd,g.cond=c1,g.conforms=f1,g.constant=zu,g.countBy=Gp,g.create=um,g.curry=Fs,g.curryRight=Ls,g.debounce=Os,g.defaults=om,g.defaultsDeep=am,g.defer=mg,g.delay=xg,g.difference=Nd,g.differenceBy=Wd,g.differenceWith=$d,g.drop=qd,g.dropRight=Ud,g.dropRightWhile=Hd,g.dropWhile=Yd,g.fill=Gd,g.filter=Qp,g.flatMap=Jp,g.flatMapDeep=Zp,g.flatMapDepth=jp,g.flatten=vs,g.flattenDeep=Vd,g.flattenDepth=Qd,g.flip=wg,g.flow=d1,g.flowRight=p1,g.fromPairs=Xd,g.functions=pm,g.functionsIn=gm,g.groupBy=eg,g.initial=Jd,g.intersection=Zd,g.intersectionBy=jd,g.intersectionWith=ep,g.invert=xm,g.invertBy=wm,g.invokeMap=tg,g.iteratee=Nu,g.keyBy=rg,g.keys=De,g.keysIn=Ze,g.map=di,g.mapKeys=_m,g.mapValues=vm,g.matches=g1,g.matchesProperty=m1,g.memoize=gi,g.merge=bm,g.mergeWith=Us,g.method=x1,g.methodOf=w1,g.mixin=Wu,g.negate=mi,g.nthArg=_1,g.omit=km,g.omitBy=Sm,g.once=yg,g.orderBy=ig,g.over=v1,g.overArgs=_g,g.overEvery=b1,g.overSome=k1,g.partial=Lu,g.partialRight=Ms,g.partition=ug,g.pick=Cm,g.pickBy=Hs,g.property=Js,g.propertyOf=S1,g.pull=ip,g.pullAll=ks,g.pullAllBy=up,g.pullAllWith=op,g.pullAt=ap,g.range=C1,g.rangeRight=I1,g.rearg=vg,g.reject=sg,g.remove=sp,g.rest=bg,g.reverse=Tu,g.sampleSize=cg,g.set=Em,g.setWith=Am,g.shuffle=fg,g.slice=lp,g.sortBy=pg,g.sortedUniq=mp,g.sortedUniqBy=xp,g.split=Jm,g.spread=kg,g.tail=wp,g.take=yp,g.takeRight=_p,g.takeRightWhile=vp,g.takeWhile=bp,g.tap=Dp,g.throttle=Sg,g.thru=hi,g.toArray=Ns,g.toPairs=Ys,g.toPairsIn=Gs,g.toPath=F1,g.toPlainObject=$s,g.transform=Tm,g.unary=Cg,g.union=kp,g.unionBy=Sp,g.unionWith=Cp,g.uniq=Ip,g.uniqBy=Ep,g.uniqWith=Ap,g.unset=Pm,g.unzip=Pu,g.unzipWith=Ss,g.update=Fm,g.updateWith=Lm,g.values=nr,g.valuesIn=Om,g.without=Tp,g.words=Xs,g.wrap=Ig,g.xor=Pp,g.xorBy=Fp,g.xorWith=Lp,g.zip=Op,g.zipObject=Mp,g.zipObjectDeep=Rp,g.zipWith=Bp,g.entries=Ys,g.entriesIn=Gs,g.extend=qs,g.extendWith=yi,Wu(g,g),g.add=O1,g.attempt=Ks,g.camelCase=Dm,g.capitalize=Vs,g.ceil=M1,g.clamp=Mm,g.clone=Ag,g.cloneDeep=Pg,g.cloneDeepWith=Fg,g.cloneWith=Tg,g.conformsTo=Lg,g.deburr=Qs,g.defaultTo=h1,g.divide=R1,g.endsWith=zm,g.eq=Ln,g.escape=Nm,g.escapeRegExp=Wm,g.every=Vp,g.find=Xp,g.findIndex=ys,g.findKey=sm,g.findLast=Kp,g.findLastIndex=_s,g.findLastKey=lm,g.floor=B1,g.forEach=Is,g.forEachRight=Es,g.forIn=cm,g.forInRight=fm,g.forOwn=hm,g.forOwnRight=dm,g.get=Ru,g.gt=Og,g.gte=Mg,g.has=mm,g.hasIn=Bu,g.head=bs,g.identity=je,g.includes=ng,g.indexOf=Kd,g.inRange=Rm,g.invoke=ym,g.isArguments=Rt,g.isArray=J,g.isArrayBuffer=Rg,g.isArrayLike=Je,g.isArrayLikeObject=Fe,g.isBoolean=Bg,g.isBuffer=gt,g.isDate=Dg,g.isElement=zg,g.isEmpty=Ng,g.isEqual=Wg,g.isEqualWith=$g,g.isError=Ou,g.isFinite=qg,g.isFunction=nt,g.isInteger=Rs,g.isLength=xi,g.isMap=Bs,g.isMatch=Ug,g.isMatchWith=Hg,g.isNaN=Yg,g.isNative=Gg,g.isNil=Qg,g.isNull=Vg,g.isNumber=Ds,g.isObject=Ee,g.isObjectLike=Pe,g.isPlainObject=yr,g.isRegExp=Mu,g.isSafeInteger=Xg,g.isSet=zs,g.isString=wi,g.isSymbol=fn,g.isTypedArray=er,g.isUndefined=Kg,g.isWeakMap=Jg,g.isWeakSet=Zg,g.join=np,g.kebabCase=$m,g.last=kn,g.lastIndexOf=tp,g.lowerCase=qm,g.lowerFirst=Um,g.lt=jg,g.lte=em,g.max=D1,g.maxBy=z1,g.mean=N1,g.meanBy=W1,g.min=$1,g.minBy=q1,g.stubArray=qu,g.stubFalse=Uu,g.stubObject=E1,g.stubString=A1,g.stubTrue=T1,g.multiply=U1,g.nth=rp,g.noConflict=y1,g.noop=$u,g.now=pi,g.pad=Hm,g.padEnd=Ym,g.padStart=Gm,g.parseInt=Vm,g.random=Bm,g.reduce=og,g.reduceRight=ag,g.repeat=Qm,g.replace=Xm,g.result=Im,g.round=H1,g.runInContext=C,g.sample=lg,g.size=hg,g.snakeCase=Km,g.some=dg,g.sortedIndex=cp,g.sortedIndexBy=fp,g.sortedIndexOf=hp,g.sortedLastIndex=dp,g.sortedLastIndexBy=pp,g.sortedLastIndexOf=gp,g.startCase=Zm,g.startsWith=jm,g.subtract=Y1,g.sum=G1,g.sumBy=V1,g.template=e1,g.times=P1,g.toFinite=tt,g.toInteger=Z,g.toLength=Ws,g.toLower=n1,g.toNumber=Sn,g.toSafeInteger=nm,g.toString=pe,g.toUpper=t1,g.trim=r1,g.trimEnd=i1,g.trimStart=u1,g.truncate=o1,g.unescape=a1,g.uniqueId=L1,g.upperCase=s1,g.upperFirst=Du,g.each=Is,g.eachRight=Es,g.first=bs,Wu(g,(function(){var e={};return Dn(g,function(t,u){ge.call(g.prototype,u)||(e[u]=t)}),e})(),{chain:!1}),g.VERSION=o,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),wn(["drop","take"],function(e,t){ie.prototype[e]=function(u){u=u===r?1:Re(Z(u),0);var s=this.__filtered__&&!t?new ie(this):this.clone();return s.__filtered__?s.__takeCount__=qe(u,s.__takeCount__):s.__views__.push({size:qe(u,Ae),type:e+(s.__dir__<0?"Right":"")}),s},ie.prototype[e+"Right"]=function(u){return this.reverse()[e](u).reverse()}}),wn(["filter","map","takeWhile"],function(e,t){var u=t+1,s=u==Ie||u==Be;ie.prototype[e]=function(h){var m=this.clone();return m.__iteratees__.push({iteratee:H(h,3),type:u}),m.__filtered__=m.__filtered__||s,m}}),wn(["head","last"],function(e,t){var u="take"+(t?"Right":"");ie.prototype[e]=function(){return this[u](1).value()[0]}}),wn(["initial","tail"],function(e,t){var u="drop"+(t?"":"Right");ie.prototype[e]=function(){return this.__filtered__?new ie(this):this[u](1)}}),ie.prototype.compact=function(){return this.filter(je)},ie.prototype.find=function(e){return this.filter(e).head()},ie.prototype.findLast=function(e){return this.reverse().find(e)},ie.prototype.invokeMap=ne(function(e,t){return typeof e=="function"?new ie(this):this.map(function(u){return dr(u,e,t)})}),ie.prototype.reject=function(e){return this.filter(mi(H(e)))},ie.prototype.slice=function(e,t){e=Z(e);var u=this;return u.__filtered__&&(e>0||t<0)?new ie(u):(e<0?u=u.takeRight(-e):e&&(u=u.drop(e)),t!==r&&(t=Z(t),u=t<0?u.dropRight(-t):u.take(t-e)),u)},ie.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ie.prototype.toArray=function(){return this.take(Ae)},Dn(ie.prototype,function(e,t){var u=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),h=g[s?"take"+(t=="last"?"Right":""):t],m=s||/^find/.test(t);h&&(g.prototype[t]=function(){var y=this.__wrapped__,b=s?[1]:arguments,I=y instanceof ie,P=b[0],F=I||J(y),L=function(re){var oe=h.apply(g,st([re],b));return s&&B?oe[0]:oe};F&&u&&typeof P=="function"&&P.length!=1&&(I=F=!1);var B=this.__chain__,$=!!this.__actions__.length,V=m&&!B,j=I&&!$;if(!m&&F){y=j?y:new ie(this);var Q=e.apply(y,b);return Q.__actions__.push({func:hi,args:[L],thisArg:r}),new _n(Q,B)}return V&&j?e.apply(this,b):(Q=this.thru(L),V?s?Q.value()[0]:Q.value():Q)})}),wn(["pop","push","shift","sort","splice","unshift"],function(e){var t=zr[e],u=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);g.prototype[e]=function(){var h=arguments;if(s&&!this.__chain__){var m=this.value();return t.apply(J(m)?m:[],h)}return this[u](function(y){return t.apply(J(y)?y:[],h)})}}),Dn(ie.prototype,function(e,t){var u=g[t];if(u){var s=u.name+"";ge.call(Xt,s)||(Xt[s]=[]),Xt[s].push({name:t,func:u})}}),Xt[ui(r,M).name]=[{name:"wrapper",func:r}],ie.prototype.clone=ah,ie.prototype.reverse=sh,ie.prototype.value=lh,g.prototype.at=zp,g.prototype.chain=Np,g.prototype.commit=Wp,g.prototype.next=$p,g.prototype.plant=Up,g.prototype.reverse=Hp,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Yp,g.prototype.first=g.prototype.head,or&&(g.prototype[or]=qp),g}),Gt=Wf();Et?((Et.exports=Gt)._=Gt,Ni._=Gt):We._=Gt}).call(nx)})(kr,kr.exports)),kr.exports}var rx=tx();const ix=[{id:"dayPlanning",label:"Planning my day",cue:"After breakfast",reward:"More productive and organized day",targetCount:1,periodicityMultiplier:1,periodicityUnit:"day",active:!0},{id:"exercise",label:"Exercise",cue:"After work or in the morning",reward:"Better health, more energy, and improved mood",targetCount:1,periodicityMultiplier:1,periodicityUnit:"day",active:!0},{id:"havingFun",label:"Having fun",cue:"In the evening or during free time",reward:"Relaxation, joy, and stress relief",targetCount:1,periodicityMultiplier:1,periodicityUnit:"day",active:!0},{id:"fpf",label:"FPF",cue:"At a consistent scheduled time",reward:"Sense of progress and satisfaction",targetCount:1,periodicityMultiplier:1,periodicityUnit:"day",active:!0}],ux=[{id:"positiveEmotions",label:"Positive Emotions",info:"Feelings of joy, gratitude, contentment, hope, and pleasure. Includes savoring the moment, reflecting on past positives, and hopeful anticipation of the future.",active:!0},{id:"engagement",label:"Engagement",info:"Deep involvement in activities; being absorbed, losing sense of time (‘flow’). Doing work or hobbies that challenge your skills just enough that you’re fully present.",active:!0},{id:"relationships",label:"Relationships",info:"Supportive, meaningful social connections. Feeling loved, valued, belonging; giving and receiving support. Close friendships, family bonds, community ties.",active:!0},{id:"meaning",label:"Meaning",info:"Having a sense of purpose, belonging to something bigger than yourself. Knowing what matters in your life and using your strengths in service of values, causes or goals.",active:!0},{id:"accomplishment",label:"Accomplishment",info:"Mastery, achievement, working toward goals. Sense of progress, competence, whether or not it brings immediate joy—achieving things that matter to you.",active:!0},{id:"physicalCondition",label:"Physical Condition",info:"Your bodily health: exercise, sleep quality, nutrition; energy levels and how physically capable you feel.",active:!0},{id:"mindset",label:"Mindset",info:"Cultivating optimism, resilience, self-efficacy, and a growth mindset. A positive mindset shapes how you interpret setbacks, sustain motivation, and approach challenges.",active:!0},{id:"environment",label:"Environment",info:"Living and working in spaces that feel safe, comfortable, and supportive of wellbeing. Includes access to nature, orderliness, and resources that help you thrive.",active:!0},{id:"economicSecurity",label:"Economic Security",info:"Having financial stability, freedom from chronic money stress, and satisfaction with work. Economic security supports autonomy and reduces background stress that erodes wellbeing.",active:!0}],Yu={projectDir:"powerJournal",outputDir:"reports",coreDir:"core",devLogging:!0,habits:ix,wellbeingParameters:ux,devMode:!0,reportFileExtension:".pjf.md"};async function ox(n){if(!n||typeof n!="object"||Array.isArray(n))return Yu;try{return rx.merge({},Yu,n)}catch(i){return console.warn("[PowerJournal] Failed to merge user config, using defaults.",i),Yu}}const Ol=6048e5,ax=864e5,tl=Symbol.for("constructDateFrom");function yt(n,i){return typeof n=="function"?n(i):n&&typeof n=="object"&&tl in n?n[tl](i):n instanceof Date?new n.constructor(i):new Date(i)}function Rn(n,i){return yt(i||n,n)}let sx={};function Ai(){return sx}function Ir(n,i){const r=Ai(),o=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Rn(n,i?.in),l=a.getDay(),c=(l<o?7:0)+l-o;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Si(n,i){return Ir(n,{...i,weekStartsOn:1})}function Ml(n,i){const r=Rn(n,i?.in),o=r.getFullYear(),a=yt(r,0);a.setFullYear(o+1,0,4),a.setHours(0,0,0,0);const l=Si(a),c=yt(r,0);c.setFullYear(o,0,4),c.setHours(0,0,0,0);const f=Si(c);return r.getTime()>=l.getTime()?o+1:r.getTime()>=f.getTime()?o:o-1}function rl(n){const i=Rn(n),r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),+n-+r}function lx(n,...i){const r=yt.bind(null,i.find(o=>typeof o=="object"));return i.map(r)}function il(n,i){const r=Rn(n,i?.in);return r.setHours(0,0,0,0),r}function cx(n,i,r){const[o,a]=lx(r?.in,n,i),l=il(o),c=il(a),f=+l-rl(l),p=+c-rl(c);return Math.round((f-p)/ax)}function fx(n,i){const r=Ml(n,i),o=yt(n,0);return o.setFullYear(r,0,4),o.setHours(0,0,0,0),Si(o)}function hx(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function dx(n){return!(!hx(n)&&typeof n!="number"||isNaN(+Rn(n)))}function px(n,i){const r=Rn(n,i?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const gx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mx=(n,i,r)=>{let o;const a=gx[n];return typeof a=="string"?o=a:i===1?o=a.one:o=a.other.replace("{{count}}",i.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function Gu(n){return(i={})=>{const r=i.width?String(i.width):n.defaultWidth;return n.formats[r]||n.formats[n.defaultWidth]}}const xx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_x={date:Gu({formats:xx,defaultWidth:"full"}),time:Gu({formats:wx,defaultWidth:"full"}),dateTime:Gu({formats:yx,defaultWidth:"full"})},vx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bx=(n,i,r,o)=>vx[n];function _r(n){return(i,r)=>{const o=r?.context?String(r.context):"standalone";let a;if(o==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,f=r?.width?String(r.width):c;a=n.formattingValues[f]||n.formattingValues[c]}else{const c=n.defaultWidth,f=r?.width?String(r.width):n.defaultWidth;a=n.values[f]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(i):i;return a[l]}}const kx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ix={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ex={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ax={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tx=(n,i)=>{const r=Number(n),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Px={ordinalNumber:Tx,era:_r({values:kx,defaultWidth:"wide"}),quarter:_r({values:Sx,defaultWidth:"wide",argumentCallback:n=>n-1}),month:_r({values:Cx,defaultWidth:"wide"}),day:_r({values:Ix,defaultWidth:"wide"}),dayPeriod:_r({values:Ex,defaultWidth:"wide",formattingValues:Ax,defaultFormattingWidth:"wide"})};function vr(n){return(i,r={})=>{const o=r.width,a=o&&n.matchPatterns[o]||n.matchPatterns[n.defaultMatchWidth],l=i.match(a);if(!l)return null;const c=l[0],f=o&&n.parsePatterns[o]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(f)?Lx(f,w=>w.test(c)):Fx(f,w=>w.test(c));let d;d=n.valueCallback?n.valueCallback(p):p,d=r.valueCallback?r.valueCallback(d):d;const x=i.slice(c.length);return{value:d,rest:x}}}function Fx(n,i){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&i(n[r]))return r}function Lx(n,i){for(let r=0;r<n.length;r++)if(i(n[r]))return r}function Ox(n){return(i,r={})=>{const o=i.match(n.matchPattern);if(!o)return null;const a=o[0],l=i.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const f=i.slice(a.length);return{value:c,rest:f}}}const Mx=/^(\d+)(th|st|nd|rd)?/i,Rx=/\d+/i,Bx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dx={any:[/^b/i,/^(a|c)/i]},zx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nx={any:[/1/i,/2/i,/3/i,/4/i]},Wx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$x={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ux={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Yx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gx={ordinalNumber:Ox({matchPattern:Mx,parsePattern:Rx,valueCallback:n=>parseInt(n,10)}),era:vr({matchPatterns:Bx,defaultMatchWidth:"wide",parsePatterns:Dx,defaultParseWidth:"any"}),quarter:vr({matchPatterns:zx,defaultMatchWidth:"wide",parsePatterns:Nx,defaultParseWidth:"any",valueCallback:n=>n+1}),month:vr({matchPatterns:Wx,defaultMatchWidth:"wide",parsePatterns:$x,defaultParseWidth:"any"}),day:vr({matchPatterns:qx,defaultMatchWidth:"wide",parsePatterns:Ux,defaultParseWidth:"any"}),dayPeriod:vr({matchPatterns:Hx,defaultMatchWidth:"any",parsePatterns:Yx,defaultParseWidth:"any"})},Vx={code:"en-US",formatDistance:mx,formatLong:_x,formatRelative:bx,localize:Px,match:Gx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qx(n,i){const r=Rn(n,i?.in);return cx(r,px(r))+1}function Xx(n,i){const r=Rn(n,i?.in),o=+Si(r)-+fx(r);return Math.round(o/Ol)+1}function Rl(n,i){const r=Rn(n,i?.in),o=r.getFullYear(),a=Ai(),l=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=yt(i?.in||n,0);c.setFullYear(o+1,0,l),c.setHours(0,0,0,0);const f=Ir(c,i),p=yt(i?.in||n,0);p.setFullYear(o,0,l),p.setHours(0,0,0,0);const d=Ir(p,i);return+r>=+f?o+1:+r>=+d?o:o-1}function Kx(n,i){const r=Ai(),o=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Rl(n,i),l=yt(i?.in||n,0);return l.setFullYear(a,0,o),l.setHours(0,0,0,0),Ir(l,i)}function Jx(n,i){const r=Rn(n,i?.in),o=+Ir(r,i)-+Kx(r,i);return Math.round(o/Ol)+1}function me(n,i){const r=n<0?"-":"",o=Math.abs(n).toString().padStart(i,"0");return r+o}const mt={y(n,i){const r=n.getFullYear(),o=r>0?r:1-r;return me(i==="yy"?o%100:o,i.length)},M(n,i){const r=n.getMonth();return i==="M"?String(r+1):me(r+1,2)},d(n,i){return me(n.getDate(),i.length)},a(n,i){const r=n.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(n,i){return me(n.getHours()%12||12,i.length)},H(n,i){return me(n.getHours(),i.length)},m(n,i){return me(n.getMinutes(),i.length)},s(n,i){return me(n.getSeconds(),i.length)},S(n,i){const r=i.length,o=n.getMilliseconds(),a=Math.trunc(o*Math.pow(10,r-3));return me(a,i.length)}},tr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ul={G:function(n,i,r){const o=n.getFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(n,i,r){if(i==="yo"){const o=n.getFullYear(),a=o>0?o:1-o;return r.ordinalNumber(a,{unit:"year"})}return mt.y(n,i)},Y:function(n,i,r,o){const a=Rl(n,o),l=a>0?a:1-a;if(i==="YY"){const c=l%100;return me(c,2)}return i==="Yo"?r.ordinalNumber(l,{unit:"year"}):me(l,i.length)},R:function(n,i){const r=Ml(n);return me(r,i.length)},u:function(n,i){const r=n.getFullYear();return me(r,i.length)},Q:function(n,i,r){const o=Math.ceil((n.getMonth()+1)/3);switch(i){case"Q":return String(o);case"QQ":return me(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(n,i,r){const o=Math.ceil((n.getMonth()+1)/3);switch(i){case"q":return String(o);case"qq":return me(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(n,i,r){const o=n.getMonth();switch(i){case"M":case"MM":return mt.M(n,i);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(n,i,r){const o=n.getMonth();switch(i){case"L":return String(o+1);case"LL":return me(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(n,i,r,o){const a=Jx(n,o);return i==="wo"?r.ordinalNumber(a,{unit:"week"}):me(a,i.length)},I:function(n,i,r){const o=Xx(n);return i==="Io"?r.ordinalNumber(o,{unit:"week"}):me(o,i.length)},d:function(n,i,r){return i==="do"?r.ordinalNumber(n.getDate(),{unit:"date"}):mt.d(n,i)},D:function(n,i,r){const o=Qx(n);return i==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):me(o,i.length)},E:function(n,i,r){const o=n.getDay();switch(i){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(n,i,r,o){const a=n.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(i){case"e":return String(l);case"ee":return me(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(n,i,r,o){const a=n.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(i){case"c":return String(l);case"cc":return me(l,i.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(n,i,r){const o=n.getDay(),a=o===0?7:o;switch(i){case"i":return String(a);case"ii":return me(a,i.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(n,i,r){const a=n.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,i,r){const o=n.getHours();let a;switch(o===12?a=tr.noon:o===0?a=tr.midnight:a=o/12>=1?"pm":"am",i){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,i,r){const o=n.getHours();let a;switch(o>=17?a=tr.evening:o>=12?a=tr.afternoon:o>=4?a=tr.morning:a=tr.night,i){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,i,r){if(i==="ho"){let o=n.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return mt.h(n,i)},H:function(n,i,r){return i==="Ho"?r.ordinalNumber(n.getHours(),{unit:"hour"}):mt.H(n,i)},K:function(n,i,r){const o=n.getHours()%12;return i==="Ko"?r.ordinalNumber(o,{unit:"hour"}):me(o,i.length)},k:function(n,i,r){let o=n.getHours();return o===0&&(o=24),i==="ko"?r.ordinalNumber(o,{unit:"hour"}):me(o,i.length)},m:function(n,i,r){return i==="mo"?r.ordinalNumber(n.getMinutes(),{unit:"minute"}):mt.m(n,i)},s:function(n,i,r){return i==="so"?r.ordinalNumber(n.getSeconds(),{unit:"second"}):mt.s(n,i)},S:function(n,i){return mt.S(n,i)},X:function(n,i,r){const o=n.getTimezoneOffset();if(o===0)return"Z";switch(i){case"X":return al(o);case"XXXX":case"XX":return zt(o);case"XXXXX":case"XXX":default:return zt(o,":")}},x:function(n,i,r){const o=n.getTimezoneOffset();switch(i){case"x":return al(o);case"xxxx":case"xx":return zt(o);case"xxxxx":case"xxx":default:return zt(o,":")}},O:function(n,i,r){const o=n.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+ol(o,":");case"OOOO":default:return"GMT"+zt(o,":")}},z:function(n,i,r){const o=n.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+ol(o,":");case"zzzz":default:return"GMT"+zt(o,":")}},t:function(n,i,r){const o=Math.trunc(+n/1e3);return me(o,i.length)},T:function(n,i,r){return me(+n,i.length)}};function ol(n,i=""){const r=n>0?"-":"+",o=Math.abs(n),a=Math.trunc(o/60),l=o%60;return l===0?r+String(a):r+String(a)+i+me(l,2)}function al(n,i){return n%60===0?(n>0?"-":"+")+me(Math.abs(n)/60,2):zt(n,i)}function zt(n,i=""){const r=n>0?"-":"+",o=Math.abs(n),a=me(Math.trunc(o/60),2),l=me(o%60,2);return r+a+i+l}const sl=(n,i)=>{switch(n){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},Bl=(n,i)=>{switch(n){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},Zx=(n,i)=>{const r=n.match(/(P+)(p+)?/)||[],o=r[1],a=r[2];if(!a)return sl(n,i);let l;switch(o){case"P":l=i.dateTime({width:"short"});break;case"PP":l=i.dateTime({width:"medium"});break;case"PPP":l=i.dateTime({width:"long"});break;case"PPPP":default:l=i.dateTime({width:"full"});break}return l.replace("{{date}}",sl(o,i)).replace("{{time}}",Bl(a,i))},jx={p:Bl,P:Zx},e0=/^D+$/,n0=/^Y+$/,t0=["D","DD","YY","YYYY"];function r0(n){return e0.test(n)}function i0(n){return n0.test(n)}function u0(n,i,r){const o=o0(n,i,r);if(console.warn(o),t0.includes(n))throw new RangeError(o)}function o0(n,i,r){const o=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${i}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const a0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l0=/^'([^]*?)'?$/,c0=/''/g,f0=/[a-zA-Z]/;function Dl(n,i,r){const o=Ai(),a=o.locale??Vx,l=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=o.weekStartsOn??o.locale?.options?.weekStartsOn??0,f=Rn(n,r?.in);if(!dx(f))throw new RangeError("Invalid time value");let p=i.match(s0).map(x=>{const w=x[0];if(w==="p"||w==="P"){const S=jx[w];return S(x,a.formatLong)}return x}).join("").match(a0).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:h0(x)};if(ul[w])return{isToken:!0,value:x};if(w.match(f0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(p=a.localize.preprocessor(f,p));const d={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return p.map(x=>{if(!x.isToken)return x.value;const w=x.value;(i0(w)||r0(w))&&u0(w,i,String(n));const S=ul[w[0]];return S(f,w,a.localize,d)}).join("")}function h0(n){const i=n.match(l0);return i?i[1].replace(c0,"'"):n}const vi=vt(bt.FileService);async function d0(){try{const n=`${Dl(new Date,"dd.MM.yyyy")}.md`,i=ze.workspace.getLeavesOfType("markdown"),r=[];for(const l of i){const f=l.view.file;f&&(r.push(f.path),f.path.endsWith(n)&&(vi.dev("Closing today's note: "+f.path),await l.detach()))}vi.dev("Currently open files: "+r.join(", "));const o=`${Hn.projectDir}/${Hn.coreDir}`,a=ze.vault.getAbstractFileByPath(o);if(a&&"children"in a){const l=/^\d{2}\.\d{2}\.\d{4}\.md$/;for(const c of a.children)"extension"in c&&c.extension==="md"&&l.test(c.name)&&c.name!==n&&(vi.dev("Deleting old app-triggering note: "+c.path),await ze.vault.delete(c))}}catch(n){vi.error("Failed to run onStart:",n)}}const Nt={component:"mdc-component",input:"mdc-input",hiddenValue:"mdc-hidden-value"};class p0{constructor(){this.logger=vt(bt.TagsService),this.component={start:i=>{const r={componentName:i};return this.logger.dev("Component start",r),`<span class="${Nt.component} start" data-meta='${JSON.stringify(r)}' style="display:none"></span>`},end:i=>{const r={componentName:i};return this.logger.dev("Component end",r),`<span class="${Nt.component} end" data-meta='${JSON.stringify(r)}' style="display:none"></span>`},wrap:(i,r,o=!0)=>{const a=o?`
${r}
`:r;return this.logger.dev("Component wrap",{componentName:i,content:r}),this.component.start(i)+a+this.component.end(i)}},this.input={start:(i,r,o)=>{const a={componentName:i,inputName:r,inputType:o};return this.logger.dev("Input start",a),`<span class="${Nt.input}" data-meta='${JSON.stringify(a)}' style="display:none"></span>`},end:(i,r,o)=>{const a={componentName:i,inputName:r,inputType:o};return this.logger.dev("Input end",a),`<span class="${Nt.input} end" data-meta='${JSON.stringify(a)}' style="display:none"></span>`},wrap:i=>{const{componentName:r,inputName:o,inputType:a,content:l,withNewLines:c=!0}=i,f=c?`
${l}
`:l;return this.logger.dev("Input wrap",{componentName:r,inputName:o,content:l}),this.input.start(r,o,a)+f+this.input.end(r,o,a)}},this.hiddenValue=(i,r,o)=>{const a={componentName:i,inputName:r,value:o};return this.logger.dev("Hidden value set",a),`<span class="${Nt.hiddenValue}" data-meta='${JSON.stringify(a)}' style="display:none"></span>`}}}const ro=new p0;function ll(n){if(n)throw n}var Vu,cl;function g0(){if(cl)return Vu;cl=1;var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):i.call(d)==="[object Array]"},l=function(d){if(!d||i.call(d)!=="[object Object]")return!1;var x=n.call(d,"constructor"),w=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!x&&!w)return!1;var S;for(S in d);return typeof S>"u"||n.call(d,S)},c=function(d,x){r&&x.name==="__proto__"?r(d,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):d[x.name]=x.newValue},f=function(d,x){if(x==="__proto__")if(n.call(d,x)){if(o)return o(d,x).value}else return;return d[x]};return Vu=function p(){var d,x,w,S,_,N,D=arguments[0],Y=1,M=arguments.length,se=!1;for(typeof D=="boolean"&&(se=D,D=arguments[1]||{},Y=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});Y<M;++Y)if(d=arguments[Y],d!=null)for(x in d)w=f(D,x),S=f(d,x),D!==S&&(se&&S&&(l(S)||(_=a(S)))?(_?(_=!1,N=w&&a(w)?w:[]):N=w&&l(w)?w:{},c(D,{name:x,newValue:p(se,N,S)})):typeof S<"u"&&c(D,{name:x,newValue:S}));return D},Vu}var m0=g0();const Qu=ex(m0);function io(n){if(typeof n!="object"||n===null)return!1;const i=Object.getPrototypeOf(n);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function x0(){const n=[],i={run:r,use:o};return i;function r(...a){let l=-1;const c=a.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...a);function f(p,...d){const x=n[++l];let w=-1;if(p){c(p);return}for(;++w<a.length;)(d[w]===null||d[w]===void 0)&&(d[w]=a[w]);a=d,x?w0(x,f)(...d):c(null,...d)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return n.push(a),i}}function w0(n,i){let r;return o;function o(...c){const f=n.length>c.length;let p;f&&c.push(a);try{p=n.apply(this,c)}catch(d){const x=d;if(f&&r)throw x;return a(x)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,a):p instanceof Error?a(p):l(p))}function a(c,...f){r||(r=!0,i(c,...f))}function l(c){a(null,c)}}function Sr(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?fl(n.position):"start"in n||"end"in n?fl(n):"line"in n||"column"in n?uo(n):""}function uo(n){return hl(n&&n.line)+":"+hl(n&&n.column)}function fl(n){return uo(n&&n.start)+"-"+uo(n&&n.end)}function hl(n){return n&&typeof n=="number"?n:1}class tn extends Error{constructor(i,r,o){super(),typeof r=="string"&&(o=r,r=void 0);let a="",l={},c=!1;if(r&&("line"in r&&"column"in r?l={place:r}:"start"in r&&"end"in r?l={place:r}:"type"in r?l={ancestors:[r],place:r.position}:l={...r}),typeof i=="string"?a=i:!l.cause&&i&&(c=!0,a=i.message,l.cause=i),!l.ruleId&&!l.source&&typeof o=="string"){const p=o.indexOf(":");p===-1?l.ruleId=o:(l.source=o.slice(0,p),l.ruleId=o.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=f?f.line:void 0,this.name=Sr(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=c&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tn.prototype.file="";tn.prototype.name="";tn.prototype.reason="";tn.prototype.message="";tn.prototype.stack="";tn.prototype.column=void 0;tn.prototype.line=void 0;tn.prototype.ancestors=void 0;tn.prototype.cause=void 0;tn.prototype.fatal=void 0;tn.prototype.place=void 0;tn.prototype.ruleId=void 0;tn.prototype.source=void 0;const $n={basename:y0,dirname:_0,extname:v0,join:b0,sep:"/"};function y0(n,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');Er(n);let r=0,o=-1,a=n.length,l;if(i===void 0||i.length===0||i.length>n.length){for(;a--;)if(n.codePointAt(a)===47){if(l){r=a+1;break}}else o<0&&(l=!0,o=a+1);return o<0?"":n.slice(r,o)}if(i===n)return"";let c=-1,f=i.length-1;for(;a--;)if(n.codePointAt(a)===47){if(l){r=a+1;break}}else c<0&&(l=!0,c=a+1),f>-1&&(n.codePointAt(a)===i.codePointAt(f--)?f<0&&(o=a):(f=-1,o=c));return r===o?o=c:o<0&&(o=n.length),n.slice(r,o)}function _0(n){if(Er(n),n.length===0)return".";let i=-1,r=n.length,o;for(;--r;)if(n.codePointAt(r)===47){if(o){i=r;break}}else o||(o=!0);return i<0?n.codePointAt(0)===47?"/":".":i===1&&n.codePointAt(0)===47?"//":n.slice(0,i)}function v0(n){Er(n);let i=n.length,r=-1,o=0,a=-1,l=0,c;for(;i--;){const f=n.codePointAt(i);if(f===47){if(c){o=i+1;break}continue}r<0&&(c=!0,r=i+1),f===46?a<0?a=i:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||r<0||l===0||l===1&&a===r-1&&a===o+1?"":n.slice(a,r)}function b0(...n){let i=-1,r;for(;++i<n.length;)Er(n[i]),n[i]&&(r=r===void 0?n[i]:r+"/"+n[i]);return r===void 0?".":k0(r)}function k0(n){Er(n);const i=n.codePointAt(0)===47;let r=S0(n,!i);return r.length===0&&!i&&(r="."),r.length>0&&n.codePointAt(n.length-1)===47&&(r+="/"),i?"/"+r:r}function S0(n,i){let r="",o=0,a=-1,l=0,c=-1,f,p;for(;++c<=n.length;){if(c<n.length)f=n.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(a===c-1||l===1))if(a!==c-1&&l===2){if(r.length<2||o!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(p=r.lastIndexOf("/"),p!==r.length-1){p<0?(r="",o=0):(r=r.slice(0,p),o=r.length-1-r.lastIndexOf("/")),a=c,l=0;continue}}else if(r.length>0){r="",o=0,a=c,l=0;continue}}i&&(r=r.length>0?r+"/..":"..",o=2)}else r.length>0?r+="/"+n.slice(a+1,c):r=n.slice(a+1,c),o=c-a-1;a=c,l=0}else f===46&&l>-1?l++:l=-1}return r}function Er(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const C0={cwd:I0};function I0(){return"/"}function oo(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function E0(n){if(typeof n=="string")n=new URL(n);else if(!oo(n)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(n.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return A0(n)}function A0(n){if(n.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const i=n.pathname;let r=-1;for(;++r<i.length;)if(i.codePointAt(r)===37&&i.codePointAt(r+1)===50){const o=i.codePointAt(r+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(i)}const Xu=["history","path","basename","stem","extname","dirname"];class T0{constructor(i){let r;i?oo(i)?r={path:i}:typeof i=="string"||P0(i)?r={value:i}:r=i:r={},this.cwd="cwd"in r?"":C0.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<Xu.length;){const l=Xu[o];l in r&&r[l]!==void 0&&r[l]!==null&&(this[l]=l==="history"?[...r[l]]:r[l])}let a;for(a in r)Xu.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?$n.basename(this.path):void 0}set basename(i){Ju(i,"basename"),Ku(i,"basename"),this.path=$n.join(this.dirname||"",i)}get dirname(){return typeof this.path=="string"?$n.dirname(this.path):void 0}set dirname(i){dl(this.basename,"dirname"),this.path=$n.join(i||"",this.basename)}get extname(){return typeof this.path=="string"?$n.extname(this.path):void 0}set extname(i){if(Ku(i,"extname"),dl(this.dirname,"extname"),i){if(i.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$n.join(this.dirname,this.stem+(i||""))}get path(){return this.history[this.history.length-1]}set path(i){oo(i)&&(i=E0(i)),Ju(i,"path"),this.path!==i&&this.history.push(i)}get stem(){return typeof this.path=="string"?$n.basename(this.path,this.extname):void 0}set stem(i){Ju(i,"stem"),Ku(i,"stem"),this.path=$n.join(this.dirname||"",i+(this.extname||""))}fail(i,r,o){const a=this.message(i,r,o);throw a.fatal=!0,a}info(i,r,o){const a=this.message(i,r,o);return a.fatal=void 0,a}message(i,r,o){const a=new tn(i,r,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(i){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(i||void 0).decode(this.value)}}function Ku(n,i){if(n&&n.includes($n.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+$n.sep+"`")}function Ju(n,i){if(!n)throw new Error("`"+i+"` cannot be empty")}function dl(n,i){if(!n)throw new Error("Setting `"+i+"` requires `path` to be set too")}function P0(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const F0=(function(n){const o=this.constructor.prototype,a=o[n],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,o),l}),L0={}.hasOwnProperty;class mo extends F0{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=x0()}copy(){const i=new mo;let r=-1;for(;++r<this.attachers.length;){const o=this.attachers[r];i.use(...o)}return i.data(Qu(!0,{},this.namespace)),i}data(i,r){return typeof i=="string"?arguments.length===2?(eo("data",this.frozen),this.namespace[i]=r,this):L0.call(this.namespace,i)&&this.namespace[i]||void 0:i?(eo("data",this.frozen),this.namespace=i,this):this.namespace}freeze(){if(this.frozen)return this;const i=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const a=r.call(i,...o);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(i){this.freeze();const r=bi(i),o=this.parser||this.Parser;return Zu("parse",o),o(String(r),r)}process(i,r){const o=this;return this.freeze(),Zu("process",this.parser||this.Parser),ju("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(l,c){const f=bi(i),p=o.parse(f);o.run(p,f,function(x,w,S){if(x||!w||!S)return d(x);const _=w,N=o.stringify(_,S);M0(N)?S.value=N:S.result=N,d(x,S)});function d(x,w){x||!w?c(x):l?l(w):r(void 0,w)}}}processSync(i){let r=!1,o;return this.freeze(),Zu("processSync",this.parser||this.Parser),ju("processSync",this.compiler||this.Compiler),this.process(i,a),gl("processSync","process",r),o;function a(l,c){r=!0,ll(l),o=c}}run(i,r,o){pl(i),this.freeze();const a=this.transformers;return!o&&typeof r=="function"&&(o=r,r=void 0),o?l(void 0,o):new Promise(l);function l(c,f){const p=bi(r);a.run(i,p,d);function d(x,w,S){const _=w||i;x?f(x):c?c(_):o(void 0,_,S)}}}runSync(i,r){let o=!1,a;return this.run(i,r,l),gl("runSync","run",o),a;function l(c,f){ll(c),a=f,o=!0}}stringify(i,r){this.freeze();const o=bi(r),a=this.compiler||this.Compiler;return ju("stringify",a),pl(i),a(i,o)}use(i,...r){const o=this.attachers,a=this.namespace;if(eo("use",this.frozen),i!=null)if(typeof i=="function")p(i,r);else if(typeof i=="object")Array.isArray(i)?f(i):c(i);else throw new TypeError("Expected usable value, not `"+i+"`");return this;function l(d){if(typeof d=="function")p(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[x,...w]=d;p(x,w)}else c(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function c(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(a.settings=Qu(!0,a.settings,d.settings))}function f(d){let x=-1;if(d!=null)if(Array.isArray(d))for(;++x<d.length;){const w=d[x];l(w)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function p(d,x){let w=-1,S=-1;for(;++w<o.length;)if(o[w][0]===d){S=w;break}if(S===-1)o.push([d,...x]);else if(x.length>0){let[_,...N]=x;const D=o[S][1];io(D)&&io(_)&&(_=Qu(!0,D,_)),o[S]=[d,_,...N]}}}}const Ci=new mo().freeze();function Zu(n,i){if(typeof i!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function ju(n,i){if(typeof i!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function eo(n,i){if(i)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pl(n){if(!io(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function gl(n,i,r){if(!r)throw new Error("`"+n+"` finished async. Use `"+i+"` instead")}function bi(n){return O0(n)?n:new T0(n)}function O0(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function M0(n){return typeof n=="string"||R0(n)}function R0(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const B0={};function xo(n,i){const r=B0,o=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return zl(n,o,a)}function zl(n,i,r){if(D0(n)){if("value"in n)return n.type==="html"&&!r?"":n.value;if(i&&"alt"in n&&n.alt)return n.alt;if("children"in n)return ml(n.children,i,r)}return Array.isArray(n)?ml(n,i,r):""}function ml(n,i,r){const o=[];let a=-1;for(;++a<n.length;)o[a]=zl(n[a],i,r);return o.join("")}function D0(n){return!!(n&&typeof n=="object")}const xl=document.createElement("i");function wo(n){const i="&"+n+";";xl.innerHTML=i;const r=xl.textContent;return r.charCodeAt(r.length-1)===59&&n!=="semi"||r===i?!1:r}function Yn(n,i,r,o){const a=n.length;let l=0,c;if(i<0?i=-i>a?0:a+i:i=i>a?a:i,r=r>0?r:0,o.length<1e4)c=Array.from(o),c.unshift(i,r),n.splice(...c);else for(r&&n.splice(i,r);l<o.length;)c=o.slice(l,l+1e4),c.unshift(i,0),n.splice(...c),l+=1e4,i+=1e4}function Cn(n,i){return n.length>0?(Yn(n,n.length,0,i),n):i}const wl={}.hasOwnProperty;function z0(n){const i={};let r=-1;for(;++r<n.length;)N0(i,n[r]);return i}function N0(n,i){let r;for(r in i){const a=(wl.call(n,r)?n[r]:void 0)||(n[r]={}),l=i[r];let c;if(l)for(c in l){wl.call(a,c)||(a[c]=[]);const f=l[c];W0(a[c],Array.isArray(f)?f:f?[f]:[])}}}function W0(n,i){let r=-1;const o=[];for(;++r<i.length;)(i[r].add==="after"?n:o).push(i[r]);Yn(n,0,0,o)}function Nl(n,i){const r=Number.parseInt(n,i);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function ir(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qn=kt(/[A-Za-z]/),Mn=kt(/[\dA-Za-z]/),$0=kt(/[#-'*+\--9=?A-Z^-~]/);function ao(n){return n!==null&&(n<32||n===127)}const so=kt(/\d/),q0=kt(/[\dA-Fa-f]/),U0=kt(/[!-/:-@[-`{-~]/);function X(n){return n!==null&&n<-2}function nn(n){return n!==null&&(n<0||n===32)}function he(n){return n===-2||n===-1||n===32}const H0=kt(new RegExp("\\p{P}|\\p{S}","u")),Y0=kt(/\s/);function kt(n){return i;function i(r){return r!==null&&r>-1&&n.test(String.fromCharCode(r))}}function be(n,i,r,o){const a=o?o-1:Number.POSITIVE_INFINITY;let l=0;return c;function c(p){return he(p)?(n.enter(r),f(p)):i(p)}function f(p){return he(p)&&l++<a?(n.consume(p),f):(n.exit(r),i(p))}}const G0={tokenize:V0};function V0(n){const i=n.attempt(this.parser.constructs.contentInitial,o,a);let r;return i;function o(f){if(f===null){n.consume(f);return}return n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),be(n,i,"linePrefix")}function a(f){return n.enter("paragraph"),l(f)}function l(f){const p=n.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=p),r=p,c(f)}function c(f){if(f===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(f);return}return X(f)?(n.consume(f),n.exit("chunkText"),l):(n.consume(f),c)}}const Q0={tokenize:X0},yl={tokenize:K0};function X0(n){const i=this,r=[];let o=0,a,l,c;return f;function f(W){if(o<r.length){const de=r[o];return i.containerState=de[1],n.attempt(de[0].continuation,p,d)(W)}return d(W)}function p(W){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,a&&se();const de=i.events.length;let ae=de,O;for(;ae--;)if(i.events[ae][0]==="exit"&&i.events[ae][1].type==="chunkFlow"){O=i.events[ae][1].end;break}M(o);let te=de;for(;te<i.events.length;)i.events[te][1].end={...O},te++;return Yn(i.events,ae+1,0,i.events.slice(de)),i.events.length=te,d(W)}return f(W)}function d(W){if(o===r.length){if(!a)return S(W);if(a.currentConstruct&&a.currentConstruct.concrete)return N(W);i.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return i.containerState={},n.check(yl,x,w)(W)}function x(W){return a&&se(),M(o),S(W)}function w(W){return i.parser.lazy[i.now().line]=o!==r.length,c=i.now().offset,N(W)}function S(W){return i.containerState={},n.attempt(yl,_,N)(W)}function _(W){return o++,r.push([i.currentConstruct,i.containerState]),S(W)}function N(W){if(W===null){a&&se(),M(0),n.consume(W);return}return a=a||i.parser.flow(i.now()),n.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),D(W)}function D(W){if(W===null){Y(n.exit("chunkFlow"),!0),M(0),n.consume(W);return}return X(W)?(n.consume(W),Y(n.exit("chunkFlow")),o=0,i.interrupt=void 0,f):(n.consume(W),D)}function Y(W,de){const ae=i.sliceStream(W);if(de&&ae.push(null),W.previous=l,l&&(l.next=W),l=W,a.defineSkip(W.start),a.write(ae),i.parser.lazy[W.start.line]){let O=a.events.length;for(;O--;)if(a.events[O][1].start.offset<c&&(!a.events[O][1].end||a.events[O][1].end.offset>c))return;const te=i.events.length;let ye=te,le,xe;for(;ye--;)if(i.events[ye][0]==="exit"&&i.events[ye][1].type==="chunkFlow"){if(le){xe=i.events[ye][1].end;break}le=!0}for(M(o),O=te;O<i.events.length;)i.events[O][1].end={...xe},O++;Yn(i.events,ye+1,0,i.events.slice(te)),i.events.length=O}}function M(W){let de=r.length;for(;de-- >W;){const ae=r[de];i.containerState=ae[1],ae[0].exit.call(i,n)}r.length=W}function se(){a.write([null]),l=void 0,a=void 0,i.containerState._closeFlow=void 0}}function K0(n,i,r){return be(n,n.attempt(this.parser.constructs.document,i,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ii(n){if(n===null||nn(n)||Y0(n))return 1;if(H0(n))return 2}function yo(n,i,r){const o=[];let a=-1;for(;++a<n.length;){const l=n[a].resolveAll;l&&!o.includes(l)&&(i=l(i,r),o.push(l))}return i}const lo={name:"attention",resolveAll:J0,tokenize:Z0};function J0(n,i){let r=-1,o,a,l,c,f,p,d,x;for(;++r<n.length;)if(n[r][0]==="enter"&&n[r][1].type==="attentionSequence"&&n[r][1]._close){for(o=r;o--;)if(n[o][0]==="exit"&&n[o][1].type==="attentionSequence"&&n[o][1]._open&&i.sliceSerialize(n[o][1]).charCodeAt(0)===i.sliceSerialize(n[r][1]).charCodeAt(0)){if((n[o][1]._close||n[r][1]._open)&&(n[r][1].end.offset-n[r][1].start.offset)%3&&!((n[o][1].end.offset-n[o][1].start.offset+n[r][1].end.offset-n[r][1].start.offset)%3))continue;p=n[o][1].end.offset-n[o][1].start.offset>1&&n[r][1].end.offset-n[r][1].start.offset>1?2:1;const w={...n[o][1].end},S={...n[r][1].start};_l(w,-p),_l(S,p),c={type:p>1?"strongSequence":"emphasisSequence",start:w,end:{...n[o][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...n[r][1].start},end:S},l={type:p>1?"strongText":"emphasisText",start:{...n[o][1].end},end:{...n[r][1].start}},a={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},n[o][1].end={...c.start},n[r][1].start={...f.end},d=[],n[o][1].end.offset-n[o][1].start.offset&&(d=Cn(d,[["enter",n[o][1],i],["exit",n[o][1],i]])),d=Cn(d,[["enter",a,i],["enter",c,i],["exit",c,i],["enter",l,i]]),d=Cn(d,yo(i.parser.constructs.insideSpan.null,n.slice(o+1,r),i)),d=Cn(d,[["exit",l,i],["enter",f,i],["exit",f,i],["exit",a,i]]),n[r][1].end.offset-n[r][1].start.offset?(x=2,d=Cn(d,[["enter",n[r][1],i],["exit",n[r][1],i]])):x=0,Yn(n,o-1,r-o+3,d),r=o+d.length-x-2;break}}for(r=-1;++r<n.length;)n[r][1].type==="attentionSequence"&&(n[r][1].type="data");return n}function Z0(n,i){const r=this.parser.constructs.attentionMarkers.null,o=this.previous,a=Ii(o);let l;return c;function c(p){return l=p,n.enter("attentionSequence"),f(p)}function f(p){if(p===l)return n.consume(p),f;const d=n.exit("attentionSequence"),x=Ii(p),w=!x||x===2&&a||r.includes(p),S=!a||a===2&&x||r.includes(o);return d._open=!!(l===42?w:w&&(a||!S)),d._close=!!(l===42?S:S&&(x||!w)),i(p)}}function _l(n,i){n.column+=i,n.offset+=i,n._bufferIndex+=i}const j0={name:"autolink",tokenize:ew};function ew(n,i,r){let o=0;return a;function a(_){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),l}function l(_){return qn(_)?(n.consume(_),c):_===64?r(_):d(_)}function c(_){return _===43||_===45||_===46||Mn(_)?(o=1,f(_)):d(_)}function f(_){return _===58?(n.consume(_),o=0,p):(_===43||_===45||_===46||Mn(_))&&o++<32?(n.consume(_),f):(o=0,d(_))}function p(_){return _===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.exit("autolink"),i):_===null||_===32||_===60||ao(_)?r(_):(n.consume(_),p)}function d(_){return _===64?(n.consume(_),x):$0(_)?(n.consume(_),d):r(_)}function x(_){return Mn(_)?w(_):r(_)}function w(_){return _===46?(n.consume(_),o=0,x):_===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(_),n.exit("autolinkMarker"),n.exit("autolink"),i):S(_)}function S(_){if((_===45||Mn(_))&&o++<63){const N=_===45?S:w;return n.consume(_),N}return r(_)}}const Ti={partial:!0,tokenize:nw};function nw(n,i,r){return o;function o(l){return he(l)?be(n,a,"linePrefix")(l):a(l)}function a(l){return l===null||X(l)?i(l):r(l)}}const Wl={continuation:{tokenize:rw},exit:iw,name:"blockQuote",tokenize:tw};function tw(n,i,r){const o=this;return a;function a(c){if(c===62){const f=o.containerState;return f.open||(n.enter("blockQuote",{_container:!0}),f.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(c),n.exit("blockQuoteMarker"),l}return r(c)}function l(c){return he(c)?(n.enter("blockQuotePrefixWhitespace"),n.consume(c),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),i):(n.exit("blockQuotePrefix"),i(c))}}function rw(n,i,r){const o=this;return a;function a(c){return he(c)?be(n,l,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):l(c)}function l(c){return n.attempt(Wl,i,r)(c)}}function iw(n){n.exit("blockQuote")}const $l={name:"characterEscape",tokenize:uw};function uw(n,i,r){return o;function o(l){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(l),n.exit("escapeMarker"),a}function a(l){return U0(l)?(n.enter("characterEscapeValue"),n.consume(l),n.exit("characterEscapeValue"),n.exit("characterEscape"),i):r(l)}}const ql={name:"characterReference",tokenize:ow};function ow(n,i,r){const o=this;let a=0,l,c;return f;function f(w){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(w),n.exit("characterReferenceMarker"),p}function p(w){return w===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(w),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),l=31,c=Mn,x(w))}function d(w){return w===88||w===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(w),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),l=6,c=q0,x):(n.enter("characterReferenceValue"),l=7,c=so,x(w))}function x(w){if(w===59&&a){const S=n.exit("characterReferenceValue");return c===Mn&&!wo(o.sliceSerialize(S))?r(w):(n.enter("characterReferenceMarker"),n.consume(w),n.exit("characterReferenceMarker"),n.exit("characterReference"),i)}return c(w)&&a++<l?(n.consume(w),x):r(w)}}const vl={partial:!0,tokenize:sw},bl={concrete:!0,name:"codeFenced",tokenize:aw};function aw(n,i,r){const o=this,a={partial:!0,tokenize:ae};let l=0,c=0,f;return p;function p(O){return d(O)}function d(O){const te=o.events[o.events.length-1];return l=te&&te[1].type==="linePrefix"?te[2].sliceSerialize(te[1],!0).length:0,f=O,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),x(O)}function x(O){return O===f?(c++,n.consume(O),x):c<3?r(O):(n.exit("codeFencedFenceSequence"),he(O)?be(n,w,"whitespace")(O):w(O))}function w(O){return O===null||X(O)?(n.exit("codeFencedFence"),o.interrupt?i(O):n.check(vl,D,de)(O)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),S(O))}function S(O){return O===null||X(O)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),w(O)):he(O)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),be(n,_,"whitespace")(O)):O===96&&O===f?r(O):(n.consume(O),S)}function _(O){return O===null||X(O)?w(O):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),N(O))}function N(O){return O===null||X(O)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),w(O)):O===96&&O===f?r(O):(n.consume(O),N)}function D(O){return n.attempt(a,de,Y)(O)}function Y(O){return n.enter("lineEnding"),n.consume(O),n.exit("lineEnding"),M}function M(O){return l>0&&he(O)?be(n,se,"linePrefix",l+1)(O):se(O)}function se(O){return O===null||X(O)?n.check(vl,D,de)(O):(n.enter("codeFlowValue"),W(O))}function W(O){return O===null||X(O)?(n.exit("codeFlowValue"),se(O)):(n.consume(O),W)}function de(O){return n.exit("codeFenced"),i(O)}function ae(O,te,ye){let le=0;return xe;function xe(ue){return O.enter("lineEnding"),O.consume(ue),O.exit("lineEnding"),U}function U(ue){return O.enter("codeFencedFence"),he(ue)?be(O,q,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):q(ue)}function q(ue){return ue===f?(O.enter("codeFencedFenceSequence"),_e(ue)):ye(ue)}function _e(ue){return ue===f?(le++,O.consume(ue),_e):le>=c?(O.exit("codeFencedFenceSequence"),he(ue)?be(O,Ie,"whitespace")(ue):Ie(ue)):ye(ue)}function Ie(ue){return ue===null||X(ue)?(O.exit("codeFencedFence"),te(ue)):ye(ue)}}}function sw(n,i,r){const o=this;return a;function a(c){return c===null?r(c):(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),l)}function l(c){return o.parser.lazy[o.now().line]?r(c):i(c)}}const no={name:"codeIndented",tokenize:cw},lw={partial:!0,tokenize:fw};function cw(n,i,r){const o=this;return a;function a(d){return n.enter("codeIndented"),be(n,l,"linePrefix",5)(d)}function l(d){const x=o.events[o.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?c(d):r(d)}function c(d){return d===null?p(d):X(d)?n.attempt(lw,c,p)(d):(n.enter("codeFlowValue"),f(d))}function f(d){return d===null||X(d)?(n.exit("codeFlowValue"),c(d)):(n.consume(d),f)}function p(d){return n.exit("codeIndented"),i(d)}}function fw(n,i,r){const o=this;return a;function a(c){return o.parser.lazy[o.now().line]?r(c):X(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),a):be(n,l,"linePrefix",5)(c)}function l(c){const f=o.events[o.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?i(c):X(c)?a(c):r(c)}}const hw={name:"codeText",previous:pw,resolve:dw,tokenize:gw};function dw(n){let i=n.length-4,r=3,o,a;if((n[r][1].type==="lineEnding"||n[r][1].type==="space")&&(n[i][1].type==="lineEnding"||n[i][1].type==="space")){for(o=r;++o<i;)if(n[o][1].type==="codeTextData"){n[r][1].type="codeTextPadding",n[i][1].type="codeTextPadding",r+=2,i-=2;break}}for(o=r-1,i++;++o<=i;)a===void 0?o!==i&&n[o][1].type!=="lineEnding"&&(a=o):(o===i||n[o][1].type==="lineEnding")&&(n[a][1].type="codeTextData",o!==a+2&&(n[a][1].end=n[o-1][1].end,n.splice(a+2,o-a-2),i-=o-a-2,o=a+2),a=void 0);return n}function pw(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function gw(n,i,r){let o=0,a,l;return c;function c(w){return n.enter("codeText"),n.enter("codeTextSequence"),f(w)}function f(w){return w===96?(n.consume(w),o++,f):(n.exit("codeTextSequence"),p(w))}function p(w){return w===null?r(w):w===32?(n.enter("space"),n.consume(w),n.exit("space"),p):w===96?(l=n.enter("codeTextSequence"),a=0,x(w)):X(w)?(n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),p):(n.enter("codeTextData"),d(w))}function d(w){return w===null||w===32||w===96||X(w)?(n.exit("codeTextData"),p(w)):(n.consume(w),d)}function x(w){return w===96?(n.consume(w),a++,x):a===o?(n.exit("codeTextSequence"),n.exit("codeText"),i(w)):(l.type="codeTextData",d(w))}}class mw{constructor(i){this.left=i?[...i]:[],this.right=[]}get(i){if(i<0||i>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+i+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return i<this.left.length?this.left[i]:this.right[this.right.length-i+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(i,r){const o=r??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(i,o):i>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-i+this.left.length).reverse():this.left.slice(i).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(i,r,o){const a=r||0;this.setCursor(Math.trunc(i));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return o&&br(this.left,o),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(i){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(i)}pushMany(i){this.setCursor(Number.POSITIVE_INFINITY),br(this.left,i)}unshift(i){this.setCursor(0),this.right.push(i)}unshiftMany(i){this.setCursor(0),br(this.right,i.reverse())}setCursor(i){if(!(i===this.left.length||i>this.left.length&&this.right.length===0||i<0&&this.left.length===0))if(i<this.left.length){const r=this.left.splice(i,Number.POSITIVE_INFINITY);br(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-i,Number.POSITIVE_INFINITY);br(this.left,r.reverse())}}}function br(n,i){let r=0;if(i.length<1e4)n.push(...i);else for(;r<i.length;)n.push(...i.slice(r,r+1e4)),r+=1e4}function Ul(n){const i={};let r=-1,o,a,l,c,f,p,d;const x=new mw(n);for(;++r<x.length;){for(;r in i;)r=i[r];if(o=x.get(r),r&&o[1].type==="chunkFlow"&&x.get(r-1)[1].type==="listItemPrefix"&&(p=o[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(o[0]==="enter")o[1].contentType&&(Object.assign(i,xw(x,r)),r=i[r],d=!0);else if(o[1]._container){for(l=r,a=void 0;l--;)if(c=x.get(l),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(a&&(x.get(a)[1].type="lineEndingBlank"),c[1].type="lineEnding",a=l);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;a&&(o[1].end={...x.get(a)[1].start},f=x.slice(a,r),f.unshift(o),x.splice(a,r-a+1,f))}}return Yn(n,0,Number.POSITIVE_INFINITY,x.slice(0)),!d}function xw(n,i){const r=n.get(i)[1],o=n.get(i)[2];let a=i-1;const l=[];let c=r._tokenizer;c||(c=o.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],d={};let x,w,S=-1,_=r,N=0,D=0;const Y=[D];for(;_;){for(;n.get(++a)[1]!==_;);l.push(a),_._tokenizer||(x=o.sliceStream(_),_.next||x.push(null),w&&c.defineSkip(_.start),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(x),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),w=_,_=_.next}for(_=r;++S<f.length;)f[S][0]==="exit"&&f[S-1][0]==="enter"&&f[S][1].type===f[S-1][1].type&&f[S][1].start.line!==f[S][1].end.line&&(D=S+1,Y.push(D),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(c.events=[],_?(_._tokenizer=void 0,_.previous=void 0):Y.pop(),S=Y.length;S--;){const M=f.slice(Y[S],Y[S+1]),se=l.pop();p.push([se,se+M.length-1]),n.splice(se,2,M)}for(p.reverse(),S=-1;++S<p.length;)d[N+p[S][0]]=N+p[S][1],N+=p[S][1]-p[S][0]-1;return d}const ww={resolve:_w,tokenize:vw},yw={partial:!0,tokenize:bw};function _w(n){return Ul(n),n}function vw(n,i){let r;return o;function o(f){return n.enter("content"),r=n.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):X(f)?n.check(yw,c,l)(f):(n.consume(f),a)}function l(f){return n.exit("chunkContent"),n.exit("content"),i(f)}function c(f){return n.consume(f),n.exit("chunkContent"),r.next=n.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function bw(n,i,r){const o=this;return a;function a(c){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),be(n,l,"linePrefix")}function l(c){if(c===null||X(c))return r(c);const f=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?i(c):n.interrupt(o.parser.constructs.flow,r,i)(c)}}function Hl(n,i,r,o,a,l,c,f,p){const d=p||Number.POSITIVE_INFINITY;let x=0;return w;function w(M){return M===60?(n.enter(o),n.enter(a),n.enter(l),n.consume(M),n.exit(l),S):M===null||M===32||M===41||ao(M)?r(M):(n.enter(o),n.enter(c),n.enter(f),n.enter("chunkString",{contentType:"string"}),D(M))}function S(M){return M===62?(n.enter(l),n.consume(M),n.exit(l),n.exit(a),n.exit(o),i):(n.enter(f),n.enter("chunkString",{contentType:"string"}),_(M))}function _(M){return M===62?(n.exit("chunkString"),n.exit(f),S(M)):M===null||M===60||X(M)?r(M):(n.consume(M),M===92?N:_)}function N(M){return M===60||M===62||M===92?(n.consume(M),_):_(M)}function D(M){return!x&&(M===null||M===41||nn(M))?(n.exit("chunkString"),n.exit(f),n.exit(c),n.exit(o),i(M)):x<d&&M===40?(n.consume(M),x++,D):M===41?(n.consume(M),x--,D):M===null||M===32||M===40||ao(M)?r(M):(n.consume(M),M===92?Y:D)}function Y(M){return M===40||M===41||M===92?(n.consume(M),D):D(M)}}function Yl(n,i,r,o,a,l){const c=this;let f=0,p;return d;function d(_){return n.enter(o),n.enter(a),n.consume(_),n.exit(a),n.enter(l),x}function x(_){return f>999||_===null||_===91||_===93&&!p||_===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?r(_):_===93?(n.exit(l),n.enter(a),n.consume(_),n.exit(a),n.exit(o),i):X(_)?(n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),x):(n.enter("chunkString",{contentType:"string"}),w(_))}function w(_){return _===null||_===91||_===93||X(_)||f++>999?(n.exit("chunkString"),x(_)):(n.consume(_),p||(p=!he(_)),_===92?S:w)}function S(_){return _===91||_===92||_===93?(n.consume(_),f++,w):w(_)}}function Gl(n,i,r,o,a,l){let c;return f;function f(S){return S===34||S===39||S===40?(n.enter(o),n.enter(a),n.consume(S),n.exit(a),c=S===40?41:S,p):r(S)}function p(S){return S===c?(n.enter(a),n.consume(S),n.exit(a),n.exit(o),i):(n.enter(l),d(S))}function d(S){return S===c?(n.exit(l),p(c)):S===null?r(S):X(S)?(n.enter("lineEnding"),n.consume(S),n.exit("lineEnding"),be(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===c||S===null||X(S)?(n.exit("chunkString"),d(S)):(n.consume(S),S===92?w:x)}function w(S){return S===c||S===92?(n.consume(S),x):x(S)}}function Cr(n,i){let r;return o;function o(a){return X(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),r=!0,o):he(a)?be(n,o,r?"linePrefix":"lineSuffix")(a):i(a)}}const kw={name:"definition",tokenize:Cw},Sw={partial:!0,tokenize:Iw};function Cw(n,i,r){const o=this;let a;return l;function l(_){return n.enter("definition"),c(_)}function c(_){return Yl.call(o,n,f,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function f(_){return a=ir(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),_===58?(n.enter("definitionMarker"),n.consume(_),n.exit("definitionMarker"),p):r(_)}function p(_){return nn(_)?Cr(n,d)(_):d(_)}function d(_){return Hl(n,x,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function x(_){return n.attempt(Sw,w,w)(_)}function w(_){return he(_)?be(n,S,"whitespace")(_):S(_)}function S(_){return _===null||X(_)?(n.exit("definition"),o.parser.defined.push(a),i(_)):r(_)}}function Iw(n,i,r){return o;function o(f){return nn(f)?Cr(n,a)(f):r(f)}function a(f){return Gl(n,l,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return he(f)?be(n,c,"whitespace")(f):c(f)}function c(f){return f===null||X(f)?i(f):r(f)}}const Ew={name:"hardBreakEscape",tokenize:Aw};function Aw(n,i,r){return o;function o(l){return n.enter("hardBreakEscape"),n.consume(l),a}function a(l){return X(l)?(n.exit("hardBreakEscape"),i(l)):r(l)}}const Tw={name:"headingAtx",resolve:Pw,tokenize:Fw};function Pw(n,i){let r=n.length-2,o=3,a,l;return n[o][1].type==="whitespace"&&(o+=2),r-2>o&&n[r][1].type==="whitespace"&&(r-=2),n[r][1].type==="atxHeadingSequence"&&(o===r-1||r-4>o&&n[r-2][1].type==="whitespace")&&(r-=o+1===r?2:4),r>o&&(a={type:"atxHeadingText",start:n[o][1].start,end:n[r][1].end},l={type:"chunkText",start:n[o][1].start,end:n[r][1].end,contentType:"text"},Yn(n,o,r-o+1,[["enter",a,i],["enter",l,i],["exit",l,i],["exit",a,i]])),n}function Fw(n,i,r){let o=0;return a;function a(x){return n.enter("atxHeading"),l(x)}function l(x){return n.enter("atxHeadingSequence"),c(x)}function c(x){return x===35&&o++<6?(n.consume(x),c):x===null||nn(x)?(n.exit("atxHeadingSequence"),f(x)):r(x)}function f(x){return x===35?(n.enter("atxHeadingSequence"),p(x)):x===null||X(x)?(n.exit("atxHeading"),i(x)):he(x)?be(n,f,"whitespace")(x):(n.enter("atxHeadingText"),d(x))}function p(x){return x===35?(n.consume(x),p):(n.exit("atxHeadingSequence"),f(x))}function d(x){return x===null||x===35||nn(x)?(n.exit("atxHeadingText"),f(x)):(n.consume(x),d)}}const Lw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kl=["pre","script","style","textarea"],Ow={concrete:!0,name:"htmlFlow",resolveTo:Bw,tokenize:Dw},Mw={partial:!0,tokenize:Nw},Rw={partial:!0,tokenize:zw};function Bw(n){let i=n.length;for(;i--&&!(n[i][0]==="enter"&&n[i][1].type==="htmlFlow"););return i>1&&n[i-2][1].type==="linePrefix"&&(n[i][1].start=n[i-2][1].start,n[i+1][1].start=n[i-2][1].start,n.splice(i-2,2)),n}function Dw(n,i,r){const o=this;let a,l,c,f,p;return d;function d(k){return x(k)}function x(k){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(k),w}function w(k){return k===33?(n.consume(k),S):k===47?(n.consume(k),l=!0,D):k===63?(n.consume(k),a=3,o.interrupt?i:v):qn(k)?(n.consume(k),c=String.fromCharCode(k),Y):r(k)}function S(k){return k===45?(n.consume(k),a=2,_):k===91?(n.consume(k),a=5,f=0,N):qn(k)?(n.consume(k),a=4,o.interrupt?i:v):r(k)}function _(k){return k===45?(n.consume(k),o.interrupt?i:v):r(k)}function N(k){const rn="CDATA[";return k===rn.charCodeAt(f++)?(n.consume(k),f===rn.length?o.interrupt?i:q:N):r(k)}function D(k){return qn(k)?(n.consume(k),c=String.fromCharCode(k),Y):r(k)}function Y(k){if(k===null||k===47||k===62||nn(k)){const rn=k===47,Qe=c.toLowerCase();return!rn&&!l&&kl.includes(Qe)?(a=1,o.interrupt?i(k):q(k)):Lw.includes(c.toLowerCase())?(a=6,rn?(n.consume(k),M):o.interrupt?i(k):q(k)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?r(k):l?se(k):W(k))}return k===45||Mn(k)?(n.consume(k),c+=String.fromCharCode(k),Y):r(k)}function M(k){return k===62?(n.consume(k),o.interrupt?i:q):r(k)}function se(k){return he(k)?(n.consume(k),se):xe(k)}function W(k){return k===47?(n.consume(k),xe):k===58||k===95||qn(k)?(n.consume(k),de):he(k)?(n.consume(k),W):xe(k)}function de(k){return k===45||k===46||k===58||k===95||Mn(k)?(n.consume(k),de):ae(k)}function ae(k){return k===61?(n.consume(k),O):he(k)?(n.consume(k),ae):W(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?r(k):k===34||k===39?(n.consume(k),p=k,te):he(k)?(n.consume(k),O):ye(k)}function te(k){return k===p?(n.consume(k),p=null,le):k===null||X(k)?r(k):(n.consume(k),te)}function ye(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||nn(k)?ae(k):(n.consume(k),ye)}function le(k){return k===47||k===62||he(k)?W(k):r(k)}function xe(k){return k===62?(n.consume(k),U):r(k)}function U(k){return k===null||X(k)?q(k):he(k)?(n.consume(k),U):r(k)}function q(k){return k===45&&a===2?(n.consume(k),Be):k===60&&a===1?(n.consume(k),ke):k===62&&a===4?(n.consume(k),Ae):k===63&&a===3?(n.consume(k),v):k===93&&a===5?(n.consume(k),In):X(k)&&(a===6||a===7)?(n.exit("htmlFlowData"),n.check(Mw,En,_e)(k)):k===null||X(k)?(n.exit("htmlFlowData"),_e(k)):(n.consume(k),q)}function _e(k){return n.check(Rw,Ie,En)(k)}function Ie(k){return n.enter("lineEnding"),n.consume(k),n.exit("lineEnding"),ue}function ue(k){return k===null||X(k)?_e(k):(n.enter("htmlFlowData"),q(k))}function Be(k){return k===45?(n.consume(k),v):q(k)}function ke(k){return k===47?(n.consume(k),c="",Oe):q(k)}function Oe(k){if(k===62){const rn=c.toLowerCase();return kl.includes(rn)?(n.consume(k),Ae):q(k)}return qn(k)&&c.length<8?(n.consume(k),c+=String.fromCharCode(k),Oe):q(k)}function In(k){return k===93?(n.consume(k),v):q(k)}function v(k){return k===62?(n.consume(k),Ae):k===45&&a===2?(n.consume(k),v):q(k)}function Ae(k){return k===null||X(k)?(n.exit("htmlFlowData"),En(k)):(n.consume(k),Ae)}function En(k){return n.exit("htmlFlow"),i(k)}}function zw(n,i,r){const o=this;return a;function a(c){return X(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),l):r(c)}function l(c){return o.parser.lazy[o.now().line]?r(c):i(c)}}function Nw(n,i,r){return o;function o(a){return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),n.attempt(Ti,i,r)}}const Ww={name:"htmlText",tokenize:$w};function $w(n,i,r){const o=this;let a,l,c;return f;function f(v){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(v),p}function p(v){return v===33?(n.consume(v),d):v===47?(n.consume(v),ae):v===63?(n.consume(v),W):qn(v)?(n.consume(v),ye):r(v)}function d(v){return v===45?(n.consume(v),x):v===91?(n.consume(v),l=0,N):qn(v)?(n.consume(v),se):r(v)}function x(v){return v===45?(n.consume(v),_):r(v)}function w(v){return v===null?r(v):v===45?(n.consume(v),S):X(v)?(c=w,ke(v)):(n.consume(v),w)}function S(v){return v===45?(n.consume(v),_):w(v)}function _(v){return v===62?Be(v):v===45?S(v):w(v)}function N(v){const Ae="CDATA[";return v===Ae.charCodeAt(l++)?(n.consume(v),l===Ae.length?D:N):r(v)}function D(v){return v===null?r(v):v===93?(n.consume(v),Y):X(v)?(c=D,ke(v)):(n.consume(v),D)}function Y(v){return v===93?(n.consume(v),M):D(v)}function M(v){return v===62?Be(v):v===93?(n.consume(v),M):D(v)}function se(v){return v===null||v===62?Be(v):X(v)?(c=se,ke(v)):(n.consume(v),se)}function W(v){return v===null?r(v):v===63?(n.consume(v),de):X(v)?(c=W,ke(v)):(n.consume(v),W)}function de(v){return v===62?Be(v):W(v)}function ae(v){return qn(v)?(n.consume(v),O):r(v)}function O(v){return v===45||Mn(v)?(n.consume(v),O):te(v)}function te(v){return X(v)?(c=te,ke(v)):he(v)?(n.consume(v),te):Be(v)}function ye(v){return v===45||Mn(v)?(n.consume(v),ye):v===47||v===62||nn(v)?le(v):r(v)}function le(v){return v===47?(n.consume(v),Be):v===58||v===95||qn(v)?(n.consume(v),xe):X(v)?(c=le,ke(v)):he(v)?(n.consume(v),le):Be(v)}function xe(v){return v===45||v===46||v===58||v===95||Mn(v)?(n.consume(v),xe):U(v)}function U(v){return v===61?(n.consume(v),q):X(v)?(c=U,ke(v)):he(v)?(n.consume(v),U):le(v)}function q(v){return v===null||v===60||v===61||v===62||v===96?r(v):v===34||v===39?(n.consume(v),a=v,_e):X(v)?(c=q,ke(v)):he(v)?(n.consume(v),q):(n.consume(v),Ie)}function _e(v){return v===a?(n.consume(v),a=void 0,ue):v===null?r(v):X(v)?(c=_e,ke(v)):(n.consume(v),_e)}function Ie(v){return v===null||v===34||v===39||v===60||v===61||v===96?r(v):v===47||v===62||nn(v)?le(v):(n.consume(v),Ie)}function ue(v){return v===47||v===62||nn(v)?le(v):r(v)}function Be(v){return v===62?(n.consume(v),n.exit("htmlTextData"),n.exit("htmlText"),i):r(v)}function ke(v){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),Oe}function Oe(v){return he(v)?be(n,In,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):In(v)}function In(v){return n.enter("htmlTextData"),c(v)}}const _o={name:"labelEnd",resolveAll:Yw,resolveTo:Gw,tokenize:Vw},qw={tokenize:Qw},Uw={tokenize:Xw},Hw={tokenize:Kw};function Yw(n){let i=-1;const r=[];for(;++i<n.length;){const o=n[i][1];if(r.push(n[i]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const a=o.type==="labelImage"?4:2;o.type="data",i+=a}}return n.length!==r.length&&Yn(n,0,n.length,r),n}function Gw(n,i){let r=n.length,o=0,a,l,c,f;for(;r--;)if(a=n[r][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;n[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(c){if(n[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=r,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(c=r);const p={type:n[l][1].type==="labelLink"?"link":"image",start:{...n[l][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[l][1].start},end:{...n[c][1].end}},x={type:"labelText",start:{...n[l+o+2][1].end},end:{...n[c-2][1].start}};return f=[["enter",p,i],["enter",d,i]],f=Cn(f,n.slice(l+1,l+o+3)),f=Cn(f,[["enter",x,i]]),f=Cn(f,yo(i.parser.constructs.insideSpan.null,n.slice(l+o+4,c-3),i)),f=Cn(f,[["exit",x,i],n[c-2],n[c-1],["exit",d,i]]),f=Cn(f,n.slice(c+1)),f=Cn(f,[["exit",p,i]]),Yn(n,l,n.length,f),n}function Vw(n,i,r){const o=this;let a=o.events.length,l,c;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){l=o.events[a][1];break}return f;function f(S){return l?l._inactive?w(S):(c=o.parser.defined.includes(ir(o.sliceSerialize({start:l.end,end:o.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(S),n.exit("labelMarker"),n.exit("labelEnd"),p):r(S)}function p(S){return S===40?n.attempt(qw,x,c?x:w)(S):S===91?n.attempt(Uw,x,c?d:w)(S):c?x(S):w(S)}function d(S){return n.attempt(Hw,x,w)(S)}function x(S){return i(S)}function w(S){return l._balanced=!0,r(S)}}function Qw(n,i,r){return o;function o(w){return n.enter("resource"),n.enter("resourceMarker"),n.consume(w),n.exit("resourceMarker"),a}function a(w){return nn(w)?Cr(n,l)(w):l(w)}function l(w){return w===41?x(w):Hl(n,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(w)}function c(w){return nn(w)?Cr(n,p)(w):x(w)}function f(w){return r(w)}function p(w){return w===34||w===39||w===40?Gl(n,d,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(w):x(w)}function d(w){return nn(w)?Cr(n,x)(w):x(w)}function x(w){return w===41?(n.enter("resourceMarker"),n.consume(w),n.exit("resourceMarker"),n.exit("resource"),i):r(w)}}function Xw(n,i,r){const o=this;return a;function a(f){return Yl.call(o,n,l,c,"reference","referenceMarker","referenceString")(f)}function l(f){return o.parser.defined.includes(ir(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?i(f):r(f)}function c(f){return r(f)}}function Kw(n,i,r){return o;function o(l){return n.enter("reference"),n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),a}function a(l){return l===93?(n.enter("referenceMarker"),n.consume(l),n.exit("referenceMarker"),n.exit("reference"),i):r(l)}}const Jw={name:"labelStartImage",resolveAll:_o.resolveAll,tokenize:Zw};function Zw(n,i,r){const o=this;return a;function a(f){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(f),n.exit("labelImageMarker"),l}function l(f){return f===91?(n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelImage"),c):r(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(f):i(f)}}const jw={name:"labelStartLink",resolveAll:_o.resolveAll,tokenize:ey};function ey(n,i,r){const o=this;return a;function a(c){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelLink"),l}function l(c){return c===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(c):i(c)}}const to={name:"lineEnding",tokenize:ny};function ny(n,i){return r;function r(o){return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),be(n,i,"linePrefix")}}const ki={name:"thematicBreak",tokenize:ty};function ty(n,i,r){let o=0,a;return l;function l(d){return n.enter("thematicBreak"),c(d)}function c(d){return a=d,f(d)}function f(d){return d===a?(n.enter("thematicBreakSequence"),p(d)):o>=3&&(d===null||X(d))?(n.exit("thematicBreak"),i(d)):r(d)}function p(d){return d===a?(n.consume(d),o++,p):(n.exit("thematicBreakSequence"),he(d)?be(n,f,"whitespace")(d):f(d))}}const en={continuation:{tokenize:oy},exit:sy,name:"list",tokenize:uy},ry={partial:!0,tokenize:ly},iy={partial:!0,tokenize:ay};function uy(n,i,r){const o=this,a=o.events[o.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,c=0;return f;function f(_){const N=o.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!o.containerState.marker||_===o.containerState.marker:so(_)){if(o.containerState.type||(o.containerState.type=N,n.enter(N,{_container:!0})),N==="listUnordered")return n.enter("listItemPrefix"),_===42||_===45?n.check(ki,r,d)(_):d(_);if(!o.interrupt||_===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(_)}return r(_)}function p(_){return so(_)&&++c<10?(n.consume(_),p):(!o.interrupt||c<2)&&(o.containerState.marker?_===o.containerState.marker:_===41||_===46)?(n.exit("listItemValue"),d(_)):r(_)}function d(_){return n.enter("listItemMarker"),n.consume(_),n.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||_,n.check(Ti,o.interrupt?r:x,n.attempt(ry,S,w))}function x(_){return o.containerState.initialBlankLine=!0,l++,S(_)}function w(_){return he(_)?(n.enter("listItemPrefixWhitespace"),n.consume(_),n.exit("listItemPrefixWhitespace"),S):r(_)}function S(_){return o.containerState.size=l+o.sliceSerialize(n.exit("listItemPrefix"),!0).length,i(_)}}function oy(n,i,r){const o=this;return o.containerState._closeFlow=void 0,n.check(Ti,a,l);function a(f){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,be(n,i,"listItemIndent",o.containerState.size+1)(f)}function l(f){return o.containerState.furtherBlankLines||!he(f)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,c(f)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,n.attempt(iy,i,c)(f))}function c(f){return o.containerState._closeFlow=!0,o.interrupt=void 0,be(n,n.attempt(en,i,r),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function ay(n,i,r){const o=this;return be(n,a,"listItemIndent",o.containerState.size+1);function a(l){const c=o.events[o.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===o.containerState.size?i(l):r(l)}}function sy(n){n.exit(this.containerState.type)}function ly(n,i,r){const o=this;return be(n,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const c=o.events[o.events.length-1];return!he(l)&&c&&c[1].type==="listItemPrefixWhitespace"?i(l):r(l)}}const Sl={name:"setextUnderline",resolveTo:cy,tokenize:fy};function cy(n,i){let r=n.length,o,a,l;for(;r--;)if(n[r][0]==="enter"){if(n[r][1].type==="content"){o=r;break}n[r][1].type==="paragraph"&&(a=r)}else n[r][1].type==="content"&&n.splice(r,1),!l&&n[r][1].type==="definition"&&(l=r);const c={type:"setextHeading",start:{...n[o][1].start},end:{...n[n.length-1][1].end}};return n[a][1].type="setextHeadingText",l?(n.splice(a,0,["enter",c,i]),n.splice(l+1,0,["exit",n[o][1],i]),n[o][1].end={...n[l][1].end}):n[o][1]=c,n.push(["exit",c,i]),n}function fy(n,i,r){const o=this;let a;return l;function l(d){let x=o.events.length,w;for(;x--;)if(o.events[x][1].type!=="lineEnding"&&o.events[x][1].type!=="linePrefix"&&o.events[x][1].type!=="content"){w=o.events[x][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||w)?(n.enter("setextHeadingLine"),a=d,c(d)):r(d)}function c(d){return n.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===a?(n.consume(d),f):(n.exit("setextHeadingLineSequence"),he(d)?be(n,p,"lineSuffix")(d):p(d))}function p(d){return d===null||X(d)?(n.exit("setextHeadingLine"),i(d)):r(d)}}const hy={tokenize:dy};function dy(n){const i=this,r=n.attempt(Ti,o,n.attempt(this.parser.constructs.flowInitial,a,be(n,n.attempt(this.parser.constructs.flow,a,n.attempt(ww,a)),"linePrefix")));return r;function o(l){if(l===null){n.consume(l);return}return n.enter("lineEndingBlank"),n.consume(l),n.exit("lineEndingBlank"),i.currentConstruct=void 0,r}function a(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),i.currentConstruct=void 0,r}}const py={resolveAll:Ql()},gy=Vl("string"),my=Vl("text");function Vl(n){return{resolveAll:Ql(n==="text"?xy:void 0),tokenize:i};function i(r){const o=this,a=this.parser.constructs[n],l=r.attempt(a,c,f);return c;function c(x){return d(x)?l(x):f(x)}function f(x){if(x===null){r.consume(x);return}return r.enter("data"),r.consume(x),p}function p(x){return d(x)?(r.exit("data"),l(x)):(r.consume(x),p)}function d(x){if(x===null)return!0;const w=a[x];let S=-1;if(w)for(;++S<w.length;){const _=w[S];if(!_.previous||_.previous.call(o,o.previous))return!0}return!1}}}function Ql(n){return i;function i(r,o){let a=-1,l;for(;++a<=r.length;)l===void 0?r[a]&&r[a][1].type==="data"&&(l=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==l+2&&(r[l][1].end=r[a-1][1].end,r.splice(l+2,a-l-2),a=l+2),l=void 0);return n?n(r,o):r}}function xy(n,i){let r=0;for(;++r<=n.length;)if((r===n.length||n[r][1].type==="lineEnding")&&n[r-1][1].type==="data"){const o=n[r-1][1],a=i.sliceStream(o);let l=a.length,c=-1,f=0,p;for(;l--;){const d=a[l];if(typeof d=="string"){for(c=d.length;d.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(d===-2)p=!0,f++;else if(d!==-1){l++;break}}if(i._contentTypeTextTrailing&&r===n.length&&(f=0),f){const d={type:r===n.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?c:o.start._bufferIndex+c,_index:o.start._index+l,line:o.end.line,column:o.end.column-f,offset:o.end.offset-f},end:{...o.end}};o.end={...d.start},o.start.offset===o.end.offset?Object.assign(o,d):(n.splice(r,0,["enter",d,i],["exit",d,i]),r+=2)}r++}return n}const wy={42:en,43:en,45:en,48:en,49:en,50:en,51:en,52:en,53:en,54:en,55:en,56:en,57:en,62:Wl},yy={91:kw},_y={[-2]:no,[-1]:no,32:no},vy={35:Tw,42:ki,45:[Sl,ki],60:Ow,61:Sl,95:ki,96:bl,126:bl},by={38:ql,92:$l},ky={[-5]:to,[-4]:to,[-3]:to,33:Jw,38:ql,42:lo,60:[j0,Ww],91:jw,92:[Ew,$l],93:_o,95:lo,96:hw},Sy={null:[lo,py]},Cy={null:[42,95]},Iy={null:[]},Ey=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Cy,contentInitial:yy,disable:Iy,document:wy,flow:vy,flowInitial:_y,insideSpan:Sy,string:by,text:ky},Symbol.toStringTag,{value:"Module"}));function Ay(n,i,r){let o={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},l=[];let c=[],f=[];const p={attempt:te(ae),check:te(O),consume:se,enter:W,exit:de,interrupt:te(O,{interrupt:!0})},d={code:null,containerState:{},defineSkip:D,events:[],now:N,parser:n,previous:null,sliceSerialize:S,sliceStream:_,write:w};let x=i.tokenize.call(d,p);return i.resolveAll&&l.push(i),d;function w(U){return c=Cn(c,U),Y(),c[c.length-1]!==null?[]:(ye(i,0),d.events=yo(l,d.events,d),d.events)}function S(U,q){return Py(_(U),q)}function _(U){return Ty(c,U)}function N(){const{_bufferIndex:U,_index:q,line:_e,column:Ie,offset:ue}=o;return{_bufferIndex:U,_index:q,line:_e,column:Ie,offset:ue}}function D(U){a[U.line]=U.column,xe()}function Y(){let U;for(;o._index<c.length;){const q=c[o._index];if(typeof q=="string")for(U=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===U&&o._bufferIndex<q.length;)M(q.charCodeAt(o._bufferIndex));else M(q)}}function M(U){x=x(U)}function se(U){X(U)?(o.line++,o.column=1,o.offset+=U===-3?2:1,xe()):U!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===c[o._index].length&&(o._bufferIndex=-1,o._index++)),d.previous=U}function W(U,q){const _e=q||{};return _e.type=U,_e.start=N(),d.events.push(["enter",_e,d]),f.push(_e),_e}function de(U){const q=f.pop();return q.end=N(),d.events.push(["exit",q,d]),q}function ae(U,q){ye(U,q.from)}function O(U,q){q.restore()}function te(U,q){return _e;function _e(Ie,ue,Be){let ke,Oe,In,v;return Array.isArray(Ie)?En(Ie):"tokenize"in Ie?En([Ie]):Ae(Ie);function Ae(Te){return St;function St(Xe){const gn=Xe!==null&&Te[Xe],it=Xe!==null&&Te.null,Gn=[...Array.isArray(gn)?gn:gn?[gn]:[],...Array.isArray(it)?it:it?[it]:[]];return En(Gn)(Xe)}}function En(Te){return ke=Te,Oe=0,Te.length===0?Be:k(Te[Oe])}function k(Te){return St;function St(Xe){return v=le(),In=Te,Te.partial||(d.currentConstruct=Te),Te.name&&d.parser.constructs.disable.null.includes(Te.name)?Qe():Te.tokenize.call(q?Object.assign(Object.create(d),q):d,p,rn,Qe)(Xe)}}function rn(Te){return U(In,v),ue}function Qe(Te){return v.restore(),++Oe<ke.length?k(ke[Oe]):Be}}}function ye(U,q){U.resolveAll&&!l.includes(U)&&l.push(U),U.resolve&&Yn(d.events,q,d.events.length-q,U.resolve(d.events.slice(q),d)),U.resolveTo&&(d.events=U.resolveTo(d.events,d))}function le(){const U=N(),q=d.previous,_e=d.currentConstruct,Ie=d.events.length,ue=Array.from(f);return{from:Ie,restore:Be};function Be(){o=U,d.previous=q,d.currentConstruct=_e,d.events.length=Ie,f=ue,xe()}}function xe(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function Ty(n,i){const r=i.start._index,o=i.start._bufferIndex,a=i.end._index,l=i.end._bufferIndex;let c;if(r===a)c=[n[r].slice(o,l)];else{if(c=n.slice(r,a),o>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(o):c.shift()}l>0&&c.push(n[a].slice(0,l))}return c}function Py(n,i){let r=-1;const o=[];let a;for(;++r<n.length;){const l=n[r];let c;if(typeof l=="string")c=l;else switch(l){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=i?" ":"	";break}case-1:{if(!i&&a)continue;c=" ";break}default:c=String.fromCharCode(l)}a=l===-2,o.push(c)}return o.join("")}function Fy(n){const o={constructs:z0([Ey,...(n||{}).extensions||[]]),content:a(G0),defined:[],document:a(Q0),flow:a(hy),lazy:{},string:a(gy),text:a(my)};return o;function a(l){return c;function c(f){return Ay(o,l,f)}}}function Ly(n){for(;!Ul(n););return n}const Cl=/[\0\t\n\r]/g;function Oy(){let n=1,i="",r=!0,o;return a;function a(l,c,f){const p=[];let d,x,w,S,_;for(l=i+(typeof l=="string"?l.toString():new TextDecoder(c||void 0).decode(l)),w=0,i="",r&&(l.charCodeAt(0)===65279&&w++,r=void 0);w<l.length;){if(Cl.lastIndex=w,d=Cl.exec(l),S=d&&d.index!==void 0?d.index:l.length,_=l.charCodeAt(S),!d){i=l.slice(w);break}if(_===10&&w===S&&o)p.push(-3),o=void 0;else switch(o&&(p.push(-5),o=void 0),w<S&&(p.push(l.slice(w,S)),n+=S-w),_){case 0:{p.push(65533),n++;break}case 9:{for(x=Math.ceil(n/4)*4,p.push(-2);n++<x;)p.push(-1);break}case 10:{p.push(-4),n=1;break}default:o=!0,n=1}w=S+1}return f&&(o&&p.push(-5),i&&p.push(i),p.push(null)),p}}const My=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Xl(n){return n.replace(My,Ry)}function Ry(n,i,r){if(i)return i;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),l=a===120||a===88;return Nl(r.slice(l?2:1),l?16:10)}return wo(r)||n}const Kl={}.hasOwnProperty;function By(n,i,r){return typeof i!="string"&&(r=i,i=void 0),Dy(r)(Ly(Fy(r).document().write(Oy()(n,i,!0))))}function Dy(n){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Fr),autolinkProtocol:le,autolinkEmail:le,atxHeading:l(ut),blockQuote:l(it),characterEscape:le,characterReference:le,codeFenced:l(Gn),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Gn,c),codeText:l(Wt,c),codeTextData:le,data:le,codeFlowValue:le,definition:l(Ar),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(un),hardBreakEscape:l(Tr),hardBreakTrailing:l(Tr),htmlFlow:l(mn,c),htmlFlowData:le,htmlText:l(mn,c),htmlTextData:le,image:l(Pr),label:c,link:l(Fr),listItem:l(on),listItemValue:S,listOrdered:l(ot,w),listUnordered:l(ot),paragraph:l(Ct),reference:k,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(ut),strong:l($t),thematicBreak:l(It)},exit:{atxHeading:p(),atxHeadingSequence:ae,autolink:p(),autolinkEmail:gn,autolinkProtocol:Xe,blockQuote:p(),characterEscapeValue:xe,characterReferenceMarkerHexadecimal:Qe,characterReferenceMarkerNumeric:Qe,characterReferenceValue:Te,characterReference:St,codeFenced:p(Y),codeFencedFence:D,codeFencedFenceInfo:_,codeFencedFenceMeta:N,codeFlowValue:xe,codeIndented:p(M),codeText:p(ue),codeTextData:xe,data:xe,definition:p(),definitionDestinationString:de,definitionLabelString:se,definitionTitleString:W,emphasis:p(),hardBreakEscape:p(q),hardBreakTrailing:p(q),htmlFlow:p(_e),htmlFlowData:xe,htmlText:p(Ie),htmlTextData:xe,image:p(ke),label:In,labelText:Oe,lineEnding:U,link:p(Be),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:rn,resourceDestinationString:v,resourceTitleString:Ae,resource:En,setextHeading:p(ye),setextHeadingLineSequence:te,setextHeadingText:O,strong:p(),thematicBreak:p()}};Jl(i,(n||{}).mdastExtensions||[]);const r={};return o;function o(T){let R={type:"root",children:[]};const G={stack:[R],tokenStack:[],config:i,enter:f,exit:d,buffer:c,resume:x,data:r},ee=[];let ce=-1;for(;++ce<T.length;)if(T[ce][1].type==="listOrdered"||T[ce][1].type==="listUnordered")if(T[ce][0]==="enter")ee.push(ce);else{const He=ee.pop();ce=a(T,He,ce)}for(ce=-1;++ce<T.length;){const He=i[T[ce][0]];Kl.call(He,T[ce][1].type)&&He[T[ce][1].type].call(Object.assign({sliceSerialize:T[ce][2].sliceSerialize},G),T[ce][1])}if(G.tokenStack.length>0){const He=G.tokenStack[G.tokenStack.length-1];(He[1]||Il).call(G,void 0,He[0])}for(R.position={start:xt(T.length>0?T[0][1].start:{line:1,column:1,offset:0}),end:xt(T.length>0?T[T.length-2][1].end:{line:1,column:1,offset:0})},ce=-1;++ce<i.transforms.length;)R=i.transforms[ce](R)||R;return R}function a(T,R,G){let ee=R-1,ce=-1,He=!1,An,an,Vn,Qn;for(;++ee<=G;){const Ne=T[ee];switch(Ne[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ne[0]==="enter"?ce++:ce--,Qn=void 0;break}case"lineEndingBlank":{Ne[0]==="enter"&&(An&&!Qn&&!ce&&!Vn&&(Vn=ee),Qn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Qn=void 0}if(!ce&&Ne[0]==="enter"&&Ne[1].type==="listItemPrefix"||ce===-1&&Ne[0]==="exit"&&(Ne[1].type==="listUnordered"||Ne[1].type==="listOrdered")){if(An){let Bn=ee;for(an=void 0;Bn--;){const Tn=T[Bn];if(Tn[1].type==="lineEnding"||Tn[1].type==="lineEndingBlank"){if(Tn[0]==="exit")continue;an&&(T[an][1].type="lineEndingBlank",He=!0),Tn[1].type="lineEnding",an=Bn}else if(!(Tn[1].type==="linePrefix"||Tn[1].type==="blockQuotePrefix"||Tn[1].type==="blockQuotePrefixWhitespace"||Tn[1].type==="blockQuoteMarker"||Tn[1].type==="listItemIndent"))break}Vn&&(!an||Vn<an)&&(An._spread=!0),An.end=Object.assign({},an?T[an][1].start:Ne[1].end),T.splice(an||ee,0,["exit",An,Ne[2]]),ee++,G++}if(Ne[1].type==="listItemPrefix"){const Bn={type:"listItem",_spread:!1,start:Object.assign({},Ne[1].start),end:void 0};An=Bn,T.splice(ee,0,["enter",Bn,Ne[2]]),ee++,G++,Vn=void 0,Qn=!0}}}return T[R][1]._spread=He,G}function l(T,R){return G;function G(ee){f.call(this,T(ee),ee),R&&R.call(this,ee)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(T,R,G){this.stack[this.stack.length-1].children.push(T),this.stack.push(T),this.tokenStack.push([R,G||void 0]),T.position={start:xt(R.start),end:void 0}}function p(T){return R;function R(G){T&&T.call(this,G),d.call(this,G)}}function d(T,R){const G=this.stack.pop(),ee=this.tokenStack.pop();if(ee)ee[0].type!==T.type&&(R?R.call(this,T,ee[0]):(ee[1]||Il).call(this,T,ee[0]));else throw new Error("Cannot close `"+T.type+"` ("+Sr({start:T.start,end:T.end})+"): it’s not open");G.position.end=xt(T.end)}function x(){return xo(this.stack.pop())}function w(){this.data.expectingFirstListItemValue=!0}function S(T){if(this.data.expectingFirstListItemValue){const R=this.stack[this.stack.length-2];R.start=Number.parseInt(this.sliceSerialize(T),10),this.data.expectingFirstListItemValue=void 0}}function _(){const T=this.resume(),R=this.stack[this.stack.length-1];R.lang=T}function N(){const T=this.resume(),R=this.stack[this.stack.length-1];R.meta=T}function D(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function Y(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function M(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T.replace(/(\r?\n|\r)$/g,"")}function se(T){const R=this.resume(),G=this.stack[this.stack.length-1];G.label=R,G.identifier=ir(this.sliceSerialize(T)).toLowerCase()}function W(){const T=this.resume(),R=this.stack[this.stack.length-1];R.title=T}function de(){const T=this.resume(),R=this.stack[this.stack.length-1];R.url=T}function ae(T){const R=this.stack[this.stack.length-1];if(!R.depth){const G=this.sliceSerialize(T).length;R.depth=G}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function te(T){const R=this.stack[this.stack.length-1];R.depth=this.sliceSerialize(T).codePointAt(0)===61?1:2}function ye(){this.data.setextHeadingSlurpLineEnding=void 0}function le(T){const G=this.stack[this.stack.length-1].children;let ee=G[G.length-1];(!ee||ee.type!=="text")&&(ee=Fi(),ee.position={start:xt(T.start),end:void 0},G.push(ee)),this.stack.push(ee)}function xe(T){const R=this.stack.pop();R.value+=this.sliceSerialize(T),R.position.end=xt(T.end)}function U(T){const R=this.stack[this.stack.length-1];if(this.data.atHardBreak){const G=R.children[R.children.length-1];G.position.end=xt(T.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(R.type)&&(le.call(this,T),xe.call(this,T))}function q(){this.data.atHardBreak=!0}function _e(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T}function Ie(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T}function ue(){const T=this.resume(),R=this.stack[this.stack.length-1];R.value=T}function Be(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const R=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=R,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function ke(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const R=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=R,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function Oe(T){const R=this.sliceSerialize(T),G=this.stack[this.stack.length-2];G.label=Xl(R),G.identifier=ir(R).toLowerCase()}function In(){const T=this.stack[this.stack.length-1],R=this.resume(),G=this.stack[this.stack.length-1];if(this.data.inReference=!0,G.type==="link"){const ee=T.children;G.children=ee}else G.alt=R}function v(){const T=this.resume(),R=this.stack[this.stack.length-1];R.url=T}function Ae(){const T=this.resume(),R=this.stack[this.stack.length-1];R.title=T}function En(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function rn(T){const R=this.resume(),G=this.stack[this.stack.length-1];G.label=R,G.identifier=ir(this.sliceSerialize(T)).toLowerCase(),this.data.referenceType="full"}function Qe(T){this.data.characterReferenceType=T.type}function Te(T){const R=this.sliceSerialize(T),G=this.data.characterReferenceType;let ee;G?(ee=Nl(R,G==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ee=wo(R);const ce=this.stack[this.stack.length-1];ce.value+=ee}function St(T){const R=this.stack.pop();R.position.end=xt(T.end)}function Xe(T){xe.call(this,T);const R=this.stack[this.stack.length-1];R.url=this.sliceSerialize(T)}function gn(T){xe.call(this,T);const R=this.stack[this.stack.length-1];R.url="mailto:"+this.sliceSerialize(T)}function it(){return{type:"blockquote",children:[]}}function Gn(){return{type:"code",lang:null,meta:null,value:""}}function Wt(){return{type:"inlineCode",value:""}}function Ar(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function un(){return{type:"emphasis",children:[]}}function ut(){return{type:"heading",depth:0,children:[]}}function Tr(){return{type:"break"}}function mn(){return{type:"html",value:""}}function Pr(){return{type:"image",title:null,url:"",alt:null}}function Fr(){return{type:"link",title:null,url:"",children:[]}}function ot(T){return{type:"list",ordered:T.type==="listOrdered",start:null,spread:T._spread,children:[]}}function on(T){return{type:"listItem",spread:T._spread,checked:null,children:[]}}function Ct(){return{type:"paragraph",children:[]}}function $t(){return{type:"strong",children:[]}}function Fi(){return{type:"text",value:""}}function It(){return{type:"thematicBreak"}}}function xt(n){return{line:n.line,column:n.column,offset:n.offset}}function Jl(n,i){let r=-1;for(;++r<i.length;){const o=i[r];Array.isArray(o)?Jl(n,o):zy(n,o)}}function zy(n,i){let r;for(r in i)if(Kl.call(i,r))switch(r){case"canContainEols":{const o=i[r];o&&n[r].push(...o);break}case"transforms":{const o=i[r];o&&n[r].push(...o);break}case"enter":case"exit":{const o=i[r];o&&Object.assign(n[r],o);break}}}function Il(n,i){throw n?new Error("Cannot close `"+n.type+"` ("+Sr({start:n.start,end:n.end})+"): a different token (`"+i.type+"`, "+Sr({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+Sr({start:i.start,end:i.end})+") is still open")}function Zl(n){const i=this;i.parser=r;function r(o){return By(o,{...i.data("settings"),...n,extensions:i.data("micromarkExtensions")||[],mdastExtensions:i.data("fromMarkdownExtensions")||[]})}}const El={}.hasOwnProperty;function Ny(n,i){const r=i||{};function o(a,...l){let c=o.invalid;const f=o.handlers;if(a&&El.call(a,n)){const p=String(a[n]);c=El.call(f,p)?f[p]:o.unknown}if(c)return c.call(this,a,...l)}return o.handlers=r.handlers||{},o.invalid=r.invalid,o.unknown=r.unknown,o}const Wy={}.hasOwnProperty;function jl(n,i){let r=-1,o;if(i.extensions)for(;++r<i.extensions.length;)jl(n,i.extensions[r]);for(o in i)if(Wy.call(i,o))switch(o){case"extensions":break;case"unsafe":{Al(n[o],i[o]);break}case"join":{Al(n[o],i[o]);break}case"handlers":{$y(n[o],i[o]);break}default:n.options[o]=i[o]}return n}function Al(n,i){i&&n.push(...i)}function $y(n,i){i&&Object.assign(n,i)}function qy(n,i,r,o){const a=r.enter("blockquote"),l=r.createTracker(o);l.move("> "),l.shift(2);const c=r.indentLines(r.containerFlow(n,l.current()),Uy);return a(),c}function Uy(n,i,r){return">"+(r?"":" ")+n}function ec(n,i){return Tl(n,i.inConstruct,!0)&&!Tl(n,i.notInConstruct,!1)}function Tl(n,i,r){if(typeof i=="string"&&(i=[i]),!i||i.length===0)return r;let o=-1;for(;++o<i.length;)if(n.includes(i[o]))return!0;return!1}function Pl(n,i,r,o){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&ec(r.stack,r.unsafe[a]))return/[ \t]/.test(o.before)?"":" ";return`\\
`}function Hy(n,i){const r=String(n);let o=r.indexOf(i),a=o,l=0,c=0;if(typeof i!="string")throw new TypeError("Expected substring");for(;o!==-1;)o===a?++l>c&&(c=l):l=1,a=o+i.length,o=r.indexOf(i,a);return c}function co(n,i){return!!(i.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function Yy(n){const i=n.options.fence||"`";if(i!=="`"&&i!=="~")throw new Error("Cannot serialize code with `"+i+"` for `options.fence`, expected `` ` `` or `~`");return i}function Gy(n,i,r,o){const a=Yy(r),l=n.value||"",c=a==="`"?"GraveAccent":"Tilde";if(co(n,r)){const w=r.enter("codeIndented"),S=r.indentLines(l,Vy);return w(),S}const f=r.createTracker(o),p=a.repeat(Math.max(Hy(l,a)+1,3)),d=r.enter("codeFenced");let x=f.move(p);if(n.lang){const w=r.enter(`codeFencedLang${c}`);x+=f.move(r.safe(n.lang,{before:x,after:" ",encode:["`"],...f.current()})),w()}if(n.lang&&n.meta){const w=r.enter(`codeFencedMeta${c}`);x+=f.move(" "),x+=f.move(r.safe(n.meta,{before:x,after:`
`,encode:["`"],...f.current()})),w()}return x+=f.move(`
`),l&&(x+=f.move(l+`
`)),x+=f.move(p),d(),x}function Vy(n,i,r){return(r?"":"    ")+n}function vo(n){const i=n.options.quote||'"';if(i!=='"'&&i!=="'")throw new Error("Cannot serialize title with `"+i+"` for `options.quote`, expected `\"`, or `'`");return i}function Qy(n,i,r,o){const a=vo(r),l=a==='"'?"Quote":"Apostrophe",c=r.enter("definition");let f=r.enter("label");const p=r.createTracker(o);let d=p.move("[");return d+=p.move(r.safe(r.associationId(n),{before:d,after:"]",...p.current()})),d+=p.move("]: "),f(),!n.url||/[\0- \u007F]/.test(n.url)?(f=r.enter("destinationLiteral"),d+=p.move("<"),d+=p.move(r.safe(n.url,{before:d,after:">",...p.current()})),d+=p.move(">")):(f=r.enter("destinationRaw"),d+=p.move(r.safe(n.url,{before:d,after:n.title?" ":`
`,...p.current()}))),f(),n.title&&(f=r.enter(`title${l}`),d+=p.move(" "+a),d+=p.move(r.safe(n.title,{before:d,after:a,...p.current()})),d+=p.move(a),f()),c(),d}function Xy(n){const i=n.options.emphasis||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize emphasis with `"+i+"` for `options.emphasis`, expected `*`, or `_`");return i}function _t(n){return"&#x"+n.toString(16).toUpperCase()+";"}function Ei(n,i,r){const o=Ii(n),a=Ii(i);return o===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:o===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}nc.peek=Ky;function nc(n,i,r,o){const a=Xy(r),l=r.enter("emphasis"),c=r.createTracker(o),f=c.move(a);let p=c.move(r.containerPhrasing(n,{after:a,before:f,...c.current()}));const d=p.charCodeAt(0),x=Ei(o.before.charCodeAt(o.before.length-1),d,a);x.inside&&(p=_t(d)+p.slice(1));const w=p.charCodeAt(p.length-1),S=Ei(o.after.charCodeAt(0),w,a);S.inside&&(p=p.slice(0,-1)+_t(w));const _=c.move(a);return l(),r.attentionEncodeSurroundingInfo={after:S.outside,before:x.outside},f+p+_}function Ky(n,i,r){return r.options.emphasis||"*"}const bo=(function(n){if(n==null)return e_;if(typeof n=="function")return Pi(n);if(typeof n=="object")return Array.isArray(n)?Jy(n):Zy(n);if(typeof n=="string")return jy(n);throw new Error("Expected function, string, or object as test")});function Jy(n){const i=[];let r=-1;for(;++r<n.length;)i[r]=bo(n[r]);return Pi(o);function o(...a){let l=-1;for(;++l<i.length;)if(i[l].apply(this,a))return!0;return!1}}function Zy(n){const i=n;return Pi(r);function r(o){const a=o;let l;for(l in n)if(a[l]!==i[l])return!1;return!0}}function jy(n){return Pi(i);function i(r){return r&&r.type===n}}function Pi(n){return i;function i(r,o,a){return!!(n_(r)&&n.call(this,r,typeof o=="number"?o:void 0,a||void 0))}}function e_(){return!0}function n_(n){return n!==null&&typeof n=="object"&&"type"in n}const tc=[],t_=!0,fo=!1,r_="skip";function i_(n,i,r,o){let a;typeof i=="function"&&typeof r!="function"?(o=r,r=i):a=i;const l=bo(a),c=o?-1:1;f(n,void 0,[])();function f(p,d,x){const w=p&&typeof p=="object"?p:{};if(typeof w.type=="string"){const _=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(S,"name",{value:"node ("+(p.type+(_?"<"+_+">":""))+")"})}return S;function S(){let _=tc,N,D,Y;if((!i||l(p,d,x[x.length-1]||void 0))&&(_=u_(r(p,x)),_[0]===fo))return _;if("children"in p&&p.children){const M=p;if(M.children&&_[0]!==r_)for(D=(o?M.children.length:-1)+c,Y=x.concat(M);D>-1&&D<M.children.length;){const se=M.children[D];if(N=f(se,D,Y)(),N[0]===fo)return N;D=typeof N[1]=="number"?N[1]:D+c}}return _}}}function u_(n){return Array.isArray(n)?n:typeof n=="number"?[t_,n]:n==null?tc:[n]}function ho(n,i,r,o){let a,l,c;typeof i=="function"&&typeof r!="function"?(l=void 0,c=i,a=r):(l=i,c=r,a=o),i_(n,l,f,a);function f(p,d){const x=d[d.length-1],w=x?x.children.indexOf(p):void 0;return c(p,w,x)}}function rc(n,i){let r=!1;return ho(n,function(o){if("value"in o&&/\r?\n|\r/.test(o.value)||o.type==="break")return r=!0,fo}),!!((!n.depth||n.depth<3)&&xo(n)&&(i.options.setext||r))}function o_(n,i,r,o){const a=Math.max(Math.min(6,n.depth||1),1),l=r.createTracker(o);if(rc(n,r)){const x=r.enter("headingSetext"),w=r.enter("phrasing"),S=r.containerPhrasing(n,{...l.current(),before:`
`,after:`
`});return w(),x(),S+`
`+(a===1?"=":"-").repeat(S.length-(Math.max(S.lastIndexOf("\r"),S.lastIndexOf(`
`))+1))}const c="#".repeat(a),f=r.enter("headingAtx"),p=r.enter("phrasing");l.move(c+" ");let d=r.containerPhrasing(n,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(d)&&(d=_t(d.charCodeAt(0))+d.slice(1)),d=d?c+" "+d:c,r.options.closeAtx&&(d+=" "+c),p(),f(),d}ic.peek=a_;function ic(n){return n.value||""}function a_(){return"<"}uc.peek=s_;function uc(n,i,r,o){const a=vo(r),l=a==='"'?"Quote":"Apostrophe",c=r.enter("image");let f=r.enter("label");const p=r.createTracker(o);let d=p.move("![");return d+=p.move(r.safe(n.alt,{before:d,after:"]",...p.current()})),d+=p.move("]("),f(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(f=r.enter("destinationLiteral"),d+=p.move("<"),d+=p.move(r.safe(n.url,{before:d,after:">",...p.current()})),d+=p.move(">")):(f=r.enter("destinationRaw"),d+=p.move(r.safe(n.url,{before:d,after:n.title?" ":")",...p.current()}))),f(),n.title&&(f=r.enter(`title${l}`),d+=p.move(" "+a),d+=p.move(r.safe(n.title,{before:d,after:a,...p.current()})),d+=p.move(a),f()),d+=p.move(")"),c(),d}function s_(){return"!"}oc.peek=l_;function oc(n,i,r,o){const a=n.referenceType,l=r.enter("imageReference");let c=r.enter("label");const f=r.createTracker(o);let p=f.move("![");const d=r.safe(n.alt,{before:p,after:"]",...f.current()});p+=f.move(d+"]["),c();const x=r.stack;r.stack=[],c=r.enter("reference");const w=r.safe(r.associationId(n),{before:p,after:"]",...f.current()});return c(),r.stack=x,l(),a==="full"||!d||d!==w?p+=f.move(w+"]"):a==="shortcut"?p=p.slice(0,-1):p+=f.move("]"),p}function l_(){return"!"}ac.peek=c_;function ac(n,i,r){let o=n.value||"",a="`",l=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(o);)a+="`";for(/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^`|`$/.test(o))&&(o=" "+o+" ");++l<r.unsafe.length;){const c=r.unsafe[l],f=r.compilePattern(c);let p;if(c.atBreak)for(;p=f.exec(o);){let d=p.index;o.charCodeAt(d)===10&&o.charCodeAt(d-1)===13&&d--,o=o.slice(0,d)+" "+o.slice(p.index+1)}}return a+o+a}function c_(){return"`"}function sc(n,i){const r=xo(n);return!!(!i.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(r===n.url||"mailto:"+r===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}lc.peek=f_;function lc(n,i,r,o){const a=vo(r),l=a==='"'?"Quote":"Apostrophe",c=r.createTracker(o);let f,p;if(sc(n,r)){const x=r.stack;r.stack=[],f=r.enter("autolink");let w=c.move("<");return w+=c.move(r.containerPhrasing(n,{before:w,after:">",...c.current()})),w+=c.move(">"),f(),r.stack=x,w}f=r.enter("link"),p=r.enter("label");let d=c.move("[");return d+=c.move(r.containerPhrasing(n,{before:d,after:"](",...c.current()})),d+=c.move("]("),p(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(p=r.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(r.safe(n.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(p=r.enter("destinationRaw"),d+=c.move(r.safe(n.url,{before:d,after:n.title?" ":")",...c.current()}))),p(),n.title&&(p=r.enter(`title${l}`),d+=c.move(" "+a),d+=c.move(r.safe(n.title,{before:d,after:a,...c.current()})),d+=c.move(a),p()),d+=c.move(")"),f(),d}function f_(n,i,r){return sc(n,r)?"<":"["}cc.peek=h_;function cc(n,i,r,o){const a=n.referenceType,l=r.enter("linkReference");let c=r.enter("label");const f=r.createTracker(o);let p=f.move("[");const d=r.containerPhrasing(n,{before:p,after:"]",...f.current()});p+=f.move(d+"]["),c();const x=r.stack;r.stack=[],c=r.enter("reference");const w=r.safe(r.associationId(n),{before:p,after:"]",...f.current()});return c(),r.stack=x,l(),a==="full"||!d||d!==w?p+=f.move(w+"]"):a==="shortcut"?p=p.slice(0,-1):p+=f.move("]"),p}function h_(){return"["}function ko(n){const i=n.options.bullet||"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bullet`, expected `*`, `+`, or `-`");return i}function d_(n){const i=ko(n),r=n.options.bulletOther;if(!r)return i==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===i)throw new Error("Expected `bullet` (`"+i+"`) and `bulletOther` (`"+r+"`) to be different");return r}function p_(n){const i=n.options.bulletOrdered||".";if(i!=="."&&i!==")")throw new Error("Cannot serialize items with `"+i+"` for `options.bulletOrdered`, expected `.` or `)`");return i}function fc(n){const i=n.options.rule||"*";if(i!=="*"&&i!=="-"&&i!=="_")throw new Error("Cannot serialize rules with `"+i+"` for `options.rule`, expected `*`, `-`, or `_`");return i}function g_(n,i,r,o){const a=r.enter("list"),l=r.bulletCurrent;let c=n.ordered?p_(r):ko(r);const f=n.ordered?c==="."?")":".":d_(r);let p=i&&r.bulletLastUsed?c===r.bulletLastUsed:!1;if(!n.ordered){const x=n.children?n.children[0]:void 0;if((c==="*"||c==="-")&&x&&(!x.children||!x.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(p=!0),fc(r)===c&&x){let w=-1;for(;++w<n.children.length;){const S=n.children[w];if(S&&S.type==="listItem"&&S.children&&S.children[0]&&S.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=f),r.bulletCurrent=c;const d=r.containerFlow(n,o);return r.bulletLastUsed=c,r.bulletCurrent=l,a(),d}function m_(n){const i=n.options.listItemIndent||"one";if(i!=="tab"&&i!=="one"&&i!=="mixed")throw new Error("Cannot serialize items with `"+i+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return i}function x_(n,i,r,o){const a=m_(r);let l=r.bulletCurrent||ko(r);i&&i.type==="list"&&i.ordered&&(l=(typeof i.start=="number"&&i.start>-1?i.start:1)+(r.options.incrementListMarker===!1?0:i.children.indexOf(n))+l);let c=l.length+1;(a==="tab"||a==="mixed"&&(i&&i.type==="list"&&i.spread||n.spread))&&(c=Math.ceil(c/4)*4);const f=r.createTracker(o);f.move(l+" ".repeat(c-l.length)),f.shift(c);const p=r.enter("listItem"),d=r.indentLines(r.containerFlow(n,f.current()),x);return p(),d;function x(w,S,_){return S?(_?"":" ".repeat(c))+w:(_?l:l+" ".repeat(c-l.length))+w}}function w_(n,i,r,o){const a=r.enter("paragraph"),l=r.enter("phrasing"),c=r.containerPhrasing(n,o);return l(),a(),c}const y_=bo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function __(n,i,r,o){return(n.children.some(function(c){return y_(c)})?r.containerPhrasing:r.containerFlow).call(r,n,o)}function v_(n){const i=n.options.strong||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize strong with `"+i+"` for `options.strong`, expected `*`, or `_`");return i}hc.peek=b_;function hc(n,i,r,o){const a=v_(r),l=r.enter("strong"),c=r.createTracker(o),f=c.move(a+a);let p=c.move(r.containerPhrasing(n,{after:a,before:f,...c.current()}));const d=p.charCodeAt(0),x=Ei(o.before.charCodeAt(o.before.length-1),d,a);x.inside&&(p=_t(d)+p.slice(1));const w=p.charCodeAt(p.length-1),S=Ei(o.after.charCodeAt(0),w,a);S.inside&&(p=p.slice(0,-1)+_t(w));const _=c.move(a+a);return l(),r.attentionEncodeSurroundingInfo={after:S.outside,before:x.outside},f+p+_}function b_(n,i,r){return r.options.strong||"*"}function k_(n,i,r,o){return r.safe(n.value,o)}function S_(n){const i=n.options.ruleRepetition||3;if(i<3)throw new Error("Cannot serialize rules with repetition `"+i+"` for `options.ruleRepetition`, expected `3` or more");return i}function C_(n,i,r){const o=(fc(r)+(r.options.ruleSpaces?" ":"")).repeat(S_(r));return r.options.ruleSpaces?o.slice(0,-1):o}const I_={blockquote:qy,break:Pl,code:Gy,definition:Qy,emphasis:nc,hardBreak:Pl,heading:o_,html:ic,image:uc,imageReference:oc,inlineCode:ac,link:lc,linkReference:cc,list:g_,listItem:x_,paragraph:w_,root:__,strong:hc,text:k_,thematicBreak:C_},E_=[A_];function A_(n,i,r,o){if(i.type==="code"&&co(i,o)&&(n.type==="list"||n.type===i.type&&co(n,o)))return!1;if("spread"in r&&typeof r.spread=="boolean")return n.type==="paragraph"&&(n.type===i.type||i.type==="definition"||i.type==="heading"&&rc(i,o))?void 0:r.spread?1:0}const Dt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],T_=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Dt},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Dt},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Dt},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Dt},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Dt},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Dt},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Dt},{atBreak:!0,character:"~"}];function P_(n){return n.label||!n.identifier?n.label||"":Xl(n.identifier)}function F_(n){if(!n._compiled){const i=(n.atBreak?"[\\r\\n][\\t ]*":"")+(n.before?"(?:"+n.before+")":"");n._compiled=new RegExp((i?"("+i+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(n.after?"(?:"+n.after+")":""),"g")}return n._compiled}function L_(n,i,r){const o=i.indexStack,a=n.children||[],l=[];let c=-1,f=r.before,p;o.push(-1);let d=i.createTracker(r);for(;++c<a.length;){const x=a[c];let w;if(o[o.length-1]=c,c+1<a.length){let N=i.handle.handlers[a[c+1].type];N&&N.peek&&(N=N.peek),w=N?N(a[c+1],n,i,{before:"",after:"",...d.current()}).charAt(0):""}else w=r.after;l.length>0&&(f==="\r"||f===`
`)&&x.type==="html"&&(l[l.length-1]=l[l.length-1].replace(/(\r?\n|\r)$/," "),f=" ",d=i.createTracker(r),d.move(l.join("")));let S=i.handle(x,n,i,{...d.current(),after:w,before:f});p&&p===S.slice(0,1)&&(S=_t(p.charCodeAt(0))+S.slice(1));const _=i.attentionEncodeSurroundingInfo;i.attentionEncodeSurroundingInfo=void 0,p=void 0,_&&(l.length>0&&_.before&&f===l[l.length-1].slice(-1)&&(l[l.length-1]=l[l.length-1].slice(0,-1)+_t(f.charCodeAt(0))),_.after&&(p=w)),d.move(S),l.push(S),f=S.slice(-1)}return o.pop(),l.join("")}function O_(n,i,r){const o=i.indexStack,a=n.children||[],l=i.createTracker(r),c=[];let f=-1;for(o.push(-1);++f<a.length;){const p=a[f];o[o.length-1]=f,c.push(l.move(i.handle(p,n,i,{before:`
`,after:`
`,...l.current()}))),p.type!=="list"&&(i.bulletLastUsed=void 0),f<a.length-1&&c.push(l.move(M_(p,a[f+1],n,i)))}return o.pop(),c.join("")}function M_(n,i,r,o){let a=o.join.length;for(;a--;){const l=o.join[a](n,i,r,o);if(l===!0||l===1)break;if(typeof l=="number")return`
`.repeat(1+l);if(l===!1)return`

<!---->

`}return`

`}const R_=/\r?\n|\r/g;function B_(n,i){const r=[];let o=0,a=0,l;for(;l=R_.exec(n);)c(n.slice(o,l.index)),r.push(l[0]),o=l.index+l[0].length,a++;return c(n.slice(o)),r.join("");function c(f){r.push(i(f,a,!f))}}function D_(n,i,r){const o=(r.before||"")+(i||"")+(r.after||""),a=[],l=[],c={};let f=-1;for(;++f<n.unsafe.length;){const x=n.unsafe[f];if(!ec(n.stack,x))continue;const w=n.compilePattern(x);let S;for(;S=w.exec(o);){const _="before"in x||!!x.atBreak,N="after"in x,D=S.index+(_?S[1].length:0);a.includes(D)?(c[D].before&&!_&&(c[D].before=!1),c[D].after&&!N&&(c[D].after=!1)):(a.push(D),c[D]={before:_,after:N})}}a.sort(z_);let p=r.before?r.before.length:0;const d=o.length-(r.after?r.after.length:0);for(f=-1;++f<a.length;){const x=a[f];x<p||x>=d||x+1<d&&a[f+1]===x+1&&c[x].after&&!c[x+1].before&&!c[x+1].after||a[f-1]===x-1&&c[x].before&&!c[x-1].before&&!c[x-1].after||(p!==x&&l.push(Fl(o.slice(p,x),"\\")),p=x,/[!-/:-@[-`{-~]/.test(o.charAt(x))&&(!r.encode||!r.encode.includes(o.charAt(x)))?l.push("\\"):(l.push(_t(o.charCodeAt(x))),p++))}return l.push(Fl(o.slice(p,d),r.after)),l.join("")}function z_(n,i){return n-i}function Fl(n,i){const r=/\\(?=[!-/:-@[-`{-~])/g,o=[],a=[],l=n+i;let c=-1,f=0,p;for(;p=r.exec(l);)o.push(p.index);for(;++c<o.length;)f!==o[c]&&a.push(n.slice(f,o[c])),a.push("\\"),f=o[c];return a.push(n.slice(f)),a.join("")}function N_(n){const i=n||{},r=i.now||{};let o=i.lineShift||0,a=r.line||1,l=r.column||1;return{move:p,current:c,shift:f};function c(){return{now:{line:a,column:l},lineShift:o}}function f(d){o+=d}function p(d){const x=d||"",w=x.split(/\r?\n|\r/g),S=w[w.length-1];return a+=w.length-1,l=w.length===1?l+S.length:1+S.length+o,x}}function W_(n,i){const r=i||{},o={associationId:P_,containerPhrasing:H_,containerFlow:Y_,createTracker:N_,compilePattern:F_,enter:l,handlers:{...I_},handle:void 0,indentLines:B_,indexStack:[],join:[...E_],options:{},safe:G_,stack:[],unsafe:[...T_]};jl(o,r),o.options.tightDefinitions&&o.join.push(U_),o.handle=Ny("type",{invalid:$_,unknown:q_,handlers:o.handlers});let a=o.handle(n,void 0,o,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return a&&a.charCodeAt(a.length-1)!==10&&a.charCodeAt(a.length-1)!==13&&(a+=`
`),a;function l(c){return o.stack.push(c),f;function f(){o.stack.pop()}}}function $_(n){throw new Error("Cannot handle value `"+n+"`, expected node")}function q_(n){const i=n;throw new Error("Cannot handle unknown node `"+i.type+"`")}function U_(n,i){if(n.type==="definition"&&n.type===i.type)return 0}function H_(n,i){return L_(n,this,i)}function Y_(n,i){return O_(n,this,i)}function G_(n,i){return D_(this,n,i)}function dc(n){const i=this;i.compiler=r;function r(o){return W_(o,{...i.data("settings"),...n,extensions:i.data("toMarkdownExtensions")||[]})}}const Un={text:"text",boolean:"boolean",multicheckbox:"multicheckbox",richText:"richText",number:"number"};class V_{constructor(){this.logger=vt(bt.InputCreator)}createInput(i){const{componentName:r,inputName:o,type:a}=i;let l="";try{switch(a){case Un.text:case Un.richText:{l=`> ${i.defaultValue??""}`;break}case Un.boolean:{const c=i.defaultValue===!0?"x":" ",f=i.label??"Checkbox";l=`- [${c}] ${f}`;break}case Un.multicheckbox:{const c=i.options??[];if(!c.length)throw this.logger.error("multicheckbox must have non-empty options array",{opts:i}),new Error("multicheckbox must have non-empty options array");l=c.map(f=>`- [ ] ${ro.hiddenValue(r,o,f.value)} ${f.label}`).join(`
`);break}case Un.number:{l=`> {Number} ${i.defaultValue??""}`;break}default:throw this.logger.error(`Unknown input type: ${a}`,{opts:i}),new Error("Unknown input type: "+a)}}catch(c){throw this.logger.error("Failed to create input",{error:c,opts:i}),c}return ro.input.wrap({componentName:r,inputName:o,content:l,inputType:a})}parseMarkdown(i){try{return Ci().use(Zl).parse(i)}catch(r){throw this.logger.error("Failed to parse Markdown",{error:r,md:i}),r}}stringifyMarkdown(i){try{return Ci().use(dc).stringify(i)}catch(r){throw this.logger.error("Failed to stringify Markdown",{error:r,ast:i}),r}}}const rr=new V_;class Q_{constructor(i){this.content=[],this.logger=vt(bt.ComponentBuilder),this.componentName=i}_md(i){const r=typeof i=="function"?i():i;return this.content.push(r),this}_guidance(i){const r=i??`> [!note] Guidance  
Keep it simple — research shows even a basic ticksheet improves habit consistency.
Prompts: Which habits do you want to track today?`;return this.content.push(r),this}_input(i){const r={...i,componentName:this.componentName};return this.content.push(rr.createInput(r)),this}_text(i,r,o){const a=rr.createInput({componentName:this.componentName,type:Un.text,inputName:i,defaultValue:r,placeholder:o});return this.content.push(a),this}_richText(i,r,o){const a=rr.createInput({componentName:this.componentName,type:Un.richText,inputName:i,defaultValue:r,placeholder:o});return this.content.push(a),this}_boolean(i,r,o){const a=rr.createInput({componentName:this.componentName,type:Un.boolean,inputName:i,label:r,defaultValue:o});return this.content.push(a),this}_number(i,r){const o=rr.createInput({componentName:this.componentName,type:Un.number,inputName:i,defaultValue:r});return this.content.push(o),this}_multiCheckbox(i,r,o,a,l){const c=rr.createInput({componentName:this.componentName,type:Un.multicheckbox,inputName:i,options:r,defaultValue:o,singleChoice:a,collapsed:l});return this.content.push(c),this}render(){const i=ro.component.wrap(this.componentName,this.content.join(`

`));return this.logger.dev("Component rendered",{outputLength:i.length}),i}}function X_(){const n="habitTracking",i=new Q_(n);return Hn.habits.forEach(o=>{o.active&&(i._boolean(o.id,o.label),i._md(`*Cue*. ${o.cue} · *Reward*. ${o.reward}`))}),i.render()}const pc={almostDailyReport:{folder:"l1almostDailyReport",name:"Daily Report"},"10daysReport":{folder:"l2tenL1ReportsReview",name:"10 Days Review"},"30daysReport":{folder:"l3ThreeL2Review",name:"30 Days Review"},"150daysReport":{folder:"l4FiveL3Review",name:"150 Days Review"}},pn=vt(bt.SavingService),po={get baseOutput(){return`${Hn?.projectDir??"vault"}/${Hn?.outputDir??"outputs"}`},get fileExtension(){return Hn?.reportFileExtension??".md"},get reportFolders(){const n={};for(const[i,{folder:r}]of Object.entries(pc))n[i]=`${this.baseOutput}/${r}`;return n},_today(){return Dl(new Date,"yyyyMMdd")},async _ensureFolder(n){ze.vault.getAbstractFileByPath(n)||(pn.dev(`Creating folder: ${n}`),await ze.vault.createFolder(n))},async _listFiles(n){await this._ensureFolder(n);const i=ze.vault.getAbstractFileByPath(n);return!i||!i.children?[]:i.children.filter(r=>"extension"in r&&r.extension==="md").map(r=>r.name)},async _openFile(n){try{pn.dev(`_openFile start: ${n.path}`);const i=ze.workspace.getLeaf(!0);if(await i.openFile(n),pn.dev(`Main leaf opened file: ${n.path}`),Hn?.devMode){const r=ze.workspace.createLeafBySplit(i,"vertical",!1);await r.openFile(n);const o={type:"markdown",state:{file:n.path,mode:"source"}};try{await r.setViewState(o),pn.dev("DevMode: right leaf forced to source mode")}catch(a){pn.warn(`Failed to force right leaf to source mode: ${a.message}`)}}}catch(i){pn.error(`Failed to open file ${n.path}: ${i.message}`)}},async write(n){const i=n.data??n.content;if(!i)throw new Error("No content provided for write()");const r=this.reportFolders[n.type];if(!r)throw new Error(`Unknown report type: ${n.type}`);await this._ensureFolder(r);const o=this._today(),l=(await this._listFiles(r)).length+1,c=String(l).padStart(5,"0"),f=`${o}-${c}-${n.type}${this.fileExtension}`,p=`${r}/${f}`;if(ze.vault.getAbstractFileByPath(p))return pn.warn(`File already exists: ${p}. Skipping write.`),p;pn.info(`Writing new file: ${p}`);const x=await ze.vault.create(p,i);return n?.open!==!1&&await this._openFile(x),p},async writeGeneral(n,i,r=!1){let o;const a=ze.vault.getAbstractFileByPath(n);if(a)if("extension"in a)pn.info(`Overwriting existing file: ${n}`),await ze.vault.modify(a,i),o=a;else throw pn.error(`Path exists but is not a file: ${n}`),new Error(`Path exists but is not a file: ${n}`);else pn.info(`Creating new file: ${n}`),o=await ze.vault.create(n,i);return r&&await this._openFile(o),n},async delete(n){const i=ze.vault.getAbstractFileByPath(n);i?(pn.info(`Deleting file: ${n}`),await ze.vault.delete(i)):pn.warn(`Cannot delete; file not found: ${n}`)}};function K_(){const n=[X_()];po.write({type:"almostDailyReport",data:n.join(`
***
`)})}const Ll=vt(bt.ValueExtractor);class J_{extract(i){const r=Ci().use(Zl).parse(i),o=[],a=[],l={};ho(r,"html",c=>{const f=c.value;if(f.includes(Nt.input)){const p=this.getMeta(f);if(p){const d=this.key(p);l[d]||(l[d]={meta:p,content:[],hiddenValues:[]})}}else if(f.includes(Nt.hiddenValue)){const p=this.getMeta(f);if(p&&p.value){const d=this.key(p);l[d]||(l[d]={meta:p,content:[],hiddenValues:[]}),l[d].hiddenValues.push(p.value)}}}),ho(r,c=>{if(!(c.type==="html"||!(c.position?.start||{}).line)&&(c.value||c.children)){const p=Ci().use(dc).stringify(c);for(const d in l)l[d].content.push(p)}});for(const c in l){const{meta:f,content:p,hiddenValues:d}=l[c],x=p.join("").trim(),w=this.extractValue(f.inputType,x,d,f);w.errors.length>0&&a.push(...w.errors),o.push({componentName:f.componentName,inputName:f.inputName,inputType:f.inputType,value:w.value,errors:w.errors})}return Ll.dev("Extracted values",o),a.length>0&&Ll.error("Extraction errors:",a),o}getMeta(i){const r=i.match(/data-meta=(?:'([^']+)'|"([^"]+)")/);if(!r)return null;try{return JSON.parse(r[1]||r[2])}catch{return null}}key(i){return`${i.componentName}::${i.inputName}`}extractValue(i,r,o,a){const l=[];let c=null;switch(i){case"boolean":{r.includes("[x]")||r.includes("[X]")?c=!0:r.includes("[ ]")?c=!1:(l.push("Boolean input must be a markdown checkbox"),c=null);break}case"text":{const f=r.replace(/^>\s?/gm,"").trim();a.required&&!f&&l.push("Text input is required"),a.placeholder&&f===a.placeholder?c=null:c=f;break}case"richText":{const f=r.trim();a.required&&!f&&l.push("Rich text input is required"),a.placeholder&&f===a.placeholder?c=null:c=f;break}case"multicheckbox":{const f=[];r.split(`
`).forEach((d,x)=>{if(d.match(/\[(x|X)\]/)){const w=o[x];w&&f.push(w)}}),a.required&&f.length===0&&l.push("At least one option must be selected"),a.singleChoice?(f.length>1&&l.push(`Multiple checked values for singleChoice input: ${a.componentName}::${a.inputName} [${f.join(", ")}]`),c=f[0]??null):c=f;break}case"number":{const f=r.match(new RegExp("(?<!\\d)(\\d+(?:[.,]\\d+)?)"));f?(c=parseFloat(f[1].replace(",",".")),a.required&&(c==null||isNaN(c))&&l.push("Number input is required"),typeof c=="number"&&a.min!==void 0&&c<a.min&&l.push(`Number must be >= ${a.min}`),typeof c=="number"&&a.max!==void 0&&c>a.max&&l.push(`Number must be <= ${a.max}`)):(l.push("No number found"),c=null);break}default:c=r}return{value:c,errors:l}}}const Z_=new J_,Wn=vt(bt.InputCollector);class j_{constructor(i){this.getConfig=i}async collectFromYesterday(){Wn.dev("Starting collection of inputs from yesterday’s reports");const i={};this.getConfig();for(const[r,{folder:o,name:a}]of Object.entries(pc))try{const l=`${po.baseOutput}/${o}`;Wn.dev(`Checking folder "${l}" for report: ${r}`);const c=await po._listFiles(l);if(!c.length){Wn.warn(`No files found in "${l}" for report: ${r}`);continue}const f=c.sort().reverse()[0];if(!f.includes(r)){Wn.warn(`Newest file "${f}" in folder "${l}" does not match report type: ${r}`);continue}const p=`${l}/${f}`,d=ze.vault.getAbstractFileByPath(p);if(!d||!("vault"in ze)){Wn.error(`Could not load file for report ${r}`,{filePath:p});continue}const x=f.match(/^(\d{8})-(\d{5})-/);let w="",S="";x&&(w=`${x[1].slice(0,4)}-${x[1].slice(4,6)}-${x[1].slice(6,8)}`,S=x[2]),Wn.dev(`Reading file: "${p}"`);const _=await ze.vault.read(d),D=Z_.extract(_).map(Y=>({componentName:Y.componentName,inputName:Y.inputName,type:Y.inputType??"unknown",value:Y.value,errors:Y.errors&&Y.errors.length>0?Y.errors:void 0,reportType:r,reportDate:w,reportNumber:S}));i[r]=D,Wn.dev(`Parsed ${D.length} inputs for report: ${r}`)}catch(l){Wn.error(`Failed collecting inputs for ${r}`,{error:l})}return Wn.info(`InputCollector finished. Collected reports: ${Object.keys(i).length}`),Wn.dev("Collected inputs summary:",{collectedByReport:i}),i}}const ev=new j_(()=>Hn),wt=vt(bt.FileService);async function nv(n,i){wt.info("runPowerJournal started");const r=await ox(i);Z1(n,r),wt.dev("Globals set, config loaded");try{d0(),wt.dev("onStart executed successfully")}catch(a){wt.error("Error running onStart",{error:a})}let o=null;try{o=await ev.collectFromYesterday(),wt.dev("Input collection completed",{collected:o})}catch(a){wt.error("Error collecting inputs",{error:a})}try{K_(),wt.dev("Daily report built successfully")}catch(a){wt.error("Error building daily report",{error:a})}}module.exports=nv;
